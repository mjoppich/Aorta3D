(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[2],{

/***/ "./node_modules/html2canvas/dist/html2canvas.js":
/*!******************************************************!*\
  !*** ./node_modules/html2canvas/dist/html2canvas.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*!\n * html2canvas 1.0.0-rc.7 <https://html2canvas.hertzen.com>\n * Copyright (c) 2020 Niklas von Hertzen <https://hertzen.com>\n * Released under MIT License\n */\n(function (global, factory) {\n     true ? module.exports = factory() :\n    undefined;\n}(this, function () { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __awaiter(thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\n\n    var Bounds = /** @class */ (function () {\r\n        function Bounds(x, y, w, h) {\r\n            this.left = x;\r\n            this.top = y;\r\n            this.width = w;\r\n            this.height = h;\r\n        }\r\n        Bounds.prototype.add = function (x, y, w, h) {\r\n            return new Bounds(this.left + x, this.top + y, this.width + w, this.height + h);\r\n        };\r\n        Bounds.fromClientRect = function (clientRect) {\r\n            return new Bounds(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\r\n        };\r\n        return Bounds;\r\n    }());\r\n    var parseBounds = function (node) {\r\n        return Bounds.fromClientRect(node.getBoundingClientRect());\r\n    };\r\n    var parseDocumentSize = function (document) {\r\n        var body = document.body;\r\n        var documentElement = document.documentElement;\r\n        if (!body || !documentElement) {\r\n            throw new Error(\"Unable to get document size\");\r\n        }\r\n        var width = Math.max(Math.max(body.scrollWidth, documentElement.scrollWidth), Math.max(body.offsetWidth, documentElement.offsetWidth), Math.max(body.clientWidth, documentElement.clientWidth));\r\n        var height = Math.max(Math.max(body.scrollHeight, documentElement.scrollHeight), Math.max(body.offsetHeight, documentElement.offsetHeight), Math.max(body.clientHeight, documentElement.clientHeight));\r\n        return new Bounds(0, 0, width, height);\r\n    };\n\n    /*\n     * css-line-break 1.1.1 <https://github.com/niklasvh/css-line-break#readme>\n     * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>\n     * Released under MIT License\n     */\n    var toCodePoints = function (str) {\r\n        var codePoints = [];\r\n        var i = 0;\r\n        var length = str.length;\r\n        while (i < length) {\r\n            var value = str.charCodeAt(i++);\r\n            if (value >= 0xd800 && value <= 0xdbff && i < length) {\r\n                var extra = str.charCodeAt(i++);\r\n                if ((extra & 0xfc00) === 0xdc00) {\r\n                    codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\r\n                }\r\n                else {\r\n                    codePoints.push(value);\r\n                    i--;\r\n                }\r\n            }\r\n            else {\r\n                codePoints.push(value);\r\n            }\r\n        }\r\n        return codePoints;\r\n    };\r\n    var fromCodePoint = function () {\r\n        var codePoints = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            codePoints[_i] = arguments[_i];\r\n        }\r\n        if (String.fromCodePoint) {\r\n            return String.fromCodePoint.apply(String, codePoints);\r\n        }\r\n        var length = codePoints.length;\r\n        if (!length) {\r\n            return '';\r\n        }\r\n        var codeUnits = [];\r\n        var index = -1;\r\n        var result = '';\r\n        while (++index < length) {\r\n            var codePoint = codePoints[index];\r\n            if (codePoint <= 0xffff) {\r\n                codeUnits.push(codePoint);\r\n            }\r\n            else {\r\n                codePoint -= 0x10000;\r\n                codeUnits.push((codePoint >> 10) + 0xd800, codePoint % 0x400 + 0xdc00);\r\n            }\r\n            if (index + 1 === length || codeUnits.length > 0x4000) {\r\n                result += String.fromCharCode.apply(String, codeUnits);\r\n                codeUnits.length = 0;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n    // Use a lookup table to find the index.\r\n    var lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\r\n    for (var i = 0; i < chars.length; i++) {\r\n        lookup[chars.charCodeAt(i)] = i;\r\n    }\r\n    var decode = function (base64) {\r\n        var bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\r\n        if (base64[base64.length - 1] === '=') {\r\n            bufferLength--;\r\n            if (base64[base64.length - 2] === '=') {\r\n                bufferLength--;\r\n            }\r\n        }\r\n        var buffer = typeof ArrayBuffer !== 'undefined' &&\r\n            typeof Uint8Array !== 'undefined' &&\r\n            typeof Uint8Array.prototype.slice !== 'undefined'\r\n            ? new ArrayBuffer(bufferLength)\r\n            : new Array(bufferLength);\r\n        var bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\r\n        for (i = 0; i < len; i += 4) {\r\n            encoded1 = lookup[base64.charCodeAt(i)];\r\n            encoded2 = lookup[base64.charCodeAt(i + 1)];\r\n            encoded3 = lookup[base64.charCodeAt(i + 2)];\r\n            encoded4 = lookup[base64.charCodeAt(i + 3)];\r\n            bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\r\n            bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\r\n            bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\r\n        }\r\n        return buffer;\r\n    };\r\n    var polyUint16Array = function (buffer) {\r\n        var length = buffer.length;\r\n        var bytes = [];\r\n        for (var i = 0; i < length; i += 2) {\r\n            bytes.push((buffer[i + 1] << 8) | buffer[i]);\r\n        }\r\n        return bytes;\r\n    };\r\n    var polyUint32Array = function (buffer) {\r\n        var length = buffer.length;\r\n        var bytes = [];\r\n        for (var i = 0; i < length; i += 4) {\r\n            bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\r\n        }\r\n        return bytes;\r\n    };\n\n    /** Shift size for getting the index-2 table offset. */\r\n    var UTRIE2_SHIFT_2 = 5;\r\n    /** Shift size for getting the index-1 table offset. */\r\n    var UTRIE2_SHIFT_1 = 6 + 5;\r\n    /**\r\n     * Shift size for shifting left the index array values.\r\n     * Increases possible data size with 16-bit index values at the cost\r\n     * of compactability.\r\n     * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\r\n     */\r\n    var UTRIE2_INDEX_SHIFT = 2;\r\n    /**\r\n     * Difference between the two shift sizes,\r\n     * for getting an index-1 offset from an index-2 offset. 6=11-5\r\n     */\r\n    var UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\r\n    /**\r\n     * The part of the index-2 table for U+D800..U+DBFF stores values for\r\n     * lead surrogate code _units_ not code _points_.\r\n     * Values for lead surrogate code _points_ are indexed with this portion of the table.\r\n     * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\r\n     */\r\n    var UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\r\n    /** Number of entries in a data block. 32=0x20 */\r\n    var UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\r\n    /** Mask for getting the lower bits for the in-data-block offset. */\r\n    var UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\r\n    var UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\r\n    /** Count the lengths of both BMP pieces. 2080=0x820 */\r\n    var UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\r\n    /**\r\n     * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\r\n     * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\r\n     */\r\n    var UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\r\n    var UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\r\n    /**\r\n     * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\r\n     * Variable length, for code points up to highStart, where the last single-value range starts.\r\n     * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\r\n     * (For 0x100000 supplementary code points U+10000..U+10ffff.)\r\n     *\r\n     * The part of the index-2 table for supplementary code points starts\r\n     * after this index-1 table.\r\n     *\r\n     * Both the index-1 table and the following part of the index-2 table\r\n     * are omitted completely if there is only BMP data.\r\n     */\r\n    var UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\r\n    /**\r\n     * Number of index-1 entries for the BMP. 32=0x20\r\n     * This part of the index-1 table is omitted from the serialized form.\r\n     */\r\n    var UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\r\n    /** Number of entries in an index-2 block. 64=0x40 */\r\n    var UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\r\n    /** Mask for getting the lower bits for the in-index-2-block offset. */\r\n    var UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\r\n    var slice16 = function (view, start, end) {\r\n        if (view.slice) {\r\n            return view.slice(start, end);\r\n        }\r\n        return new Uint16Array(Array.prototype.slice.call(view, start, end));\r\n    };\r\n    var slice32 = function (view, start, end) {\r\n        if (view.slice) {\r\n            return view.slice(start, end);\r\n        }\r\n        return new Uint32Array(Array.prototype.slice.call(view, start, end));\r\n    };\r\n    var createTrieFromBase64 = function (base64) {\r\n        var buffer = decode(base64);\r\n        var view32 = Array.isArray(buffer) ? polyUint32Array(buffer) : new Uint32Array(buffer);\r\n        var view16 = Array.isArray(buffer) ? polyUint16Array(buffer) : new Uint16Array(buffer);\r\n        var headerLength = 24;\r\n        var index = slice16(view16, headerLength / 2, view32[4] / 2);\r\n        var data = view32[5] === 2\r\n            ? slice16(view16, (headerLength + view32[4]) / 2)\r\n            : slice32(view32, Math.ceil((headerLength + view32[4]) / 4));\r\n        return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\r\n    };\r\n    var Trie = /** @class */ (function () {\r\n        function Trie(initialValue, errorValue, highStart, highValueIndex, index, data) {\r\n            this.initialValue = initialValue;\r\n            this.errorValue = errorValue;\r\n            this.highStart = highStart;\r\n            this.highValueIndex = highValueIndex;\r\n            this.index = index;\r\n            this.data = data;\r\n        }\r\n        /**\r\n         * Get the value for a code point as stored in the Trie.\r\n         *\r\n         * @param codePoint the code point\r\n         * @return the value\r\n         */\r\n        Trie.prototype.get = function (codePoint) {\r\n            var ix;\r\n            if (codePoint >= 0) {\r\n                if (codePoint < 0x0d800 || (codePoint > 0x0dbff && codePoint <= 0x0ffff)) {\r\n                    // Ordinary BMP code point, excluding leading surrogates.\r\n                    // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\r\n                    // 16 bit data is stored in the index array itself.\r\n                    ix = this.index[codePoint >> UTRIE2_SHIFT_2];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint <= 0xffff) {\r\n                    // Lead Surrogate Code Point.  A Separate index section is stored for\r\n                    // lead surrogate code units and code points.\r\n                    //   The main index has the code unit data.\r\n                    //   For this function, we need the code point data.\r\n                    // Note: this expression could be refactored for slightly improved efficiency, but\r\n                    //       surrogate code points will be so rare in practice that it's not worth it.\r\n                    ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + ((codePoint - 0xd800) >> UTRIE2_SHIFT_2)];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint < this.highStart) {\r\n                    // Supplemental code point, use two-level lookup.\r\n                    ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\r\n                    ix = this.index[ix];\r\n                    ix += (codePoint >> UTRIE2_SHIFT_2) & UTRIE2_INDEX_2_MASK;\r\n                    ix = this.index[ix];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint <= 0x10ffff) {\r\n                    return this.data[this.highValueIndex];\r\n                }\r\n            }\r\n            // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\r\n            return this.errorValue;\r\n        };\r\n        return Trie;\r\n    }());\n\n    var base64 = 'KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA';\n\n    /* @flow */\r\n    var LETTER_NUMBER_MODIFIER = 50;\r\n    // Non-tailorable Line Breaking Classes\r\n    var BK = 1; //  Cause a line break (after)\r\n    var CR = 2; //  Cause a line break (after), except between CR and LF\r\n    var LF = 3; //  Cause a line break (after)\r\n    var CM = 4; //  Prohibit a line break between the character and the preceding character\r\n    var NL = 5; //  Cause a line break (after)\r\n    var WJ = 7; //  Prohibit line breaks before and after\r\n    var ZW = 8; //  Provide a break opportunity\r\n    var GL = 9; //  Prohibit line breaks before and after\r\n    var SP = 10; // Enable indirect line breaks\r\n    var ZWJ = 11; // Prohibit line breaks within joiner sequences\r\n    // Break Opportunities\r\n    var B2 = 12; //  Provide a line break opportunity before and after the character\r\n    var BA = 13; //  Generally provide a line break opportunity after the character\r\n    var BB = 14; //  Generally provide a line break opportunity before the character\r\n    var HY = 15; //  Provide a line break opportunity after the character, except in numeric context\r\n    var CB = 16; //   Provide a line break opportunity contingent on additional information\r\n    // Characters Prohibiting Certain Breaks\r\n    var CL = 17; //  Prohibit line breaks before\r\n    var CP = 18; //  Prohibit line breaks before\r\n    var EX = 19; //  Prohibit line breaks before\r\n    var IN = 20; //  Allow only indirect line breaks between pairs\r\n    var NS = 21; //  Allow only indirect line breaks before\r\n    var OP = 22; //  Prohibit line breaks after\r\n    var QU = 23; //  Act like they are both opening and closing\r\n    // Numeric Context\r\n    var IS = 24; //  Prevent breaks after any and before numeric\r\n    var NU = 25; //  Form numeric expressions for line breaking purposes\r\n    var PO = 26; //  Do not break following a numeric expression\r\n    var PR = 27; //  Do not break in front of a numeric expression\r\n    var SY = 28; //  Prevent a break before; and allow a break after\r\n    // Other Characters\r\n    var AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID\r\n    var AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters\r\n    var CJ = 31; //  Treat as NS or ID for strict or normal breaking.\r\n    var EB = 32; //  Do not break from following Emoji Modifier\r\n    var EM = 33; //  Do not break from preceding Emoji Base\r\n    var H2 = 34; //  Form Korean syllable blocks\r\n    var H3 = 35; //  Form Korean syllable blocks\r\n    var HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic\r\n    var ID = 37; //  Break before or after; except in some numeric context\r\n    var JL = 38; //  Form Korean syllable blocks\r\n    var JV = 39; //  Form Korean syllable blocks\r\n    var JT = 40; //  Form Korean syllable blocks\r\n    var RI = 41; //  Keep pairs together. For pairs; break before and after other classes\r\n    var SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis\r\n    var XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions\r\n    var BREAK_MANDATORY = '!';\r\n    var BREAK_NOT_ALLOWED = '';\r\n    var BREAK_ALLOWED = '';\r\n    var UnicodeTrie = createTrieFromBase64(base64);\r\n    var ALPHABETICS = [AL, HL];\r\n    var HARD_LINE_BREAKS = [BK, CR, LF, NL];\r\n    var SPACE = [SP, ZW];\r\n    var PREFIX_POSTFIX = [PR, PO];\r\n    var LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE);\r\n    var KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];\r\n    var HYPHEN = [HY, BA];\r\n    var codePointsToCharacterClasses = function (codePoints, lineBreak) {\r\n        if (lineBreak === void 0) { lineBreak = 'strict'; }\r\n        var types = [];\r\n        var indicies = [];\r\n        var categories = [];\r\n        codePoints.forEach(function (codePoint, index) {\r\n            var classType = UnicodeTrie.get(codePoint);\r\n            if (classType > LETTER_NUMBER_MODIFIER) {\r\n                categories.push(true);\r\n                classType -= LETTER_NUMBER_MODIFIER;\r\n            }\r\n            else {\r\n                categories.push(false);\r\n            }\r\n            if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {\r\n                // U+2010,  U+2013,  U+301C,  U+30A0\r\n                if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {\r\n                    indicies.push(index);\r\n                    return types.push(CB);\r\n                }\r\n            }\r\n            if (classType === CM || classType === ZWJ) {\r\n                // LB10 Treat any remaining combining mark or ZWJ as AL.\r\n                if (index === 0) {\r\n                    indicies.push(index);\r\n                    return types.push(AL);\r\n                }\r\n                // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of\r\n                // the base character in all of the following rules. Treat ZWJ as if it were CM.\r\n                var prev = types[index - 1];\r\n                if (LINE_BREAKS.indexOf(prev) === -1) {\r\n                    indicies.push(indicies[index - 1]);\r\n                    return types.push(prev);\r\n                }\r\n                indicies.push(index);\r\n                return types.push(AL);\r\n            }\r\n            indicies.push(index);\r\n            if (classType === CJ) {\r\n                return types.push(lineBreak === 'strict' ? NS : ID);\r\n            }\r\n            if (classType === SA) {\r\n                return types.push(AL);\r\n            }\r\n            if (classType === AI) {\r\n                return types.push(AL);\r\n            }\r\n            // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL\r\n            // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised\r\n            // to take into account the actual line breaking properties for these characters.\r\n            if (classType === XX) {\r\n                if ((codePoint >= 0x20000 && codePoint <= 0x2fffd) || (codePoint >= 0x30000 && codePoint <= 0x3fffd)) {\r\n                    return types.push(ID);\r\n                }\r\n                else {\r\n                    return types.push(AL);\r\n                }\r\n            }\r\n            types.push(classType);\r\n        });\r\n        return [indicies, types, categories];\r\n    };\r\n    var isAdjacentWithSpaceIgnored = function (a, b, currentIndex, classTypes) {\r\n        var current = classTypes[currentIndex];\r\n        if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {\r\n            var i = currentIndex;\r\n            while (i <= classTypes.length) {\r\n                i++;\r\n                var next = classTypes[i];\r\n                if (next === b) {\r\n                    return true;\r\n                }\r\n                if (next !== SP) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (current === SP) {\r\n            var i = currentIndex;\r\n            while (i > 0) {\r\n                i--;\r\n                var prev = classTypes[i];\r\n                if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {\r\n                    var n = currentIndex;\r\n                    while (n <= classTypes.length) {\r\n                        n++;\r\n                        var next = classTypes[n];\r\n                        if (next === b) {\r\n                            return true;\r\n                        }\r\n                        if (next !== SP) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (prev !== SP) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    var previousNonSpaceClassType = function (currentIndex, classTypes) {\r\n        var i = currentIndex;\r\n        while (i >= 0) {\r\n            var type = classTypes[i];\r\n            if (type === SP) {\r\n                i--;\r\n            }\r\n            else {\r\n                return type;\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    var _lineBreakAtIndex = function (codePoints, classTypes, indicies, index, forbiddenBreaks) {\r\n        if (indicies[index] === 0) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        var currentIndex = index - 1;\r\n        if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        var beforeIndex = currentIndex - 1;\r\n        var afterIndex = currentIndex + 1;\r\n        var current = classTypes[currentIndex];\r\n        // LB4 Always break after hard line breaks.\r\n        // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.\r\n        var before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;\r\n        var next = classTypes[afterIndex];\r\n        if (current === CR && next === LF) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        if (HARD_LINE_BREAKS.indexOf(current) !== -1) {\r\n            return BREAK_MANDATORY;\r\n        }\r\n        // LB6 Do not break before hard line breaks.\r\n        if (HARD_LINE_BREAKS.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB7 Do not break before spaces or zero width space.\r\n        if (SPACE.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.\r\n        if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {\r\n            return BREAK_ALLOWED;\r\n        }\r\n        // LB8a Do not break between a zero width joiner and an ideograph, emoji base or emoji modifier.\r\n        if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ && (next === ID || next === EB || next === EM)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB11 Do not break before or after Word joiner and related characters.\r\n        if (current === WJ || next === WJ) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB12 Do not break after NBSP and related characters.\r\n        if (current === GL) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.\r\n        if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB13 Do not break before ] or ! or ; or /, even after spaces.\r\n        if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB14 Do not break after [, even after spaces.\r\n        if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB15 Do not break within [, even with intervening spaces.\r\n        if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.\r\n        if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB17 Do not break within , even with intervening spaces.\r\n        if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB18 Break after spaces.\r\n        if (current === SP) {\r\n            return BREAK_ALLOWED;\r\n        }\r\n        // LB19 Do not break before or after quotation marks, such as   .\r\n        if (current === QU || next === QU) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB20 Break before and after unresolved CB.\r\n        if (next === CB || current === CB) {\r\n            return BREAK_ALLOWED;\r\n        }\r\n        // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.\r\n        if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB21a Don't break after Hebrew + Hyphen.\r\n        if (before === HL && HYPHEN.indexOf(current) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB21b Dont break between Solidus and Hebrew letters.\r\n        if (current === SY && next === HL) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB22 Do not break between two ellipses, or between letters, numbers or exclamations and ellipsis.\r\n        if (next === IN && ALPHABETICS.concat(IN, EX, NU, ID, EB, EM).indexOf(current) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB23 Do not break between digits and letters.\r\n        if ((ALPHABETICS.indexOf(next) !== -1 && current === NU) || (ALPHABETICS.indexOf(current) !== -1 && next === NU)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.\r\n        if ((current === PR && [ID, EB, EM].indexOf(next) !== -1) ||\r\n            ([ID, EB, EM].indexOf(current) !== -1 && next === PO)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.\r\n        if ((ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1) ||\r\n            (PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB25 Do not break between the following pairs of classes relevant to numbers:\r\n        if (\r\n        // (PR | PO)  ( OP | HY )? NU\r\n        ([PR, PO].indexOf(current) !== -1 &&\r\n            (next === NU || ([OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU))) ||\r\n            // ( OP | HY )  NU\r\n            ([OP, HY].indexOf(current) !== -1 && next === NU) ||\r\n            // NU \t(NU | SY | IS)\r\n            (current === NU && [NU, SY, IS].indexOf(next) !== -1)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // NU (NU | SY | IS)*  (NU | SY | IS | CL | CP)\r\n        if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {\r\n            var prevIndex = currentIndex;\r\n            while (prevIndex >= 0) {\r\n                var type = classTypes[prevIndex];\r\n                if (type === NU) {\r\n                    return BREAK_NOT_ALLOWED;\r\n                }\r\n                else if ([SY, IS].indexOf(type) !== -1) {\r\n                    prevIndex--;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // NU (NU | SY | IS)* (CL | CP)?  (PO | PR))\r\n        if ([PR, PO].indexOf(next) !== -1) {\r\n            var prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;\r\n            while (prevIndex >= 0) {\r\n                var type = classTypes[prevIndex];\r\n                if (type === NU) {\r\n                    return BREAK_NOT_ALLOWED;\r\n                }\r\n                else if ([SY, IS].indexOf(type) !== -1) {\r\n                    prevIndex--;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // LB26 Do not break a Korean syllable.\r\n        if ((JL === current && [JL, JV, H2, H3].indexOf(next) !== -1) ||\r\n            ([JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1) ||\r\n            ([JT, H3].indexOf(current) !== -1 && next === JT)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB27 Treat a Korean Syllable Block the same as ID.\r\n        if ((KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1) ||\r\n            (KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB28 Do not break between alphabetics (at).\r\n        if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB29 Do not break between numeric punctuation and alphabetics (e.g.).\r\n        if (current === IS && ALPHABETICS.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.\r\n        if ((ALPHABETICS.concat(NU).indexOf(current) !== -1 && next === OP) ||\r\n            (ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB30a Break between two regional indicator symbols if and only if there are an even number of regional\r\n        // indicators preceding the position of the break.\r\n        if (current === RI && next === RI) {\r\n            var i = indicies[currentIndex];\r\n            var count = 1;\r\n            while (i > 0) {\r\n                i--;\r\n                if (classTypes[i] === RI) {\r\n                    count++;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n            if (count % 2 !== 0) {\r\n                return BREAK_NOT_ALLOWED;\r\n            }\r\n        }\r\n        // LB30b Do not break between an emoji base and an emoji modifier.\r\n        if (current === EB && next === EM) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        return BREAK_ALLOWED;\r\n    };\r\n    var cssFormattedClasses = function (codePoints, options) {\r\n        if (!options) {\r\n            options = { lineBreak: 'normal', wordBreak: 'normal' };\r\n        }\r\n        var _a = codePointsToCharacterClasses(codePoints, options.lineBreak), indicies = _a[0], classTypes = _a[1], isLetterNumber = _a[2];\r\n        if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {\r\n            classTypes = classTypes.map(function (type) { return ([NU, AL, SA].indexOf(type) !== -1 ? ID : type); });\r\n        }\r\n        var forbiddenBreakpoints = options.wordBreak === 'keep-all'\r\n            ? isLetterNumber.map(function (letterNumber, i) {\r\n                return letterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;\r\n            })\r\n            : undefined;\r\n        return [indicies, classTypes, forbiddenBreakpoints];\r\n    };\r\n    var Break = /** @class */ (function () {\r\n        function Break(codePoints, lineBreak, start, end) {\r\n            this.codePoints = codePoints;\r\n            this.required = lineBreak === BREAK_MANDATORY;\r\n            this.start = start;\r\n            this.end = end;\r\n        }\r\n        Break.prototype.slice = function () {\r\n            return fromCodePoint.apply(void 0, this.codePoints.slice(this.start, this.end));\r\n        };\r\n        return Break;\r\n    }());\r\n    var LineBreaker = function (str, options) {\r\n        var codePoints = toCodePoints(str);\r\n        var _a = cssFormattedClasses(codePoints, options), indicies = _a[0], classTypes = _a[1], forbiddenBreakpoints = _a[2];\r\n        var length = codePoints.length;\r\n        var lastEnd = 0;\r\n        var nextIndex = 0;\r\n        return {\r\n            next: function () {\r\n                if (nextIndex >= length) {\r\n                    return { done: true, value: null };\r\n                }\r\n                var lineBreak = BREAK_NOT_ALLOWED;\r\n                while (nextIndex < length &&\r\n                    (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) ===\r\n                        BREAK_NOT_ALLOWED) { }\r\n                if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {\r\n                    var value = new Break(codePoints, lineBreak, lastEnd, nextIndex);\r\n                    lastEnd = nextIndex;\r\n                    return { value: value, done: false };\r\n                }\r\n                return { done: true, value: null };\r\n            },\r\n        };\r\n    };\n\n    // https://www.w3.org/TR/css-syntax-3\r\n    var TokenType;\r\n    (function (TokenType) {\r\n        TokenType[TokenType[\"STRING_TOKEN\"] = 0] = \"STRING_TOKEN\";\r\n        TokenType[TokenType[\"BAD_STRING_TOKEN\"] = 1] = \"BAD_STRING_TOKEN\";\r\n        TokenType[TokenType[\"LEFT_PARENTHESIS_TOKEN\"] = 2] = \"LEFT_PARENTHESIS_TOKEN\";\r\n        TokenType[TokenType[\"RIGHT_PARENTHESIS_TOKEN\"] = 3] = \"RIGHT_PARENTHESIS_TOKEN\";\r\n        TokenType[TokenType[\"COMMA_TOKEN\"] = 4] = \"COMMA_TOKEN\";\r\n        TokenType[TokenType[\"HASH_TOKEN\"] = 5] = \"HASH_TOKEN\";\r\n        TokenType[TokenType[\"DELIM_TOKEN\"] = 6] = \"DELIM_TOKEN\";\r\n        TokenType[TokenType[\"AT_KEYWORD_TOKEN\"] = 7] = \"AT_KEYWORD_TOKEN\";\r\n        TokenType[TokenType[\"PREFIX_MATCH_TOKEN\"] = 8] = \"PREFIX_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"DASH_MATCH_TOKEN\"] = 9] = \"DASH_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"INCLUDE_MATCH_TOKEN\"] = 10] = \"INCLUDE_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"LEFT_CURLY_BRACKET_TOKEN\"] = 11] = \"LEFT_CURLY_BRACKET_TOKEN\";\r\n        TokenType[TokenType[\"RIGHT_CURLY_BRACKET_TOKEN\"] = 12] = \"RIGHT_CURLY_BRACKET_TOKEN\";\r\n        TokenType[TokenType[\"SUFFIX_MATCH_TOKEN\"] = 13] = \"SUFFIX_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"SUBSTRING_MATCH_TOKEN\"] = 14] = \"SUBSTRING_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"DIMENSION_TOKEN\"] = 15] = \"DIMENSION_TOKEN\";\r\n        TokenType[TokenType[\"PERCENTAGE_TOKEN\"] = 16] = \"PERCENTAGE_TOKEN\";\r\n        TokenType[TokenType[\"NUMBER_TOKEN\"] = 17] = \"NUMBER_TOKEN\";\r\n        TokenType[TokenType[\"FUNCTION\"] = 18] = \"FUNCTION\";\r\n        TokenType[TokenType[\"FUNCTION_TOKEN\"] = 19] = \"FUNCTION_TOKEN\";\r\n        TokenType[TokenType[\"IDENT_TOKEN\"] = 20] = \"IDENT_TOKEN\";\r\n        TokenType[TokenType[\"COLUMN_TOKEN\"] = 21] = \"COLUMN_TOKEN\";\r\n        TokenType[TokenType[\"URL_TOKEN\"] = 22] = \"URL_TOKEN\";\r\n        TokenType[TokenType[\"BAD_URL_TOKEN\"] = 23] = \"BAD_URL_TOKEN\";\r\n        TokenType[TokenType[\"CDC_TOKEN\"] = 24] = \"CDC_TOKEN\";\r\n        TokenType[TokenType[\"CDO_TOKEN\"] = 25] = \"CDO_TOKEN\";\r\n        TokenType[TokenType[\"COLON_TOKEN\"] = 26] = \"COLON_TOKEN\";\r\n        TokenType[TokenType[\"SEMICOLON_TOKEN\"] = 27] = \"SEMICOLON_TOKEN\";\r\n        TokenType[TokenType[\"LEFT_SQUARE_BRACKET_TOKEN\"] = 28] = \"LEFT_SQUARE_BRACKET_TOKEN\";\r\n        TokenType[TokenType[\"RIGHT_SQUARE_BRACKET_TOKEN\"] = 29] = \"RIGHT_SQUARE_BRACKET_TOKEN\";\r\n        TokenType[TokenType[\"UNICODE_RANGE_TOKEN\"] = 30] = \"UNICODE_RANGE_TOKEN\";\r\n        TokenType[TokenType[\"WHITESPACE_TOKEN\"] = 31] = \"WHITESPACE_TOKEN\";\r\n        TokenType[TokenType[\"EOF_TOKEN\"] = 32] = \"EOF_TOKEN\";\r\n    })(TokenType || (TokenType = {}));\r\n    var FLAG_UNRESTRICTED = 1 << 0;\r\n    var FLAG_ID = 1 << 1;\r\n    var FLAG_INTEGER = 1 << 2;\r\n    var FLAG_NUMBER = 1 << 3;\r\n    var LINE_FEED = 0x000a;\r\n    var SOLIDUS = 0x002f;\r\n    var REVERSE_SOLIDUS = 0x005c;\r\n    var CHARACTER_TABULATION = 0x0009;\r\n    var SPACE$1 = 0x0020;\r\n    var QUOTATION_MARK = 0x0022;\r\n    var EQUALS_SIGN = 0x003d;\r\n    var NUMBER_SIGN = 0x0023;\r\n    var DOLLAR_SIGN = 0x0024;\r\n    var PERCENTAGE_SIGN = 0x0025;\r\n    var APOSTROPHE = 0x0027;\r\n    var LEFT_PARENTHESIS = 0x0028;\r\n    var RIGHT_PARENTHESIS = 0x0029;\r\n    var LOW_LINE = 0x005f;\r\n    var HYPHEN_MINUS = 0x002d;\r\n    var EXCLAMATION_MARK = 0x0021;\r\n    var LESS_THAN_SIGN = 0x003c;\r\n    var GREATER_THAN_SIGN = 0x003e;\r\n    var COMMERCIAL_AT = 0x0040;\r\n    var LEFT_SQUARE_BRACKET = 0x005b;\r\n    var RIGHT_SQUARE_BRACKET = 0x005d;\r\n    var CIRCUMFLEX_ACCENT = 0x003d;\r\n    var LEFT_CURLY_BRACKET = 0x007b;\r\n    var QUESTION_MARK = 0x003f;\r\n    var RIGHT_CURLY_BRACKET = 0x007d;\r\n    var VERTICAL_LINE = 0x007c;\r\n    var TILDE = 0x007e;\r\n    var CONTROL = 0x0080;\r\n    var REPLACEMENT_CHARACTER = 0xfffd;\r\n    var ASTERISK = 0x002a;\r\n    var PLUS_SIGN = 0x002b;\r\n    var COMMA = 0x002c;\r\n    var COLON = 0x003a;\r\n    var SEMICOLON = 0x003b;\r\n    var FULL_STOP = 0x002e;\r\n    var NULL = 0x0000;\r\n    var BACKSPACE = 0x0008;\r\n    var LINE_TABULATION = 0x000b;\r\n    var SHIFT_OUT = 0x000e;\r\n    var INFORMATION_SEPARATOR_ONE = 0x001f;\r\n    var DELETE = 0x007f;\r\n    var EOF = -1;\r\n    var ZERO = 0x0030;\r\n    var a = 0x0061;\r\n    var e = 0x0065;\r\n    var f = 0x0066;\r\n    var u = 0x0075;\r\n    var z = 0x007a;\r\n    var A = 0x0041;\r\n    var E = 0x0045;\r\n    var F = 0x0046;\r\n    var U = 0x0055;\r\n    var Z = 0x005a;\r\n    var isDigit = function (codePoint) { return codePoint >= ZERO && codePoint <= 0x0039; };\r\n    var isSurrogateCodePoint = function (codePoint) { return codePoint >= 0xd800 && codePoint <= 0xdfff; };\r\n    var isHex = function (codePoint) {\r\n        return isDigit(codePoint) || (codePoint >= A && codePoint <= F) || (codePoint >= a && codePoint <= f);\r\n    };\r\n    var isLowerCaseLetter = function (codePoint) { return codePoint >= a && codePoint <= z; };\r\n    var isUpperCaseLetter = function (codePoint) { return codePoint >= A && codePoint <= Z; };\r\n    var isLetter = function (codePoint) { return isLowerCaseLetter(codePoint) || isUpperCaseLetter(codePoint); };\r\n    var isNonASCIICodePoint = function (codePoint) { return codePoint >= CONTROL; };\r\n    var isWhiteSpace = function (codePoint) {\r\n        return codePoint === LINE_FEED || codePoint === CHARACTER_TABULATION || codePoint === SPACE$1;\r\n    };\r\n    var isNameStartCodePoint = function (codePoint) {\r\n        return isLetter(codePoint) || isNonASCIICodePoint(codePoint) || codePoint === LOW_LINE;\r\n    };\r\n    var isNameCodePoint = function (codePoint) {\r\n        return isNameStartCodePoint(codePoint) || isDigit(codePoint) || codePoint === HYPHEN_MINUS;\r\n    };\r\n    var isNonPrintableCodePoint = function (codePoint) {\r\n        return ((codePoint >= NULL && codePoint <= BACKSPACE) ||\r\n            codePoint === LINE_TABULATION ||\r\n            (codePoint >= SHIFT_OUT && codePoint <= INFORMATION_SEPARATOR_ONE) ||\r\n            codePoint === DELETE);\r\n    };\r\n    var isValidEscape = function (c1, c2) {\r\n        if (c1 !== REVERSE_SOLIDUS) {\r\n            return false;\r\n        }\r\n        return c2 !== LINE_FEED;\r\n    };\r\n    var isIdentifierStart = function (c1, c2, c3) {\r\n        if (c1 === HYPHEN_MINUS) {\r\n            return isNameStartCodePoint(c2) || isValidEscape(c2, c3);\r\n        }\r\n        else if (isNameStartCodePoint(c1)) {\r\n            return true;\r\n        }\r\n        else if (c1 === REVERSE_SOLIDUS && isValidEscape(c1, c2)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    var isNumberStart = function (c1, c2, c3) {\r\n        if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\r\n            if (isDigit(c2)) {\r\n                return true;\r\n            }\r\n            return c2 === FULL_STOP && isDigit(c3);\r\n        }\r\n        if (c1 === FULL_STOP) {\r\n            return isDigit(c2);\r\n        }\r\n        return isDigit(c1);\r\n    };\r\n    var stringToNumber = function (codePoints) {\r\n        var c = 0;\r\n        var sign = 1;\r\n        if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\r\n            if (codePoints[c] === HYPHEN_MINUS) {\r\n                sign = -1;\r\n            }\r\n            c++;\r\n        }\r\n        var integers = [];\r\n        while (isDigit(codePoints[c])) {\r\n            integers.push(codePoints[c++]);\r\n        }\r\n        var int = integers.length ? parseInt(fromCodePoint.apply(void 0, integers), 10) : 0;\r\n        if (codePoints[c] === FULL_STOP) {\r\n            c++;\r\n        }\r\n        var fraction = [];\r\n        while (isDigit(codePoints[c])) {\r\n            fraction.push(codePoints[c++]);\r\n        }\r\n        var fracd = fraction.length;\r\n        var frac = fracd ? parseInt(fromCodePoint.apply(void 0, fraction), 10) : 0;\r\n        if (codePoints[c] === E || codePoints[c] === e) {\r\n            c++;\r\n        }\r\n        var expsign = 1;\r\n        if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\r\n            if (codePoints[c] === HYPHEN_MINUS) {\r\n                expsign = -1;\r\n            }\r\n            c++;\r\n        }\r\n        var exponent = [];\r\n        while (isDigit(codePoints[c])) {\r\n            exponent.push(codePoints[c++]);\r\n        }\r\n        var exp = exponent.length ? parseInt(fromCodePoint.apply(void 0, exponent), 10) : 0;\r\n        return sign * (int + frac * Math.pow(10, -fracd)) * Math.pow(10, expsign * exp);\r\n    };\r\n    var LEFT_PARENTHESIS_TOKEN = {\r\n        type: TokenType.LEFT_PARENTHESIS_TOKEN\r\n    };\r\n    var RIGHT_PARENTHESIS_TOKEN = {\r\n        type: TokenType.RIGHT_PARENTHESIS_TOKEN\r\n    };\r\n    var COMMA_TOKEN = { type: TokenType.COMMA_TOKEN };\r\n    var SUFFIX_MATCH_TOKEN = { type: TokenType.SUFFIX_MATCH_TOKEN };\r\n    var PREFIX_MATCH_TOKEN = { type: TokenType.PREFIX_MATCH_TOKEN };\r\n    var COLUMN_TOKEN = { type: TokenType.COLUMN_TOKEN };\r\n    var DASH_MATCH_TOKEN = { type: TokenType.DASH_MATCH_TOKEN };\r\n    var INCLUDE_MATCH_TOKEN = { type: TokenType.INCLUDE_MATCH_TOKEN };\r\n    var LEFT_CURLY_BRACKET_TOKEN = {\r\n        type: TokenType.LEFT_CURLY_BRACKET_TOKEN\r\n    };\r\n    var RIGHT_CURLY_BRACKET_TOKEN = {\r\n        type: TokenType.RIGHT_CURLY_BRACKET_TOKEN\r\n    };\r\n    var SUBSTRING_MATCH_TOKEN = { type: TokenType.SUBSTRING_MATCH_TOKEN };\r\n    var BAD_URL_TOKEN = { type: TokenType.BAD_URL_TOKEN };\r\n    var BAD_STRING_TOKEN = { type: TokenType.BAD_STRING_TOKEN };\r\n    var CDO_TOKEN = { type: TokenType.CDO_TOKEN };\r\n    var CDC_TOKEN = { type: TokenType.CDC_TOKEN };\r\n    var COLON_TOKEN = { type: TokenType.COLON_TOKEN };\r\n    var SEMICOLON_TOKEN = { type: TokenType.SEMICOLON_TOKEN };\r\n    var LEFT_SQUARE_BRACKET_TOKEN = {\r\n        type: TokenType.LEFT_SQUARE_BRACKET_TOKEN\r\n    };\r\n    var RIGHT_SQUARE_BRACKET_TOKEN = {\r\n        type: TokenType.RIGHT_SQUARE_BRACKET_TOKEN\r\n    };\r\n    var WHITESPACE_TOKEN = { type: TokenType.WHITESPACE_TOKEN };\r\n    var EOF_TOKEN = { type: TokenType.EOF_TOKEN };\r\n    var Tokenizer = /** @class */ (function () {\r\n        function Tokenizer() {\r\n            this._value = [];\r\n        }\r\n        Tokenizer.prototype.write = function (chunk) {\r\n            this._value = this._value.concat(toCodePoints(chunk));\r\n        };\r\n        Tokenizer.prototype.read = function () {\r\n            var tokens = [];\r\n            var token = this.consumeToken();\r\n            while (token !== EOF_TOKEN) {\r\n                tokens.push(token);\r\n                token = this.consumeToken();\r\n            }\r\n            return tokens;\r\n        };\r\n        Tokenizer.prototype.consumeToken = function () {\r\n            var codePoint = this.consumeCodePoint();\r\n            switch (codePoint) {\r\n                case QUOTATION_MARK:\r\n                    return this.consumeStringToken(QUOTATION_MARK);\r\n                case NUMBER_SIGN:\r\n                    var c1 = this.peekCodePoint(0);\r\n                    var c2 = this.peekCodePoint(1);\r\n                    var c3 = this.peekCodePoint(2);\r\n                    if (isNameCodePoint(c1) || isValidEscape(c2, c3)) {\r\n                        var flags = isIdentifierStart(c1, c2, c3) ? FLAG_ID : FLAG_UNRESTRICTED;\r\n                        var value = this.consumeName();\r\n                        return { type: TokenType.HASH_TOKEN, value: value, flags: flags };\r\n                    }\r\n                    break;\r\n                case DOLLAR_SIGN:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return SUFFIX_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case APOSTROPHE:\r\n                    return this.consumeStringToken(APOSTROPHE);\r\n                case LEFT_PARENTHESIS:\r\n                    return LEFT_PARENTHESIS_TOKEN;\r\n                case RIGHT_PARENTHESIS:\r\n                    return RIGHT_PARENTHESIS_TOKEN;\r\n                case ASTERISK:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return SUBSTRING_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case PLUS_SIGN:\r\n                    if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeNumericToken();\r\n                    }\r\n                    break;\r\n                case COMMA:\r\n                    return COMMA_TOKEN;\r\n                case HYPHEN_MINUS:\r\n                    var e1 = codePoint;\r\n                    var e2 = this.peekCodePoint(0);\r\n                    var e3 = this.peekCodePoint(1);\r\n                    if (isNumberStart(e1, e2, e3)) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeNumericToken();\r\n                    }\r\n                    if (isIdentifierStart(e1, e2, e3)) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeIdentLikeToken();\r\n                    }\r\n                    if (e2 === HYPHEN_MINUS && e3 === GREATER_THAN_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        this.consumeCodePoint();\r\n                        return CDC_TOKEN;\r\n                    }\r\n                    break;\r\n                case FULL_STOP:\r\n                    if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeNumericToken();\r\n                    }\r\n                    break;\r\n                case SOLIDUS:\r\n                    if (this.peekCodePoint(0) === ASTERISK) {\r\n                        this.consumeCodePoint();\r\n                        while (true) {\r\n                            var c = this.consumeCodePoint();\r\n                            if (c === ASTERISK) {\r\n                                c = this.consumeCodePoint();\r\n                                if (c === SOLIDUS) {\r\n                                    return this.consumeToken();\r\n                                }\r\n                            }\r\n                            if (c === EOF) {\r\n                                return this.consumeToken();\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case COLON:\r\n                    return COLON_TOKEN;\r\n                case SEMICOLON:\r\n                    return SEMICOLON_TOKEN;\r\n                case LESS_THAN_SIGN:\r\n                    if (this.peekCodePoint(0) === EXCLAMATION_MARK &&\r\n                        this.peekCodePoint(1) === HYPHEN_MINUS &&\r\n                        this.peekCodePoint(2) === HYPHEN_MINUS) {\r\n                        this.consumeCodePoint();\r\n                        this.consumeCodePoint();\r\n                        return CDO_TOKEN;\r\n                    }\r\n                    break;\r\n                case COMMERCIAL_AT:\r\n                    var a1 = this.peekCodePoint(0);\r\n                    var a2 = this.peekCodePoint(1);\r\n                    var a3 = this.peekCodePoint(2);\r\n                    if (isIdentifierStart(a1, a2, a3)) {\r\n                        var value = this.consumeName();\r\n                        return { type: TokenType.AT_KEYWORD_TOKEN, value: value };\r\n                    }\r\n                    break;\r\n                case LEFT_SQUARE_BRACKET:\r\n                    return LEFT_SQUARE_BRACKET_TOKEN;\r\n                case REVERSE_SOLIDUS:\r\n                    if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeIdentLikeToken();\r\n                    }\r\n                    break;\r\n                case RIGHT_SQUARE_BRACKET:\r\n                    return RIGHT_SQUARE_BRACKET_TOKEN;\r\n                case CIRCUMFLEX_ACCENT:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return PREFIX_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case LEFT_CURLY_BRACKET:\r\n                    return LEFT_CURLY_BRACKET_TOKEN;\r\n                case RIGHT_CURLY_BRACKET:\r\n                    return RIGHT_CURLY_BRACKET_TOKEN;\r\n                case u:\r\n                case U:\r\n                    var u1 = this.peekCodePoint(0);\r\n                    var u2 = this.peekCodePoint(1);\r\n                    if (u1 === PLUS_SIGN && (isHex(u2) || u2 === QUESTION_MARK)) {\r\n                        this.consumeCodePoint();\r\n                        this.consumeUnicodeRangeToken();\r\n                    }\r\n                    this.reconsumeCodePoint(codePoint);\r\n                    return this.consumeIdentLikeToken();\r\n                case VERTICAL_LINE:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return DASH_MATCH_TOKEN;\r\n                    }\r\n                    if (this.peekCodePoint(0) === VERTICAL_LINE) {\r\n                        this.consumeCodePoint();\r\n                        return COLUMN_TOKEN;\r\n                    }\r\n                    break;\r\n                case TILDE:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return INCLUDE_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case EOF:\r\n                    return EOF_TOKEN;\r\n            }\r\n            if (isWhiteSpace(codePoint)) {\r\n                this.consumeWhiteSpace();\r\n                return WHITESPACE_TOKEN;\r\n            }\r\n            if (isDigit(codePoint)) {\r\n                this.reconsumeCodePoint(codePoint);\r\n                return this.consumeNumericToken();\r\n            }\r\n            if (isNameStartCodePoint(codePoint)) {\r\n                this.reconsumeCodePoint(codePoint);\r\n                return this.consumeIdentLikeToken();\r\n            }\r\n            return { type: TokenType.DELIM_TOKEN, value: fromCodePoint(codePoint) };\r\n        };\r\n        Tokenizer.prototype.consumeCodePoint = function () {\r\n            var value = this._value.shift();\r\n            return typeof value === 'undefined' ? -1 : value;\r\n        };\r\n        Tokenizer.prototype.reconsumeCodePoint = function (codePoint) {\r\n            this._value.unshift(codePoint);\r\n        };\r\n        Tokenizer.prototype.peekCodePoint = function (delta) {\r\n            if (delta >= this._value.length) {\r\n                return -1;\r\n            }\r\n            return this._value[delta];\r\n        };\r\n        Tokenizer.prototype.consumeUnicodeRangeToken = function () {\r\n            var digits = [];\r\n            var codePoint = this.consumeCodePoint();\r\n            while (isHex(codePoint) && digits.length < 6) {\r\n                digits.push(codePoint);\r\n                codePoint = this.consumeCodePoint();\r\n            }\r\n            var questionMarks = false;\r\n            while (codePoint === QUESTION_MARK && digits.length < 6) {\r\n                digits.push(codePoint);\r\n                codePoint = this.consumeCodePoint();\r\n                questionMarks = true;\r\n            }\r\n            if (questionMarks) {\r\n                var start_1 = parseInt(fromCodePoint.apply(void 0, digits.map(function (digit) { return (digit === QUESTION_MARK ? ZERO : digit); })), 16);\r\n                var end = parseInt(fromCodePoint.apply(void 0, digits.map(function (digit) { return (digit === QUESTION_MARK ? F : digit); })), 16);\r\n                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start_1, end: end };\r\n            }\r\n            var start = parseInt(fromCodePoint.apply(void 0, digits), 16);\r\n            if (this.peekCodePoint(0) === HYPHEN_MINUS && isHex(this.peekCodePoint(1))) {\r\n                this.consumeCodePoint();\r\n                codePoint = this.consumeCodePoint();\r\n                var endDigits = [];\r\n                while (isHex(codePoint) && endDigits.length < 6) {\r\n                    endDigits.push(codePoint);\r\n                    codePoint = this.consumeCodePoint();\r\n                }\r\n                var end = parseInt(fromCodePoint.apply(void 0, endDigits), 16);\r\n                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start, end: end };\r\n            }\r\n            else {\r\n                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start, end: start };\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeIdentLikeToken = function () {\r\n            var value = this.consumeName();\r\n            if (value.toLowerCase() === 'url' && this.peekCodePoint(0) === LEFT_PARENTHESIS) {\r\n                this.consumeCodePoint();\r\n                return this.consumeUrlToken();\r\n            }\r\n            else if (this.peekCodePoint(0) === LEFT_PARENTHESIS) {\r\n                this.consumeCodePoint();\r\n                return { type: TokenType.FUNCTION_TOKEN, value: value };\r\n            }\r\n            return { type: TokenType.IDENT_TOKEN, value: value };\r\n        };\r\n        Tokenizer.prototype.consumeUrlToken = function () {\r\n            var value = [];\r\n            this.consumeWhiteSpace();\r\n            if (this.peekCodePoint(0) === EOF) {\r\n                return { type: TokenType.URL_TOKEN, value: '' };\r\n            }\r\n            var next = this.peekCodePoint(0);\r\n            if (next === APOSTROPHE || next === QUOTATION_MARK) {\r\n                var stringToken = this.consumeStringToken(this.consumeCodePoint());\r\n                if (stringToken.type === TokenType.STRING_TOKEN) {\r\n                    this.consumeWhiteSpace();\r\n                    if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\r\n                        this.consumeCodePoint();\r\n                        return { type: TokenType.URL_TOKEN, value: stringToken.value };\r\n                    }\r\n                }\r\n                this.consumeBadUrlRemnants();\r\n                return BAD_URL_TOKEN;\r\n            }\r\n            while (true) {\r\n                var codePoint = this.consumeCodePoint();\r\n                if (codePoint === EOF || codePoint === RIGHT_PARENTHESIS) {\r\n                    return { type: TokenType.URL_TOKEN, value: fromCodePoint.apply(void 0, value) };\r\n                }\r\n                else if (isWhiteSpace(codePoint)) {\r\n                    this.consumeWhiteSpace();\r\n                    if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\r\n                        this.consumeCodePoint();\r\n                        return { type: TokenType.URL_TOKEN, value: fromCodePoint.apply(void 0, value) };\r\n                    }\r\n                    this.consumeBadUrlRemnants();\r\n                    return BAD_URL_TOKEN;\r\n                }\r\n                else if (codePoint === QUOTATION_MARK ||\r\n                    codePoint === APOSTROPHE ||\r\n                    codePoint === LEFT_PARENTHESIS ||\r\n                    isNonPrintableCodePoint(codePoint)) {\r\n                    this.consumeBadUrlRemnants();\r\n                    return BAD_URL_TOKEN;\r\n                }\r\n                else if (codePoint === REVERSE_SOLIDUS) {\r\n                    if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                        value.push(this.consumeEscapedCodePoint());\r\n                    }\r\n                    else {\r\n                        this.consumeBadUrlRemnants();\r\n                        return BAD_URL_TOKEN;\r\n                    }\r\n                }\r\n                else {\r\n                    value.push(codePoint);\r\n                }\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeWhiteSpace = function () {\r\n            while (isWhiteSpace(this.peekCodePoint(0))) {\r\n                this.consumeCodePoint();\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeBadUrlRemnants = function () {\r\n            while (true) {\r\n                var codePoint = this.consumeCodePoint();\r\n                if (codePoint === RIGHT_PARENTHESIS || codePoint === EOF) {\r\n                    return;\r\n                }\r\n                if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                    this.consumeEscapedCodePoint();\r\n                }\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeStringSlice = function (count) {\r\n            var SLICE_STACK_SIZE = 60000;\r\n            var value = '';\r\n            while (count > 0) {\r\n                var amount = Math.min(SLICE_STACK_SIZE, count);\r\n                value += fromCodePoint.apply(void 0, this._value.splice(0, amount));\r\n                count -= amount;\r\n            }\r\n            this._value.shift();\r\n            return value;\r\n        };\r\n        Tokenizer.prototype.consumeStringToken = function (endingCodePoint) {\r\n            var value = '';\r\n            var i = 0;\r\n            do {\r\n                var codePoint = this._value[i];\r\n                if (codePoint === EOF || codePoint === undefined || codePoint === endingCodePoint) {\r\n                    value += this.consumeStringSlice(i);\r\n                    return { type: TokenType.STRING_TOKEN, value: value };\r\n                }\r\n                if (codePoint === LINE_FEED) {\r\n                    this._value.splice(0, i);\r\n                    return BAD_STRING_TOKEN;\r\n                }\r\n                if (codePoint === REVERSE_SOLIDUS) {\r\n                    var next = this._value[i + 1];\r\n                    if (next !== EOF && next !== undefined) {\r\n                        if (next === LINE_FEED) {\r\n                            value += this.consumeStringSlice(i);\r\n                            i = -1;\r\n                            this._value.shift();\r\n                        }\r\n                        else if (isValidEscape(codePoint, next)) {\r\n                            value += this.consumeStringSlice(i);\r\n                            value += fromCodePoint(this.consumeEscapedCodePoint());\r\n                            i = -1;\r\n                        }\r\n                    }\r\n                }\r\n                i++;\r\n            } while (true);\r\n        };\r\n        Tokenizer.prototype.consumeNumber = function () {\r\n            var repr = [];\r\n            var type = FLAG_INTEGER;\r\n            var c1 = this.peekCodePoint(0);\r\n            if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\r\n                repr.push(this.consumeCodePoint());\r\n            }\r\n            while (isDigit(this.peekCodePoint(0))) {\r\n                repr.push(this.consumeCodePoint());\r\n            }\r\n            c1 = this.peekCodePoint(0);\r\n            var c2 = this.peekCodePoint(1);\r\n            if (c1 === FULL_STOP && isDigit(c2)) {\r\n                repr.push(this.consumeCodePoint(), this.consumeCodePoint());\r\n                type = FLAG_NUMBER;\r\n                while (isDigit(this.peekCodePoint(0))) {\r\n                    repr.push(this.consumeCodePoint());\r\n                }\r\n            }\r\n            c1 = this.peekCodePoint(0);\r\n            c2 = this.peekCodePoint(1);\r\n            var c3 = this.peekCodePoint(2);\r\n            if ((c1 === E || c1 === e) && (((c2 === PLUS_SIGN || c2 === HYPHEN_MINUS) && isDigit(c3)) || isDigit(c2))) {\r\n                repr.push(this.consumeCodePoint(), this.consumeCodePoint());\r\n                type = FLAG_NUMBER;\r\n                while (isDigit(this.peekCodePoint(0))) {\r\n                    repr.push(this.consumeCodePoint());\r\n                }\r\n            }\r\n            return [stringToNumber(repr), type];\r\n        };\r\n        Tokenizer.prototype.consumeNumericToken = function () {\r\n            var _a = this.consumeNumber(), number = _a[0], flags = _a[1];\r\n            var c1 = this.peekCodePoint(0);\r\n            var c2 = this.peekCodePoint(1);\r\n            var c3 = this.peekCodePoint(2);\r\n            if (isIdentifierStart(c1, c2, c3)) {\r\n                var unit = this.consumeName();\r\n                return { type: TokenType.DIMENSION_TOKEN, number: number, flags: flags, unit: unit };\r\n            }\r\n            if (c1 === PERCENTAGE_SIGN) {\r\n                this.consumeCodePoint();\r\n                return { type: TokenType.PERCENTAGE_TOKEN, number: number, flags: flags };\r\n            }\r\n            return { type: TokenType.NUMBER_TOKEN, number: number, flags: flags };\r\n        };\r\n        Tokenizer.prototype.consumeEscapedCodePoint = function () {\r\n            var codePoint = this.consumeCodePoint();\r\n            if (isHex(codePoint)) {\r\n                var hex = fromCodePoint(codePoint);\r\n                while (isHex(this.peekCodePoint(0)) && hex.length < 6) {\r\n                    hex += fromCodePoint(this.consumeCodePoint());\r\n                }\r\n                if (isWhiteSpace(this.peekCodePoint(0))) {\r\n                    this.consumeCodePoint();\r\n                }\r\n                var hexCodePoint = parseInt(hex, 16);\r\n                if (hexCodePoint === 0 || isSurrogateCodePoint(hexCodePoint) || hexCodePoint > 0x10ffff) {\r\n                    return REPLACEMENT_CHARACTER;\r\n                }\r\n                return hexCodePoint;\r\n            }\r\n            if (codePoint === EOF) {\r\n                return REPLACEMENT_CHARACTER;\r\n            }\r\n            return codePoint;\r\n        };\r\n        Tokenizer.prototype.consumeName = function () {\r\n            var result = '';\r\n            while (true) {\r\n                var codePoint = this.consumeCodePoint();\r\n                if (isNameCodePoint(codePoint)) {\r\n                    result += fromCodePoint(codePoint);\r\n                }\r\n                else if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                    result += fromCodePoint(this.consumeEscapedCodePoint());\r\n                }\r\n                else {\r\n                    this.reconsumeCodePoint(codePoint);\r\n                    return result;\r\n                }\r\n            }\r\n        };\r\n        return Tokenizer;\r\n    }());\n\n    var Parser = /** @class */ (function () {\r\n        function Parser(tokens) {\r\n            this._tokens = tokens;\r\n        }\r\n        Parser.create = function (value) {\r\n            var tokenizer = new Tokenizer();\r\n            tokenizer.write(value);\r\n            return new Parser(tokenizer.read());\r\n        };\r\n        Parser.parseValue = function (value) {\r\n            return Parser.create(value).parseComponentValue();\r\n        };\r\n        Parser.parseValues = function (value) {\r\n            return Parser.create(value).parseComponentValues();\r\n        };\r\n        Parser.prototype.parseComponentValue = function () {\r\n            var token = this.consumeToken();\r\n            while (token.type === TokenType.WHITESPACE_TOKEN) {\r\n                token = this.consumeToken();\r\n            }\r\n            if (token.type === TokenType.EOF_TOKEN) {\r\n                throw new SyntaxError(\"Error parsing CSS component value, unexpected EOF\");\r\n            }\r\n            this.reconsumeToken(token);\r\n            var value = this.consumeComponentValue();\r\n            do {\r\n                token = this.consumeToken();\r\n            } while (token.type === TokenType.WHITESPACE_TOKEN);\r\n            if (token.type === TokenType.EOF_TOKEN) {\r\n                return value;\r\n            }\r\n            throw new SyntaxError(\"Error parsing CSS component value, multiple values found when expecting only one\");\r\n        };\r\n        Parser.prototype.parseComponentValues = function () {\r\n            var values = [];\r\n            while (true) {\r\n                var value = this.consumeComponentValue();\r\n                if (value.type === TokenType.EOF_TOKEN) {\r\n                    return values;\r\n                }\r\n                values.push(value);\r\n                values.push();\r\n            }\r\n        };\r\n        Parser.prototype.consumeComponentValue = function () {\r\n            var token = this.consumeToken();\r\n            switch (token.type) {\r\n                case TokenType.LEFT_CURLY_BRACKET_TOKEN:\r\n                case TokenType.LEFT_SQUARE_BRACKET_TOKEN:\r\n                case TokenType.LEFT_PARENTHESIS_TOKEN:\r\n                    return this.consumeSimpleBlock(token.type);\r\n                case TokenType.FUNCTION_TOKEN:\r\n                    return this.consumeFunction(token);\r\n            }\r\n            return token;\r\n        };\r\n        Parser.prototype.consumeSimpleBlock = function (type) {\r\n            var block = { type: type, values: [] };\r\n            var token = this.consumeToken();\r\n            while (true) {\r\n                if (token.type === TokenType.EOF_TOKEN || isEndingTokenFor(token, type)) {\r\n                    return block;\r\n                }\r\n                this.reconsumeToken(token);\r\n                block.values.push(this.consumeComponentValue());\r\n                token = this.consumeToken();\r\n            }\r\n        };\r\n        Parser.prototype.consumeFunction = function (functionToken) {\r\n            var cssFunction = {\r\n                name: functionToken.value,\r\n                values: [],\r\n                type: TokenType.FUNCTION\r\n            };\r\n            while (true) {\r\n                var token = this.consumeToken();\r\n                if (token.type === TokenType.EOF_TOKEN || token.type === TokenType.RIGHT_PARENTHESIS_TOKEN) {\r\n                    return cssFunction;\r\n                }\r\n                this.reconsumeToken(token);\r\n                cssFunction.values.push(this.consumeComponentValue());\r\n            }\r\n        };\r\n        Parser.prototype.consumeToken = function () {\r\n            var token = this._tokens.shift();\r\n            return typeof token === 'undefined' ? EOF_TOKEN : token;\r\n        };\r\n        Parser.prototype.reconsumeToken = function (token) {\r\n            this._tokens.unshift(token);\r\n        };\r\n        return Parser;\r\n    }());\r\n    var isDimensionToken = function (token) { return token.type === TokenType.DIMENSION_TOKEN; };\r\n    var isNumberToken = function (token) { return token.type === TokenType.NUMBER_TOKEN; };\r\n    var isIdentToken = function (token) { return token.type === TokenType.IDENT_TOKEN; };\r\n    var isStringToken = function (token) { return token.type === TokenType.STRING_TOKEN; };\r\n    var isIdentWithValue = function (token, value) {\r\n        return isIdentToken(token) && token.value === value;\r\n    };\r\n    var nonWhiteSpace = function (token) { return token.type !== TokenType.WHITESPACE_TOKEN; };\r\n    var nonFunctionArgSeparator = function (token) {\r\n        return token.type !== TokenType.WHITESPACE_TOKEN && token.type !== TokenType.COMMA_TOKEN;\r\n    };\r\n    var parseFunctionArgs = function (tokens) {\r\n        var args = [];\r\n        var arg = [];\r\n        tokens.forEach(function (token) {\r\n            if (token.type === TokenType.COMMA_TOKEN) {\r\n                if (arg.length === 0) {\r\n                    throw new Error(\"Error parsing function args, zero tokens for arg\");\r\n                }\r\n                args.push(arg);\r\n                arg = [];\r\n                return;\r\n            }\r\n            if (token.type !== TokenType.WHITESPACE_TOKEN) {\r\n                arg.push(token);\r\n            }\r\n        });\r\n        if (arg.length) {\r\n            args.push(arg);\r\n        }\r\n        return args;\r\n    };\r\n    var isEndingTokenFor = function (token, type) {\r\n        if (type === TokenType.LEFT_CURLY_BRACKET_TOKEN && token.type === TokenType.RIGHT_CURLY_BRACKET_TOKEN) {\r\n            return true;\r\n        }\r\n        if (type === TokenType.LEFT_SQUARE_BRACKET_TOKEN && token.type === TokenType.RIGHT_SQUARE_BRACKET_TOKEN) {\r\n            return true;\r\n        }\r\n        return type === TokenType.LEFT_PARENTHESIS_TOKEN && token.type === TokenType.RIGHT_PARENTHESIS_TOKEN;\r\n    };\n\n    var isLength = function (token) {\r\n        return token.type === TokenType.NUMBER_TOKEN || token.type === TokenType.DIMENSION_TOKEN;\r\n    };\n\n    var isLengthPercentage = function (token) {\r\n        return token.type === TokenType.PERCENTAGE_TOKEN || isLength(token);\r\n    };\r\n    var parseLengthPercentageTuple = function (tokens) {\r\n        return tokens.length > 1 ? [tokens[0], tokens[1]] : [tokens[0]];\r\n    };\r\n    var ZERO_LENGTH = {\r\n        type: TokenType.NUMBER_TOKEN,\r\n        number: 0,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var FIFTY_PERCENT = {\r\n        type: TokenType.PERCENTAGE_TOKEN,\r\n        number: 50,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var HUNDRED_PERCENT = {\r\n        type: TokenType.PERCENTAGE_TOKEN,\r\n        number: 100,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var getAbsoluteValueForTuple = function (tuple, width, height) {\r\n        var x = tuple[0], y = tuple[1];\r\n        return [getAbsoluteValue(x, width), getAbsoluteValue(typeof y !== 'undefined' ? y : x, height)];\r\n    };\r\n    var getAbsoluteValue = function (token, parent) {\r\n        if (token.type === TokenType.PERCENTAGE_TOKEN) {\r\n            return (token.number / 100) * parent;\r\n        }\r\n        if (isDimensionToken(token)) {\r\n            switch (token.unit) {\r\n                case 'rem':\r\n                case 'em':\r\n                    return 16 * token.number; // TODO use correct font-size\r\n                case 'px':\r\n                default:\r\n                    return token.number;\r\n            }\r\n        }\r\n        return token.number;\r\n    };\n\n    var DEG = 'deg';\r\n    var GRAD = 'grad';\r\n    var RAD = 'rad';\r\n    var TURN = 'turn';\r\n    var angle = {\r\n        name: 'angle',\r\n        parse: function (value) {\r\n            if (value.type === TokenType.DIMENSION_TOKEN) {\r\n                switch (value.unit) {\r\n                    case DEG:\r\n                        return (Math.PI * value.number) / 180;\r\n                    case GRAD:\r\n                        return (Math.PI / 200) * value.number;\r\n                    case RAD:\r\n                        return value.number;\r\n                    case TURN:\r\n                        return Math.PI * 2 * value.number;\r\n                }\r\n            }\r\n            throw new Error(\"Unsupported angle type\");\r\n        }\r\n    };\r\n    var isAngle = function (value) {\r\n        if (value.type === TokenType.DIMENSION_TOKEN) {\r\n            if (value.unit === DEG || value.unit === GRAD || value.unit === RAD || value.unit === TURN) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    var parseNamedSide = function (tokens) {\r\n        var sideOrCorner = tokens\r\n            .filter(isIdentToken)\r\n            .map(function (ident) { return ident.value; })\r\n            .join(' ');\r\n        switch (sideOrCorner) {\r\n            case 'to bottom right':\r\n            case 'to right bottom':\r\n            case 'left top':\r\n            case 'top left':\r\n                return [ZERO_LENGTH, ZERO_LENGTH];\r\n            case 'to top':\r\n            case 'bottom':\r\n                return deg(0);\r\n            case 'to bottom left':\r\n            case 'to left bottom':\r\n            case 'right top':\r\n            case 'top right':\r\n                return [ZERO_LENGTH, HUNDRED_PERCENT];\r\n            case 'to right':\r\n            case 'left':\r\n                return deg(90);\r\n            case 'to top left':\r\n            case 'to left top':\r\n            case 'right bottom':\r\n            case 'bottom right':\r\n                return [HUNDRED_PERCENT, HUNDRED_PERCENT];\r\n            case 'to bottom':\r\n            case 'top':\r\n                return deg(180);\r\n            case 'to top right':\r\n            case 'to right top':\r\n            case 'left bottom':\r\n            case 'bottom left':\r\n                return [HUNDRED_PERCENT, ZERO_LENGTH];\r\n            case 'to left':\r\n            case 'right':\r\n                return deg(270);\r\n        }\r\n        return 0;\r\n    };\r\n    var deg = function (deg) { return (Math.PI * deg) / 180; };\n\n    var color = {\r\n        name: 'color',\r\n        parse: function (value) {\r\n            if (value.type === TokenType.FUNCTION) {\r\n                var colorFunction = SUPPORTED_COLOR_FUNCTIONS[value.name];\r\n                if (typeof colorFunction === 'undefined') {\r\n                    throw new Error(\"Attempting to parse an unsupported color function \\\"\" + value.name + \"\\\"\");\r\n                }\r\n                return colorFunction(value.values);\r\n            }\r\n            if (value.type === TokenType.HASH_TOKEN) {\r\n                if (value.value.length === 3) {\r\n                    var r = value.value.substring(0, 1);\r\n                    var g = value.value.substring(1, 2);\r\n                    var b = value.value.substring(2, 3);\r\n                    return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), 1);\r\n                }\r\n                if (value.value.length === 4) {\r\n                    var r = value.value.substring(0, 1);\r\n                    var g = value.value.substring(1, 2);\r\n                    var b = value.value.substring(2, 3);\r\n                    var a = value.value.substring(3, 4);\r\n                    return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), parseInt(a + a, 16) / 255);\r\n                }\r\n                if (value.value.length === 6) {\r\n                    var r = value.value.substring(0, 2);\r\n                    var g = value.value.substring(2, 4);\r\n                    var b = value.value.substring(4, 6);\r\n                    return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), 1);\r\n                }\r\n                if (value.value.length === 8) {\r\n                    var r = value.value.substring(0, 2);\r\n                    var g = value.value.substring(2, 4);\r\n                    var b = value.value.substring(4, 6);\r\n                    var a = value.value.substring(6, 8);\r\n                    return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), parseInt(a, 16) / 255);\r\n                }\r\n            }\r\n            if (value.type === TokenType.IDENT_TOKEN) {\r\n                var namedColor = COLORS[value.value.toUpperCase()];\r\n                if (typeof namedColor !== 'undefined') {\r\n                    return namedColor;\r\n                }\r\n            }\r\n            return COLORS.TRANSPARENT;\r\n        }\r\n    };\r\n    var isTransparent = function (color) { return (0xff & color) === 0; };\r\n    var asString = function (color) {\r\n        var alpha = 0xff & color;\r\n        var blue = 0xff & (color >> 8);\r\n        var green = 0xff & (color >> 16);\r\n        var red = 0xff & (color >> 24);\r\n        return alpha < 255 ? \"rgba(\" + red + \",\" + green + \",\" + blue + \",\" + alpha / 255 + \")\" : \"rgb(\" + red + \",\" + green + \",\" + blue + \")\";\r\n    };\r\n    var pack = function (r, g, b, a) {\r\n        return ((r << 24) | (g << 16) | (b << 8) | (Math.round(a * 255) << 0)) >>> 0;\r\n    };\r\n    var getTokenColorValue = function (token, i) {\r\n        if (token.type === TokenType.NUMBER_TOKEN) {\r\n            return token.number;\r\n        }\r\n        if (token.type === TokenType.PERCENTAGE_TOKEN) {\r\n            var max = i === 3 ? 1 : 255;\r\n            return i === 3 ? (token.number / 100) * max : Math.round((token.number / 100) * max);\r\n        }\r\n        return 0;\r\n    };\r\n    var rgb = function (args) {\r\n        var tokens = args.filter(nonFunctionArgSeparator);\r\n        if (tokens.length === 3) {\r\n            var _a = tokens.map(getTokenColorValue), r = _a[0], g = _a[1], b = _a[2];\r\n            return pack(r, g, b, 1);\r\n        }\r\n        if (tokens.length === 4) {\r\n            var _b = tokens.map(getTokenColorValue), r = _b[0], g = _b[1], b = _b[2], a = _b[3];\r\n            return pack(r, g, b, a);\r\n        }\r\n        return 0;\r\n    };\r\n    function hue2rgb(t1, t2, hue) {\r\n        if (hue < 0) {\r\n            hue += 1;\r\n        }\r\n        if (hue >= 1) {\r\n            hue -= 1;\r\n        }\r\n        if (hue < 1 / 6) {\r\n            return (t2 - t1) * hue * 6 + t1;\r\n        }\r\n        else if (hue < 1 / 2) {\r\n            return t2;\r\n        }\r\n        else if (hue < 2 / 3) {\r\n            return (t2 - t1) * 6 * (2 / 3 - hue) + t1;\r\n        }\r\n        else {\r\n            return t1;\r\n        }\r\n    }\r\n    var hsl = function (args) {\r\n        var tokens = args.filter(nonFunctionArgSeparator);\r\n        var hue = tokens[0], saturation = tokens[1], lightness = tokens[2], alpha = tokens[3];\r\n        var h = (hue.type === TokenType.NUMBER_TOKEN ? deg(hue.number) : angle.parse(hue)) / (Math.PI * 2);\r\n        var s = isLengthPercentage(saturation) ? saturation.number / 100 : 0;\r\n        var l = isLengthPercentage(lightness) ? lightness.number / 100 : 0;\r\n        var a = typeof alpha !== 'undefined' && isLengthPercentage(alpha) ? getAbsoluteValue(alpha, 1) : 1;\r\n        if (s === 0) {\r\n            return pack(l * 255, l * 255, l * 255, 1);\r\n        }\r\n        var t2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\r\n        var t1 = l * 2 - t2;\r\n        var r = hue2rgb(t1, t2, h + 1 / 3);\r\n        var g = hue2rgb(t1, t2, h);\r\n        var b = hue2rgb(t1, t2, h - 1 / 3);\r\n        return pack(r * 255, g * 255, b * 255, a);\r\n    };\r\n    var SUPPORTED_COLOR_FUNCTIONS = {\r\n        hsl: hsl,\r\n        hsla: hsl,\r\n        rgb: rgb,\r\n        rgba: rgb\r\n    };\r\n    var COLORS = {\r\n        ALICEBLUE: 0xf0f8ffff,\r\n        ANTIQUEWHITE: 0xfaebd7ff,\r\n        AQUA: 0x00ffffff,\r\n        AQUAMARINE: 0x7fffd4ff,\r\n        AZURE: 0xf0ffffff,\r\n        BEIGE: 0xf5f5dcff,\r\n        BISQUE: 0xffe4c4ff,\r\n        BLACK: 0x000000ff,\r\n        BLANCHEDALMOND: 0xffebcdff,\r\n        BLUE: 0x0000ffff,\r\n        BLUEVIOLET: 0x8a2be2ff,\r\n        BROWN: 0xa52a2aff,\r\n        BURLYWOOD: 0xdeb887ff,\r\n        CADETBLUE: 0x5f9ea0ff,\r\n        CHARTREUSE: 0x7fff00ff,\r\n        CHOCOLATE: 0xd2691eff,\r\n        CORAL: 0xff7f50ff,\r\n        CORNFLOWERBLUE: 0x6495edff,\r\n        CORNSILK: 0xfff8dcff,\r\n        CRIMSON: 0xdc143cff,\r\n        CYAN: 0x00ffffff,\r\n        DARKBLUE: 0x00008bff,\r\n        DARKCYAN: 0x008b8bff,\r\n        DARKGOLDENROD: 0xb886bbff,\r\n        DARKGRAY: 0xa9a9a9ff,\r\n        DARKGREEN: 0x006400ff,\r\n        DARKGREY: 0xa9a9a9ff,\r\n        DARKKHAKI: 0xbdb76bff,\r\n        DARKMAGENTA: 0x8b008bff,\r\n        DARKOLIVEGREEN: 0x556b2fff,\r\n        DARKORANGE: 0xff8c00ff,\r\n        DARKORCHID: 0x9932ccff,\r\n        DARKRED: 0x8b0000ff,\r\n        DARKSALMON: 0xe9967aff,\r\n        DARKSEAGREEN: 0x8fbc8fff,\r\n        DARKSLATEBLUE: 0x483d8bff,\r\n        DARKSLATEGRAY: 0x2f4f4fff,\r\n        DARKSLATEGREY: 0x2f4f4fff,\r\n        DARKTURQUOISE: 0x00ced1ff,\r\n        DARKVIOLET: 0x9400d3ff,\r\n        DEEPPINK: 0xff1493ff,\r\n        DEEPSKYBLUE: 0x00bfffff,\r\n        DIMGRAY: 0x696969ff,\r\n        DIMGREY: 0x696969ff,\r\n        DODGERBLUE: 0x1e90ffff,\r\n        FIREBRICK: 0xb22222ff,\r\n        FLORALWHITE: 0xfffaf0ff,\r\n        FORESTGREEN: 0x228b22ff,\r\n        FUCHSIA: 0xff00ffff,\r\n        GAINSBORO: 0xdcdcdcff,\r\n        GHOSTWHITE: 0xf8f8ffff,\r\n        GOLD: 0xffd700ff,\r\n        GOLDENROD: 0xdaa520ff,\r\n        GRAY: 0x808080ff,\r\n        GREEN: 0x008000ff,\r\n        GREENYELLOW: 0xadff2fff,\r\n        GREY: 0x808080ff,\r\n        HONEYDEW: 0xf0fff0ff,\r\n        HOTPINK: 0xff69b4ff,\r\n        INDIANRED: 0xcd5c5cff,\r\n        INDIGO: 0x4b0082ff,\r\n        IVORY: 0xfffff0ff,\r\n        KHAKI: 0xf0e68cff,\r\n        LAVENDER: 0xe6e6faff,\r\n        LAVENDERBLUSH: 0xfff0f5ff,\r\n        LAWNGREEN: 0x7cfc00ff,\r\n        LEMONCHIFFON: 0xfffacdff,\r\n        LIGHTBLUE: 0xadd8e6ff,\r\n        LIGHTCORAL: 0xf08080ff,\r\n        LIGHTCYAN: 0xe0ffffff,\r\n        LIGHTGOLDENRODYELLOW: 0xfafad2ff,\r\n        LIGHTGRAY: 0xd3d3d3ff,\r\n        LIGHTGREEN: 0x90ee90ff,\r\n        LIGHTGREY: 0xd3d3d3ff,\r\n        LIGHTPINK: 0xffb6c1ff,\r\n        LIGHTSALMON: 0xffa07aff,\r\n        LIGHTSEAGREEN: 0x20b2aaff,\r\n        LIGHTSKYBLUE: 0x87cefaff,\r\n        LIGHTSLATEGRAY: 0x778899ff,\r\n        LIGHTSLATEGREY: 0x778899ff,\r\n        LIGHTSTEELBLUE: 0xb0c4deff,\r\n        LIGHTYELLOW: 0xffffe0ff,\r\n        LIME: 0x00ff00ff,\r\n        LIMEGREEN: 0x32cd32ff,\r\n        LINEN: 0xfaf0e6ff,\r\n        MAGENTA: 0xff00ffff,\r\n        MAROON: 0x800000ff,\r\n        MEDIUMAQUAMARINE: 0x66cdaaff,\r\n        MEDIUMBLUE: 0x0000cdff,\r\n        MEDIUMORCHID: 0xba55d3ff,\r\n        MEDIUMPURPLE: 0x9370dbff,\r\n        MEDIUMSEAGREEN: 0x3cb371ff,\r\n        MEDIUMSLATEBLUE: 0x7b68eeff,\r\n        MEDIUMSPRINGGREEN: 0x00fa9aff,\r\n        MEDIUMTURQUOISE: 0x48d1ccff,\r\n        MEDIUMVIOLETRED: 0xc71585ff,\r\n        MIDNIGHTBLUE: 0x191970ff,\r\n        MINTCREAM: 0xf5fffaff,\r\n        MISTYROSE: 0xffe4e1ff,\r\n        MOCCASIN: 0xffe4b5ff,\r\n        NAVAJOWHITE: 0xffdeadff,\r\n        NAVY: 0x000080ff,\r\n        OLDLACE: 0xfdf5e6ff,\r\n        OLIVE: 0x808000ff,\r\n        OLIVEDRAB: 0x6b8e23ff,\r\n        ORANGE: 0xffa500ff,\r\n        ORANGERED: 0xff4500ff,\r\n        ORCHID: 0xda70d6ff,\r\n        PALEGOLDENROD: 0xeee8aaff,\r\n        PALEGREEN: 0x98fb98ff,\r\n        PALETURQUOISE: 0xafeeeeff,\r\n        PALEVIOLETRED: 0xdb7093ff,\r\n        PAPAYAWHIP: 0xffefd5ff,\r\n        PEACHPUFF: 0xffdab9ff,\r\n        PERU: 0xcd853fff,\r\n        PINK: 0xffc0cbff,\r\n        PLUM: 0xdda0ddff,\r\n        POWDERBLUE: 0xb0e0e6ff,\r\n        PURPLE: 0x800080ff,\r\n        REBECCAPURPLE: 0x663399ff,\r\n        RED: 0xff0000ff,\r\n        ROSYBROWN: 0xbc8f8fff,\r\n        ROYALBLUE: 0x4169e1ff,\r\n        SADDLEBROWN: 0x8b4513ff,\r\n        SALMON: 0xfa8072ff,\r\n        SANDYBROWN: 0xf4a460ff,\r\n        SEAGREEN: 0x2e8b57ff,\r\n        SEASHELL: 0xfff5eeff,\r\n        SIENNA: 0xa0522dff,\r\n        SILVER: 0xc0c0c0ff,\r\n        SKYBLUE: 0x87ceebff,\r\n        SLATEBLUE: 0x6a5acdff,\r\n        SLATEGRAY: 0x708090ff,\r\n        SLATEGREY: 0x708090ff,\r\n        SNOW: 0xfffafaff,\r\n        SPRINGGREEN: 0x00ff7fff,\r\n        STEELBLUE: 0x4682b4ff,\r\n        TAN: 0xd2b48cff,\r\n        TEAL: 0x008080ff,\r\n        THISTLE: 0xd8bfd8ff,\r\n        TOMATO: 0xff6347ff,\r\n        TRANSPARENT: 0x00000000,\r\n        TURQUOISE: 0x40e0d0ff,\r\n        VIOLET: 0xee82eeff,\r\n        WHEAT: 0xf5deb3ff,\r\n        WHITE: 0xffffffff,\r\n        WHITESMOKE: 0xf5f5f5ff,\r\n        YELLOW: 0xffff00ff,\r\n        YELLOWGREEN: 0x9acd32ff\r\n    };\n\n    var PropertyDescriptorParsingType;\r\n    (function (PropertyDescriptorParsingType) {\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"VALUE\"] = 0] = \"VALUE\";\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"LIST\"] = 1] = \"LIST\";\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"IDENT_VALUE\"] = 2] = \"IDENT_VALUE\";\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"TYPE_VALUE\"] = 3] = \"TYPE_VALUE\";\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"TOKEN_VALUE\"] = 4] = \"TOKEN_VALUE\";\r\n    })(PropertyDescriptorParsingType || (PropertyDescriptorParsingType = {}));\n\n    var BACKGROUND_CLIP;\r\n    (function (BACKGROUND_CLIP) {\r\n        BACKGROUND_CLIP[BACKGROUND_CLIP[\"BORDER_BOX\"] = 0] = \"BORDER_BOX\";\r\n        BACKGROUND_CLIP[BACKGROUND_CLIP[\"PADDING_BOX\"] = 1] = \"PADDING_BOX\";\r\n        BACKGROUND_CLIP[BACKGROUND_CLIP[\"CONTENT_BOX\"] = 2] = \"CONTENT_BOX\";\r\n    })(BACKGROUND_CLIP || (BACKGROUND_CLIP = {}));\r\n    var backgroundClip = {\r\n        name: 'background-clip',\r\n        initialValue: 'border-box',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.map(function (token) {\r\n                if (isIdentToken(token)) {\r\n                    switch (token.value) {\r\n                        case 'padding-box':\r\n                            return BACKGROUND_CLIP.PADDING_BOX;\r\n                        case 'content-box':\r\n                            return BACKGROUND_CLIP.CONTENT_BOX;\r\n                    }\r\n                }\r\n                return BACKGROUND_CLIP.BORDER_BOX;\r\n            });\r\n        }\r\n    };\n\n    var backgroundColor = {\r\n        name: \"background-color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'color'\r\n    };\n\n    var parseColorStop = function (args) {\r\n        var color$1 = color.parse(args[0]);\r\n        var stop = args[1];\r\n        return stop && isLengthPercentage(stop) ? { color: color$1, stop: stop } : { color: color$1, stop: null };\r\n    };\r\n    var processColorStops = function (stops, lineLength) {\r\n        var first = stops[0];\r\n        var last = stops[stops.length - 1];\r\n        if (first.stop === null) {\r\n            first.stop = ZERO_LENGTH;\r\n        }\r\n        if (last.stop === null) {\r\n            last.stop = HUNDRED_PERCENT;\r\n        }\r\n        var processStops = [];\r\n        var previous = 0;\r\n        for (var i = 0; i < stops.length; i++) {\r\n            var stop_1 = stops[i].stop;\r\n            if (stop_1 !== null) {\r\n                var absoluteValue = getAbsoluteValue(stop_1, lineLength);\r\n                if (absoluteValue > previous) {\r\n                    processStops.push(absoluteValue);\r\n                }\r\n                else {\r\n                    processStops.push(previous);\r\n                }\r\n                previous = absoluteValue;\r\n            }\r\n            else {\r\n                processStops.push(null);\r\n            }\r\n        }\r\n        var gapBegin = null;\r\n        for (var i = 0; i < processStops.length; i++) {\r\n            var stop_2 = processStops[i];\r\n            if (stop_2 === null) {\r\n                if (gapBegin === null) {\r\n                    gapBegin = i;\r\n                }\r\n            }\r\n            else if (gapBegin !== null) {\r\n                var gapLength = i - gapBegin;\r\n                var beforeGap = processStops[gapBegin - 1];\r\n                var gapValue = (stop_2 - beforeGap) / (gapLength + 1);\r\n                for (var g = 1; g <= gapLength; g++) {\r\n                    processStops[gapBegin + g - 1] = gapValue * g;\r\n                }\r\n                gapBegin = null;\r\n            }\r\n        }\r\n        return stops.map(function (_a, i) {\r\n            var color = _a.color;\r\n            return { color: color, stop: Math.max(Math.min(1, processStops[i] / lineLength), 0) };\r\n        });\r\n    };\r\n    var getAngleFromCorner = function (corner, width, height) {\r\n        var centerX = width / 2;\r\n        var centerY = height / 2;\r\n        var x = getAbsoluteValue(corner[0], width) - centerX;\r\n        var y = centerY - getAbsoluteValue(corner[1], height);\r\n        return (Math.atan2(y, x) + Math.PI * 2) % (Math.PI * 2);\r\n    };\r\n    var calculateGradientDirection = function (angle, width, height) {\r\n        var radian = typeof angle === 'number' ? angle : getAngleFromCorner(angle, width, height);\r\n        var lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));\r\n        var halfWidth = width / 2;\r\n        var halfHeight = height / 2;\r\n        var halfLineLength = lineLength / 2;\r\n        var yDiff = Math.sin(radian - Math.PI / 2) * halfLineLength;\r\n        var xDiff = Math.cos(radian - Math.PI / 2) * halfLineLength;\r\n        return [lineLength, halfWidth - xDiff, halfWidth + xDiff, halfHeight - yDiff, halfHeight + yDiff];\r\n    };\r\n    var distance = function (a, b) { return Math.sqrt(a * a + b * b); };\r\n    var findCorner = function (width, height, x, y, closest) {\r\n        var corners = [[0, 0], [0, height], [width, 0], [width, height]];\r\n        return corners.reduce(function (stat, corner) {\r\n            var cx = corner[0], cy = corner[1];\r\n            var d = distance(x - cx, y - cy);\r\n            if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {\r\n                return {\r\n                    optimumCorner: corner,\r\n                    optimumDistance: d\r\n                };\r\n            }\r\n            return stat;\r\n        }, {\r\n            optimumDistance: closest ? Infinity : -Infinity,\r\n            optimumCorner: null\r\n        }).optimumCorner;\r\n    };\r\n    var calculateRadius = function (gradient, x, y, width, height) {\r\n        var rx = 0;\r\n        var ry = 0;\r\n        switch (gradient.size) {\r\n            case CSSRadialExtent.CLOSEST_SIDE:\r\n                // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradients center.\r\n                // If the shape is an ellipse, it exactly meets the closest side in each dimension.\r\n                if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n                    rx = ry = Math.min(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\r\n                }\r\n                else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n                    rx = Math.min(Math.abs(x), Math.abs(x - width));\r\n                    ry = Math.min(Math.abs(y), Math.abs(y - height));\r\n                }\r\n                break;\r\n            case CSSRadialExtent.CLOSEST_CORNER:\r\n                // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradients center.\r\n                // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.\r\n                if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n                    rx = ry = Math.min(distance(x, y), distance(x, y - height), distance(x - width, y), distance(x - width, y - height));\r\n                }\r\n                else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n                    // Compute the ratio ry/rx (which is to be the same as for \"closest-side\")\r\n                    var c = Math.min(Math.abs(y), Math.abs(y - height)) / Math.min(Math.abs(x), Math.abs(x - width));\r\n                    var _a = findCorner(width, height, x, y, true), cx = _a[0], cy = _a[1];\r\n                    rx = distance(cx - x, (cy - y) / c);\r\n                    ry = c * rx;\r\n                }\r\n                break;\r\n            case CSSRadialExtent.FARTHEST_SIDE:\r\n                // Same as closest-side, except the ending shape is sized based on the farthest side(s)\r\n                if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n                    rx = ry = Math.max(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\r\n                }\r\n                else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n                    rx = Math.max(Math.abs(x), Math.abs(x - width));\r\n                    ry = Math.max(Math.abs(y), Math.abs(y - height));\r\n                }\r\n                break;\r\n            case CSSRadialExtent.FARTHEST_CORNER:\r\n                // Same as closest-corner, except the ending shape is sized based on the farthest corner.\r\n                // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.\r\n                if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n                    rx = ry = Math.max(distance(x, y), distance(x, y - height), distance(x - width, y), distance(x - width, y - height));\r\n                }\r\n                else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n                    // Compute the ratio ry/rx (which is to be the same as for \"farthest-side\")\r\n                    var c = Math.max(Math.abs(y), Math.abs(y - height)) / Math.max(Math.abs(x), Math.abs(x - width));\r\n                    var _b = findCorner(width, height, x, y, false), cx = _b[0], cy = _b[1];\r\n                    rx = distance(cx - x, (cy - y) / c);\r\n                    ry = c * rx;\r\n                }\r\n                break;\r\n        }\r\n        if (Array.isArray(gradient.size)) {\r\n            rx = getAbsoluteValue(gradient.size[0], width);\r\n            ry = gradient.size.length === 2 ? getAbsoluteValue(gradient.size[1], height) : rx;\r\n        }\r\n        return [rx, ry];\r\n    };\n\n    var linearGradient = function (tokens) {\r\n        var angle$1 = deg(180);\r\n        var stops = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            if (i === 0) {\r\n                var firstToken = arg[0];\r\n                if (firstToken.type === TokenType.IDENT_TOKEN && firstToken.value === 'to') {\r\n                    angle$1 = parseNamedSide(arg);\r\n                    return;\r\n                }\r\n                else if (isAngle(firstToken)) {\r\n                    angle$1 = angle.parse(firstToken);\r\n                    return;\r\n                }\r\n            }\r\n            var colorStop = parseColorStop(arg);\r\n            stops.push(colorStop);\r\n        });\r\n        return { angle: angle$1, stops: stops, type: CSSImageType.LINEAR_GRADIENT };\r\n    };\n\n    var prefixLinearGradient = function (tokens) {\r\n        var angle$1 = deg(180);\r\n        var stops = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            if (i === 0) {\r\n                var firstToken = arg[0];\r\n                if (firstToken.type === TokenType.IDENT_TOKEN &&\r\n                    ['top', 'left', 'right', 'bottom'].indexOf(firstToken.value) !== -1) {\r\n                    angle$1 = parseNamedSide(arg);\r\n                    return;\r\n                }\r\n                else if (isAngle(firstToken)) {\r\n                    angle$1 = (angle.parse(firstToken) + deg(270)) % deg(360);\r\n                    return;\r\n                }\r\n            }\r\n            var colorStop = parseColorStop(arg);\r\n            stops.push(colorStop);\r\n        });\r\n        return {\r\n            angle: angle$1,\r\n            stops: stops,\r\n            type: CSSImageType.LINEAR_GRADIENT\r\n        };\r\n    };\n\n    var testRangeBounds = function (document) {\r\n        var TEST_HEIGHT = 123;\r\n        if (document.createRange) {\r\n            var range = document.createRange();\r\n            if (range.getBoundingClientRect) {\r\n                var testElement = document.createElement('boundtest');\r\n                testElement.style.height = TEST_HEIGHT + \"px\";\r\n                testElement.style.display = 'block';\r\n                document.body.appendChild(testElement);\r\n                range.selectNode(testElement);\r\n                var rangeBounds = range.getBoundingClientRect();\r\n                var rangeHeight = Math.round(rangeBounds.height);\r\n                document.body.removeChild(testElement);\r\n                if (rangeHeight === TEST_HEIGHT) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    var testCORS = function () { return typeof new Image().crossOrigin !== 'undefined'; };\r\n    var testResponseType = function () { return typeof new XMLHttpRequest().responseType === 'string'; };\r\n    var testSVG = function (document) {\r\n        var img = new Image();\r\n        var canvas = document.createElement('canvas');\r\n        var ctx = canvas.getContext('2d');\r\n        if (!ctx) {\r\n            return false;\r\n        }\r\n        img.src = \"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";\r\n        try {\r\n            ctx.drawImage(img, 0, 0);\r\n            canvas.toDataURL();\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    var isGreenPixel = function (data) {\r\n        return data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\r\n    };\r\n    var testForeignObject = function (document) {\r\n        var canvas = document.createElement('canvas');\r\n        var size = 100;\r\n        canvas.width = size;\r\n        canvas.height = size;\r\n        var ctx = canvas.getContext('2d');\r\n        if (!ctx) {\r\n            return Promise.reject(false);\r\n        }\r\n        ctx.fillStyle = 'rgb(0, 255, 0)';\r\n        ctx.fillRect(0, 0, size, size);\r\n        var img = new Image();\r\n        var greenImageSrc = canvas.toDataURL();\r\n        img.src = greenImageSrc;\r\n        var svg = createForeignObjectSVG(size, size, 0, 0, img);\r\n        ctx.fillStyle = 'red';\r\n        ctx.fillRect(0, 0, size, size);\r\n        return loadSerializedSVG(svg)\r\n            .then(function (img) {\r\n            ctx.drawImage(img, 0, 0);\r\n            var data = ctx.getImageData(0, 0, size, size).data;\r\n            ctx.fillStyle = 'red';\r\n            ctx.fillRect(0, 0, size, size);\r\n            var node = document.createElement('div');\r\n            node.style.backgroundImage = \"url(\" + greenImageSrc + \")\";\r\n            node.style.height = size + \"px\";\r\n            // Firefox 55 does not render inline <img /> tags\r\n            return isGreenPixel(data)\r\n                ? loadSerializedSVG(createForeignObjectSVG(size, size, 0, 0, node))\r\n                : Promise.reject(false);\r\n        })\r\n            .then(function (img) {\r\n            ctx.drawImage(img, 0, 0);\r\n            // Edge does not render background-images\r\n            return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\r\n        })\r\n            .catch(function () { return false; });\r\n    };\r\n    var createForeignObjectSVG = function (width, height, x, y, node) {\r\n        var xmlns = 'http://www.w3.org/2000/svg';\r\n        var svg = document.createElementNS(xmlns, 'svg');\r\n        var foreignObject = document.createElementNS(xmlns, 'foreignObject');\r\n        svg.setAttributeNS(null, 'width', width.toString());\r\n        svg.setAttributeNS(null, 'height', height.toString());\r\n        foreignObject.setAttributeNS(null, 'width', '100%');\r\n        foreignObject.setAttributeNS(null, 'height', '100%');\r\n        foreignObject.setAttributeNS(null, 'x', x.toString());\r\n        foreignObject.setAttributeNS(null, 'y', y.toString());\r\n        foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');\r\n        svg.appendChild(foreignObject);\r\n        foreignObject.appendChild(node);\r\n        return svg;\r\n    };\r\n    var loadSerializedSVG = function (svg) {\r\n        return new Promise(function (resolve, reject) {\r\n            var img = new Image();\r\n            img.onload = function () { return resolve(img); };\r\n            img.onerror = reject;\r\n            img.src = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(new XMLSerializer().serializeToString(svg));\r\n        });\r\n    };\r\n    var FEATURES = {\r\n        get SUPPORT_RANGE_BOUNDS() {\r\n            var value = testRangeBounds(document);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_SVG_DRAWING() {\r\n            var value = testSVG(document);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_FOREIGNOBJECT_DRAWING() {\r\n            var value = typeof Array.from === 'function' && typeof window.fetch === 'function'\r\n                ? testForeignObject(document)\r\n                : Promise.resolve(false);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_CORS_IMAGES() {\r\n            var value = testCORS();\r\n            Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_RESPONSE_TYPE() {\r\n            var value = testResponseType();\r\n            Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_CORS_XHR() {\r\n            var value = 'withCredentials' in new XMLHttpRequest();\r\n            Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', { value: value });\r\n            return value;\r\n        }\r\n    };\n\n    var Logger = /** @class */ (function () {\r\n        function Logger(_a) {\r\n            var id = _a.id, enabled = _a.enabled;\r\n            this.id = id;\r\n            this.enabled = enabled;\r\n            this.start = Date.now();\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Logger.prototype.debug = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (this.enabled) {\r\n                // eslint-disable-next-line no-console\r\n                if (typeof window !== 'undefined' && window.console && typeof console.debug === 'function') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.debug.apply(console, [this.id, this.getTime() + \"ms\"].concat(args));\r\n                }\r\n                else {\r\n                    this.info.apply(this, args);\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.getTime = function () {\r\n            return Date.now() - this.start;\r\n        };\r\n        Logger.create = function (options) {\r\n            Logger.instances[options.id] = new Logger(options);\r\n        };\r\n        Logger.destroy = function (id) {\r\n            delete Logger.instances[id];\r\n        };\r\n        Logger.getInstance = function (id) {\r\n            var instance = Logger.instances[id];\r\n            if (typeof instance === 'undefined') {\r\n                throw new Error(\"No logger instance found with id \" + id);\r\n            }\r\n            return instance;\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Logger.prototype.info = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (this.enabled) {\r\n                // eslint-disable-next-line no-console\r\n                if (typeof window !== 'undefined' && window.console && typeof console.info === 'function') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.info.apply(console, [this.id, this.getTime() + \"ms\"].concat(args));\r\n                }\r\n            }\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Logger.prototype.error = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (this.enabled) {\r\n                // eslint-disable-next-line no-console\r\n                if (typeof window !== 'undefined' && window.console && typeof console.error === 'function') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.error.apply(console, [this.id, this.getTime() + \"ms\"].concat(args));\r\n                }\r\n                else {\r\n                    this.info.apply(this, args);\r\n                }\r\n            }\r\n        };\r\n        Logger.instances = {};\r\n        return Logger;\r\n    }());\n\n    var CacheStorage = /** @class */ (function () {\r\n        function CacheStorage() {\r\n        }\r\n        CacheStorage.create = function (name, options) {\r\n            return (CacheStorage._caches[name] = new Cache(name, options));\r\n        };\r\n        CacheStorage.destroy = function (name) {\r\n            delete CacheStorage._caches[name];\r\n        };\r\n        CacheStorage.open = function (name) {\r\n            var cache = CacheStorage._caches[name];\r\n            if (typeof cache !== 'undefined') {\r\n                return cache;\r\n            }\r\n            throw new Error(\"Cache with key \\\"\" + name + \"\\\" not found\");\r\n        };\r\n        CacheStorage.getOrigin = function (url) {\r\n            var link = CacheStorage._link;\r\n            if (!link) {\r\n                return 'about:blank';\r\n            }\r\n            link.href = url;\r\n            link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\r\n            return link.protocol + link.hostname + link.port;\r\n        };\r\n        CacheStorage.isSameOrigin = function (src) {\r\n            return CacheStorage.getOrigin(src) === CacheStorage._origin;\r\n        };\r\n        CacheStorage.setContext = function (window) {\r\n            CacheStorage._link = window.document.createElement('a');\r\n            CacheStorage._origin = CacheStorage.getOrigin(window.location.href);\r\n        };\r\n        CacheStorage.getInstance = function () {\r\n            var current = CacheStorage._current;\r\n            if (current === null) {\r\n                throw new Error(\"No cache instance attached\");\r\n            }\r\n            return current;\r\n        };\r\n        CacheStorage.attachInstance = function (cache) {\r\n            CacheStorage._current = cache;\r\n        };\r\n        CacheStorage.detachInstance = function () {\r\n            CacheStorage._current = null;\r\n        };\r\n        CacheStorage._caches = {};\r\n        CacheStorage._origin = 'about:blank';\r\n        CacheStorage._current = null;\r\n        return CacheStorage;\r\n    }());\r\n    var Cache = /** @class */ (function () {\r\n        function Cache(id, options) {\r\n            this.id = id;\r\n            this._options = options;\r\n            this._cache = {};\r\n        }\r\n        Cache.prototype.addImage = function (src) {\r\n            var result = Promise.resolve();\r\n            if (this.has(src)) {\r\n                return result;\r\n            }\r\n            if (isBlobImage(src) || isRenderable(src)) {\r\n                this._cache[src] = this.loadImage(src);\r\n                return result;\r\n            }\r\n            return result;\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Cache.prototype.match = function (src) {\r\n            return this._cache[src];\r\n        };\r\n        Cache.prototype.loadImage = function (key) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var isSameOrigin, useCORS, useProxy, src;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            isSameOrigin = CacheStorage.isSameOrigin(key);\r\n                            useCORS = !isInlineImage(key) && this._options.useCORS === true && FEATURES.SUPPORT_CORS_IMAGES && !isSameOrigin;\r\n                            useProxy = !isInlineImage(key) &&\r\n                                !isSameOrigin &&\r\n                                typeof this._options.proxy === 'string' &&\r\n                                FEATURES.SUPPORT_CORS_XHR &&\r\n                                !useCORS;\r\n                            if (!isSameOrigin && this._options.allowTaint === false && !isInlineImage(key) && !useProxy && !useCORS) {\r\n                                return [2 /*return*/];\r\n                            }\r\n                            src = key;\r\n                            if (!useProxy) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, this.proxy(src)];\r\n                        case 1:\r\n                            src = _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            Logger.getInstance(this.id).debug(\"Added image \" + key.substring(0, 256));\r\n                            return [4 /*yield*/, new Promise(function (resolve, reject) {\r\n                                    var img = new Image();\r\n                                    img.onload = function () { return resolve(img); };\r\n                                    img.onerror = reject;\r\n                                    //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous\r\n                                    if (isInlineBase64Image(src) || useCORS) {\r\n                                        img.crossOrigin = 'anonymous';\r\n                                    }\r\n                                    img.src = src;\r\n                                    if (img.complete === true) {\r\n                                        // Inline XML images may fail to parse, throwing an Error later on\r\n                                        setTimeout(function () { return resolve(img); }, 500);\r\n                                    }\r\n                                    if (_this._options.imageTimeout > 0) {\r\n                                        setTimeout(function () { return reject(\"Timed out (\" + _this._options.imageTimeout + \"ms) loading image\"); }, _this._options.imageTimeout);\r\n                                    }\r\n                                })];\r\n                        case 3: return [2 /*return*/, _a.sent()];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Cache.prototype.has = function (key) {\r\n            return typeof this._cache[key] !== 'undefined';\r\n        };\r\n        Cache.prototype.keys = function () {\r\n            return Promise.resolve(Object.keys(this._cache));\r\n        };\r\n        Cache.prototype.proxy = function (src) {\r\n            var _this = this;\r\n            var proxy = this._options.proxy;\r\n            if (!proxy) {\r\n                throw new Error('No proxy defined');\r\n            }\r\n            var key = src.substring(0, 256);\r\n            return new Promise(function (resolve, reject) {\r\n                var responseType = FEATURES.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.onload = function () {\r\n                    if (xhr.status === 200) {\r\n                        if (responseType === 'text') {\r\n                            resolve(xhr.response);\r\n                        }\r\n                        else {\r\n                            var reader_1 = new FileReader();\r\n                            reader_1.addEventListener('load', function () { return resolve(reader_1.result); }, false);\r\n                            reader_1.addEventListener('error', function (e) { return reject(e); }, false);\r\n                            reader_1.readAsDataURL(xhr.response);\r\n                        }\r\n                    }\r\n                    else {\r\n                        reject(\"Failed to proxy resource \" + key + \" with status code \" + xhr.status);\r\n                    }\r\n                };\r\n                xhr.onerror = reject;\r\n                xhr.open('GET', proxy + \"?url=\" + encodeURIComponent(src) + \"&responseType=\" + responseType);\r\n                if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {\r\n                    xhr.responseType = responseType;\r\n                }\r\n                if (_this._options.imageTimeout) {\r\n                    var timeout_1 = _this._options.imageTimeout;\r\n                    xhr.timeout = timeout_1;\r\n                    xhr.ontimeout = function () { return reject(\"Timed out (\" + timeout_1 + \"ms) proxying \" + key); };\r\n                }\r\n                xhr.send();\r\n            });\r\n        };\r\n        return Cache;\r\n    }());\r\n    var INLINE_SVG = /^data:image\\/svg\\+xml/i;\r\n    var INLINE_BASE64 = /^data:image\\/.*;base64,/i;\r\n    var INLINE_IMG = /^data:image\\/.*/i;\r\n    var isRenderable = function (src) { return FEATURES.SUPPORT_SVG_DRAWING || !isSVG(src); };\r\n    var isInlineImage = function (src) { return INLINE_IMG.test(src); };\r\n    var isInlineBase64Image = function (src) { return INLINE_BASE64.test(src); };\r\n    var isBlobImage = function (src) { return src.substr(0, 4) === 'blob'; };\r\n    var isSVG = function (src) { return src.substr(-3).toLowerCase() === 'svg' || INLINE_SVG.test(src); };\n\n    var webkitGradient = function (tokens) {\r\n        var angle = deg(180);\r\n        var stops = [];\r\n        var type = CSSImageType.LINEAR_GRADIENT;\r\n        var shape = CSSRadialShape.CIRCLE;\r\n        var size = CSSRadialExtent.FARTHEST_CORNER;\r\n        var position = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            var firstToken = arg[0];\r\n            if (i === 0) {\r\n                if (isIdentToken(firstToken) && firstToken.value === 'linear') {\r\n                    type = CSSImageType.LINEAR_GRADIENT;\r\n                    return;\r\n                }\r\n                else if (isIdentToken(firstToken) && firstToken.value === 'radial') {\r\n                    type = CSSImageType.RADIAL_GRADIENT;\r\n                    return;\r\n                }\r\n            }\r\n            if (firstToken.type === TokenType.FUNCTION) {\r\n                if (firstToken.name === 'from') {\r\n                    var color$1 = color.parse(firstToken.values[0]);\r\n                    stops.push({ stop: ZERO_LENGTH, color: color$1 });\r\n                }\r\n                else if (firstToken.name === 'to') {\r\n                    var color$1 = color.parse(firstToken.values[0]);\r\n                    stops.push({ stop: HUNDRED_PERCENT, color: color$1 });\r\n                }\r\n                else if (firstToken.name === 'color-stop') {\r\n                    var values = firstToken.values.filter(nonFunctionArgSeparator);\r\n                    if (values.length === 2) {\r\n                        var color$1 = color.parse(values[1]);\r\n                        var stop_1 = values[0];\r\n                        if (isNumberToken(stop_1)) {\r\n                            stops.push({\r\n                                stop: { type: TokenType.PERCENTAGE_TOKEN, number: stop_1.number * 100, flags: stop_1.flags },\r\n                                color: color$1\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        return type === CSSImageType.LINEAR_GRADIENT\r\n            ? {\r\n                angle: (angle + deg(180)) % deg(360),\r\n                stops: stops,\r\n                type: type\r\n            }\r\n            : { size: size, shape: shape, stops: stops, position: position, type: type };\r\n    };\n\n    var CLOSEST_SIDE = 'closest-side';\r\n    var FARTHEST_SIDE = 'farthest-side';\r\n    var CLOSEST_CORNER = 'closest-corner';\r\n    var FARTHEST_CORNER = 'farthest-corner';\r\n    var CIRCLE = 'circle';\r\n    var ELLIPSE = 'ellipse';\r\n    var COVER = 'cover';\r\n    var CONTAIN = 'contain';\r\n    var radialGradient = function (tokens) {\r\n        var shape = CSSRadialShape.CIRCLE;\r\n        var size = CSSRadialExtent.FARTHEST_CORNER;\r\n        var stops = [];\r\n        var position = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            var isColorStop = true;\r\n            if (i === 0) {\r\n                var isAtPosition_1 = false;\r\n                isColorStop = arg.reduce(function (acc, token) {\r\n                    if (isAtPosition_1) {\r\n                        if (isIdentToken(token)) {\r\n                            switch (token.value) {\r\n                                case 'center':\r\n                                    position.push(FIFTY_PERCENT);\r\n                                    return acc;\r\n                                case 'top':\r\n                                case 'left':\r\n                                    position.push(ZERO_LENGTH);\r\n                                    return acc;\r\n                                case 'right':\r\n                                case 'bottom':\r\n                                    position.push(HUNDRED_PERCENT);\r\n                                    return acc;\r\n                            }\r\n                        }\r\n                        else if (isLengthPercentage(token) || isLength(token)) {\r\n                            position.push(token);\r\n                        }\r\n                    }\r\n                    else if (isIdentToken(token)) {\r\n                        switch (token.value) {\r\n                            case CIRCLE:\r\n                                shape = CSSRadialShape.CIRCLE;\r\n                                return false;\r\n                            case ELLIPSE:\r\n                                shape = CSSRadialShape.ELLIPSE;\r\n                                return false;\r\n                            case 'at':\r\n                                isAtPosition_1 = true;\r\n                                return false;\r\n                            case CLOSEST_SIDE:\r\n                                size = CSSRadialExtent.CLOSEST_SIDE;\r\n                                return false;\r\n                            case COVER:\r\n                            case FARTHEST_SIDE:\r\n                                size = CSSRadialExtent.FARTHEST_SIDE;\r\n                                return false;\r\n                            case CONTAIN:\r\n                            case CLOSEST_CORNER:\r\n                                size = CSSRadialExtent.CLOSEST_CORNER;\r\n                                return false;\r\n                            case FARTHEST_CORNER:\r\n                                size = CSSRadialExtent.FARTHEST_CORNER;\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if (isLength(token) || isLengthPercentage(token)) {\r\n                        if (!Array.isArray(size)) {\r\n                            size = [];\r\n                        }\r\n                        size.push(token);\r\n                        return false;\r\n                    }\r\n                    return acc;\r\n                }, isColorStop);\r\n            }\r\n            if (isColorStop) {\r\n                var colorStop = parseColorStop(arg);\r\n                stops.push(colorStop);\r\n            }\r\n        });\r\n        return { size: size, shape: shape, stops: stops, position: position, type: CSSImageType.RADIAL_GRADIENT };\r\n    };\n\n    var prefixRadialGradient = function (tokens) {\r\n        var shape = CSSRadialShape.CIRCLE;\r\n        var size = CSSRadialExtent.FARTHEST_CORNER;\r\n        var stops = [];\r\n        var position = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            var isColorStop = true;\r\n            if (i === 0) {\r\n                isColorStop = arg.reduce(function (acc, token) {\r\n                    if (isIdentToken(token)) {\r\n                        switch (token.value) {\r\n                            case 'center':\r\n                                position.push(FIFTY_PERCENT);\r\n                                return false;\r\n                            case 'top':\r\n                            case 'left':\r\n                                position.push(ZERO_LENGTH);\r\n                                return false;\r\n                            case 'right':\r\n                            case 'bottom':\r\n                                position.push(HUNDRED_PERCENT);\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if (isLengthPercentage(token) || isLength(token)) {\r\n                        position.push(token);\r\n                        return false;\r\n                    }\r\n                    return acc;\r\n                }, isColorStop);\r\n            }\r\n            else if (i === 1) {\r\n                isColorStop = arg.reduce(function (acc, token) {\r\n                    if (isIdentToken(token)) {\r\n                        switch (token.value) {\r\n                            case CIRCLE:\r\n                                shape = CSSRadialShape.CIRCLE;\r\n                                return false;\r\n                            case ELLIPSE:\r\n                                shape = CSSRadialShape.ELLIPSE;\r\n                                return false;\r\n                            case CONTAIN:\r\n                            case CLOSEST_SIDE:\r\n                                size = CSSRadialExtent.CLOSEST_SIDE;\r\n                                return false;\r\n                            case FARTHEST_SIDE:\r\n                                size = CSSRadialExtent.FARTHEST_SIDE;\r\n                                return false;\r\n                            case CLOSEST_CORNER:\r\n                                size = CSSRadialExtent.CLOSEST_CORNER;\r\n                                return false;\r\n                            case COVER:\r\n                            case FARTHEST_CORNER:\r\n                                size = CSSRadialExtent.FARTHEST_CORNER;\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if (isLength(token) || isLengthPercentage(token)) {\r\n                        if (!Array.isArray(size)) {\r\n                            size = [];\r\n                        }\r\n                        size.push(token);\r\n                        return false;\r\n                    }\r\n                    return acc;\r\n                }, isColorStop);\r\n            }\r\n            if (isColorStop) {\r\n                var colorStop = parseColorStop(arg);\r\n                stops.push(colorStop);\r\n            }\r\n        });\r\n        return { size: size, shape: shape, stops: stops, position: position, type: CSSImageType.RADIAL_GRADIENT };\r\n    };\n\n    var CSSImageType;\r\n    (function (CSSImageType) {\r\n        CSSImageType[CSSImageType[\"URL\"] = 0] = \"URL\";\r\n        CSSImageType[CSSImageType[\"LINEAR_GRADIENT\"] = 1] = \"LINEAR_GRADIENT\";\r\n        CSSImageType[CSSImageType[\"RADIAL_GRADIENT\"] = 2] = \"RADIAL_GRADIENT\";\r\n    })(CSSImageType || (CSSImageType = {}));\r\n    var isLinearGradient = function (background) {\r\n        return background.type === CSSImageType.LINEAR_GRADIENT;\r\n    };\r\n    var isRadialGradient = function (background) {\r\n        return background.type === CSSImageType.RADIAL_GRADIENT;\r\n    };\r\n    var CSSRadialShape;\r\n    (function (CSSRadialShape) {\r\n        CSSRadialShape[CSSRadialShape[\"CIRCLE\"] = 0] = \"CIRCLE\";\r\n        CSSRadialShape[CSSRadialShape[\"ELLIPSE\"] = 1] = \"ELLIPSE\";\r\n    })(CSSRadialShape || (CSSRadialShape = {}));\r\n    var CSSRadialExtent;\r\n    (function (CSSRadialExtent) {\r\n        CSSRadialExtent[CSSRadialExtent[\"CLOSEST_SIDE\"] = 0] = \"CLOSEST_SIDE\";\r\n        CSSRadialExtent[CSSRadialExtent[\"FARTHEST_SIDE\"] = 1] = \"FARTHEST_SIDE\";\r\n        CSSRadialExtent[CSSRadialExtent[\"CLOSEST_CORNER\"] = 2] = \"CLOSEST_CORNER\";\r\n        CSSRadialExtent[CSSRadialExtent[\"FARTHEST_CORNER\"] = 3] = \"FARTHEST_CORNER\";\r\n    })(CSSRadialExtent || (CSSRadialExtent = {}));\r\n    var image = {\r\n        name: 'image',\r\n        parse: function (value) {\r\n            if (value.type === TokenType.URL_TOKEN) {\r\n                var image_1 = { url: value.value, type: CSSImageType.URL };\r\n                CacheStorage.getInstance().addImage(value.value);\r\n                return image_1;\r\n            }\r\n            if (value.type === TokenType.FUNCTION) {\r\n                var imageFunction = SUPPORTED_IMAGE_FUNCTIONS[value.name];\r\n                if (typeof imageFunction === 'undefined') {\r\n                    throw new Error(\"Attempting to parse an unsupported image function \\\"\" + value.name + \"\\\"\");\r\n                }\r\n                return imageFunction(value.values);\r\n            }\r\n            throw new Error(\"Unsupported image type\");\r\n        }\r\n    };\r\n    function isSupportedImage(value) {\r\n        return value.type !== TokenType.FUNCTION || SUPPORTED_IMAGE_FUNCTIONS[value.name];\r\n    }\r\n    var SUPPORTED_IMAGE_FUNCTIONS = {\r\n        'linear-gradient': linearGradient,\r\n        '-moz-linear-gradient': prefixLinearGradient,\r\n        '-ms-linear-gradient': prefixLinearGradient,\r\n        '-o-linear-gradient': prefixLinearGradient,\r\n        '-webkit-linear-gradient': prefixLinearGradient,\r\n        'radial-gradient': radialGradient,\r\n        '-moz-radial-gradient': prefixRadialGradient,\r\n        '-ms-radial-gradient': prefixRadialGradient,\r\n        '-o-radial-gradient': prefixRadialGradient,\r\n        '-webkit-radial-gradient': prefixRadialGradient,\r\n        '-webkit-gradient': webkitGradient\r\n    };\n\n    var backgroundImage = {\r\n        name: 'background-image',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return [];\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n                return [];\r\n            }\r\n            return tokens.filter(function (value) { return nonFunctionArgSeparator(value) && isSupportedImage(value); }).map(image.parse);\r\n        }\r\n    };\n\n    var backgroundOrigin = {\r\n        name: 'background-origin',\r\n        initialValue: 'border-box',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.map(function (token) {\r\n                if (isIdentToken(token)) {\r\n                    switch (token.value) {\r\n                        case 'padding-box':\r\n                            return 1 /* PADDING_BOX */;\r\n                        case 'content-box':\r\n                            return 2 /* CONTENT_BOX */;\r\n                    }\r\n                }\r\n                return 0 /* BORDER_BOX */;\r\n            });\r\n        }\r\n    };\n\n    var backgroundPosition = {\r\n        name: 'background-position',\r\n        initialValue: '0% 0%',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            return parseFunctionArgs(tokens)\r\n                .map(function (values) { return values.filter(isLengthPercentage); })\r\n                .map(parseLengthPercentageTuple);\r\n        }\r\n    };\n\n    var BACKGROUND_REPEAT;\r\n    (function (BACKGROUND_REPEAT) {\r\n        BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"REPEAT\"] = 0] = \"REPEAT\";\r\n        BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"NO_REPEAT\"] = 1] = \"NO_REPEAT\";\r\n        BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"REPEAT_X\"] = 2] = \"REPEAT_X\";\r\n        BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"REPEAT_Y\"] = 3] = \"REPEAT_Y\";\r\n    })(BACKGROUND_REPEAT || (BACKGROUND_REPEAT = {}));\r\n    var backgroundRepeat = {\r\n        name: 'background-repeat',\r\n        initialValue: 'repeat',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return parseFunctionArgs(tokens)\r\n                .map(function (values) {\r\n                return values\r\n                    .filter(isIdentToken)\r\n                    .map(function (token) { return token.value; })\r\n                    .join(' ');\r\n            })\r\n                .map(parseBackgroundRepeat);\r\n        }\r\n    };\r\n    var parseBackgroundRepeat = function (value) {\r\n        switch (value) {\r\n            case 'no-repeat':\r\n                return BACKGROUND_REPEAT.NO_REPEAT;\r\n            case 'repeat-x':\r\n            case 'repeat no-repeat':\r\n                return BACKGROUND_REPEAT.REPEAT_X;\r\n            case 'repeat-y':\r\n            case 'no-repeat repeat':\r\n                return BACKGROUND_REPEAT.REPEAT_Y;\r\n            case 'repeat':\r\n            default:\r\n                return BACKGROUND_REPEAT.REPEAT;\r\n        }\r\n    };\n\n    var BACKGROUND_SIZE;\r\n    (function (BACKGROUND_SIZE) {\r\n        BACKGROUND_SIZE[\"AUTO\"] = \"auto\";\r\n        BACKGROUND_SIZE[\"CONTAIN\"] = \"contain\";\r\n        BACKGROUND_SIZE[\"COVER\"] = \"cover\";\r\n    })(BACKGROUND_SIZE || (BACKGROUND_SIZE = {}));\r\n    var backgroundSize = {\r\n        name: 'background-size',\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return parseFunctionArgs(tokens).map(function (values) { return values.filter(isBackgroundSizeInfoToken); });\r\n        }\r\n    };\r\n    var isBackgroundSizeInfoToken = function (value) {\r\n        return isIdentToken(value) || isLengthPercentage(value);\r\n    };\n\n    var borderColorForSide = function (side) { return ({\r\n        name: \"border-\" + side + \"-color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'color'\r\n    }); };\r\n    var borderTopColor = borderColorForSide('top');\r\n    var borderRightColor = borderColorForSide('right');\r\n    var borderBottomColor = borderColorForSide('bottom');\r\n    var borderLeftColor = borderColorForSide('left');\n\n    var borderRadiusForSide = function (side) { return ({\r\n        name: \"border-radius-\" + side,\r\n        initialValue: '0 0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) { return parseLengthPercentageTuple(tokens.filter(isLengthPercentage)); }\r\n    }); };\r\n    var borderTopLeftRadius = borderRadiusForSide('top-left');\r\n    var borderTopRightRadius = borderRadiusForSide('top-right');\r\n    var borderBottomRightRadius = borderRadiusForSide('bottom-right');\r\n    var borderBottomLeftRadius = borderRadiusForSide('bottom-left');\n\n    var BORDER_STYLE;\r\n    (function (BORDER_STYLE) {\r\n        BORDER_STYLE[BORDER_STYLE[\"NONE\"] = 0] = \"NONE\";\r\n        BORDER_STYLE[BORDER_STYLE[\"SOLID\"] = 1] = \"SOLID\";\r\n    })(BORDER_STYLE || (BORDER_STYLE = {}));\r\n    var borderStyleForSide = function (side) { return ({\r\n        name: \"border-\" + side + \"-style\",\r\n        initialValue: 'solid',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (style) {\r\n            switch (style) {\r\n                case 'none':\r\n                    return BORDER_STYLE.NONE;\r\n            }\r\n            return BORDER_STYLE.SOLID;\r\n        }\r\n    }); };\r\n    var borderTopStyle = borderStyleForSide('top');\r\n    var borderRightStyle = borderStyleForSide('right');\r\n    var borderBottomStyle = borderStyleForSide('bottom');\r\n    var borderLeftStyle = borderStyleForSide('left');\n\n    var borderWidthForSide = function (side) { return ({\r\n        name: \"border-\" + side + \"-width\",\r\n        initialValue: '0',\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        prefix: false,\r\n        parse: function (token) {\r\n            if (isDimensionToken(token)) {\r\n                return token.number;\r\n            }\r\n            return 0;\r\n        }\r\n    }); };\r\n    var borderTopWidth = borderWidthForSide('top');\r\n    var borderRightWidth = borderWidthForSide('right');\r\n    var borderBottomWidth = borderWidthForSide('bottom');\r\n    var borderLeftWidth = borderWidthForSide('left');\n\n    var color$1 = {\r\n        name: \"color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'color'\r\n    };\n\n    var display = {\r\n        name: 'display',\r\n        initialValue: 'inline-block',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.filter(isIdentToken).reduce(function (bit, token) {\r\n                return bit | parseDisplayValue(token.value);\r\n            }, 0 /* NONE */);\r\n        }\r\n    };\r\n    var parseDisplayValue = function (display) {\r\n        switch (display) {\r\n            case 'block':\r\n                return 2 /* BLOCK */;\r\n            case 'inline':\r\n                return 4 /* INLINE */;\r\n            case 'run-in':\r\n                return 8 /* RUN_IN */;\r\n            case 'flow':\r\n                return 16 /* FLOW */;\r\n            case 'flow-root':\r\n                return 32 /* FLOW_ROOT */;\r\n            case 'table':\r\n                return 64 /* TABLE */;\r\n            case 'flex':\r\n            case '-webkit-flex':\r\n                return 128 /* FLEX */;\r\n            case 'grid':\r\n            case '-ms-grid':\r\n                return 256 /* GRID */;\r\n            case 'ruby':\r\n                return 512 /* RUBY */;\r\n            case 'subgrid':\r\n                return 1024 /* SUBGRID */;\r\n            case 'list-item':\r\n                return 2048 /* LIST_ITEM */;\r\n            case 'table-row-group':\r\n                return 4096 /* TABLE_ROW_GROUP */;\r\n            case 'table-header-group':\r\n                return 8192 /* TABLE_HEADER_GROUP */;\r\n            case 'table-footer-group':\r\n                return 16384 /* TABLE_FOOTER_GROUP */;\r\n            case 'table-row':\r\n                return 32768 /* TABLE_ROW */;\r\n            case 'table-cell':\r\n                return 65536 /* TABLE_CELL */;\r\n            case 'table-column-group':\r\n                return 131072 /* TABLE_COLUMN_GROUP */;\r\n            case 'table-column':\r\n                return 262144 /* TABLE_COLUMN */;\r\n            case 'table-caption':\r\n                return 524288 /* TABLE_CAPTION */;\r\n            case 'ruby-base':\r\n                return 1048576 /* RUBY_BASE */;\r\n            case 'ruby-text':\r\n                return 2097152 /* RUBY_TEXT */;\r\n            case 'ruby-base-container':\r\n                return 4194304 /* RUBY_BASE_CONTAINER */;\r\n            case 'ruby-text-container':\r\n                return 8388608 /* RUBY_TEXT_CONTAINER */;\r\n            case 'contents':\r\n                return 16777216 /* CONTENTS */;\r\n            case 'inline-block':\r\n                return 33554432 /* INLINE_BLOCK */;\r\n            case 'inline-list-item':\r\n                return 67108864 /* INLINE_LIST_ITEM */;\r\n            case 'inline-table':\r\n                return 134217728 /* INLINE_TABLE */;\r\n            case 'inline-flex':\r\n                return 268435456 /* INLINE_FLEX */;\r\n            case 'inline-grid':\r\n                return 536870912 /* INLINE_GRID */;\r\n        }\r\n        return 0 /* NONE */;\r\n    };\n\n    var FLOAT;\r\n    (function (FLOAT) {\r\n        FLOAT[FLOAT[\"NONE\"] = 0] = \"NONE\";\r\n        FLOAT[FLOAT[\"LEFT\"] = 1] = \"LEFT\";\r\n        FLOAT[FLOAT[\"RIGHT\"] = 2] = \"RIGHT\";\r\n        FLOAT[FLOAT[\"INLINE_START\"] = 3] = \"INLINE_START\";\r\n        FLOAT[FLOAT[\"INLINE_END\"] = 4] = \"INLINE_END\";\r\n    })(FLOAT || (FLOAT = {}));\r\n    var float = {\r\n        name: 'float',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (float) {\r\n            switch (float) {\r\n                case 'left':\r\n                    return FLOAT.LEFT;\r\n                case 'right':\r\n                    return FLOAT.RIGHT;\r\n                case 'inline-start':\r\n                    return FLOAT.INLINE_START;\r\n                case 'inline-end':\r\n                    return FLOAT.INLINE_END;\r\n            }\r\n            return FLOAT.NONE;\r\n        }\r\n    };\n\n    var letterSpacing = {\r\n        name: 'letter-spacing',\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        parse: function (token) {\r\n            if (token.type === TokenType.IDENT_TOKEN && token.value === 'normal') {\r\n                return 0;\r\n            }\r\n            if (token.type === TokenType.NUMBER_TOKEN) {\r\n                return token.number;\r\n            }\r\n            if (token.type === TokenType.DIMENSION_TOKEN) {\r\n                return token.number;\r\n            }\r\n            return 0;\r\n        }\r\n    };\n\n    var LINE_BREAK;\r\n    (function (LINE_BREAK) {\r\n        LINE_BREAK[\"NORMAL\"] = \"normal\";\r\n        LINE_BREAK[\"STRICT\"] = \"strict\";\r\n    })(LINE_BREAK || (LINE_BREAK = {}));\r\n    var lineBreak = {\r\n        name: 'line-break',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (lineBreak) {\r\n            switch (lineBreak) {\r\n                case 'strict':\r\n                    return LINE_BREAK.STRICT;\r\n                case 'normal':\r\n                default:\r\n                    return LINE_BREAK.NORMAL;\r\n            }\r\n        }\r\n    };\n\n    var lineHeight = {\r\n        name: 'line-height',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TOKEN_VALUE\r\n    };\r\n    var computeLineHeight = function (token, fontSize) {\r\n        if (isIdentToken(token) && token.value === 'normal') {\r\n            return 1.2 * fontSize;\r\n        }\r\n        else if (token.type === TokenType.NUMBER_TOKEN) {\r\n            return fontSize * token.number;\r\n        }\r\n        else if (isLengthPercentage(token)) {\r\n            return getAbsoluteValue(token, fontSize);\r\n        }\r\n        return fontSize;\r\n    };\n\n    var listStyleImage = {\r\n        name: 'list-style-image',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        prefix: false,\r\n        parse: function (token) {\r\n            if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\r\n                return null;\r\n            }\r\n            return image.parse(token);\r\n        }\r\n    };\n\n    var LIST_STYLE_POSITION;\r\n    (function (LIST_STYLE_POSITION) {\r\n        LIST_STYLE_POSITION[LIST_STYLE_POSITION[\"INSIDE\"] = 0] = \"INSIDE\";\r\n        LIST_STYLE_POSITION[LIST_STYLE_POSITION[\"OUTSIDE\"] = 1] = \"OUTSIDE\";\r\n    })(LIST_STYLE_POSITION || (LIST_STYLE_POSITION = {}));\r\n    var listStylePosition = {\r\n        name: 'list-style-position',\r\n        initialValue: 'outside',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (position) {\r\n            switch (position) {\r\n                case 'inside':\r\n                    return LIST_STYLE_POSITION.INSIDE;\r\n                case 'outside':\r\n                default:\r\n                    return LIST_STYLE_POSITION.OUTSIDE;\r\n            }\r\n        }\r\n    };\n\n    var LIST_STYLE_TYPE;\r\n    (function (LIST_STYLE_TYPE) {\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"NONE\"] = -1] = \"NONE\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DISC\"] = 0] = \"DISC\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CIRCLE\"] = 1] = \"CIRCLE\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"SQUARE\"] = 2] = \"SQUARE\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DECIMAL\"] = 3] = \"DECIMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_DECIMAL\"] = 4] = \"CJK_DECIMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DECIMAL_LEADING_ZERO\"] = 5] = \"DECIMAL_LEADING_ZERO\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_ROMAN\"] = 6] = \"LOWER_ROMAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"UPPER_ROMAN\"] = 7] = \"UPPER_ROMAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_GREEK\"] = 8] = \"LOWER_GREEK\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_ALPHA\"] = 9] = \"LOWER_ALPHA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"UPPER_ALPHA\"] = 10] = \"UPPER_ALPHA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ARABIC_INDIC\"] = 11] = \"ARABIC_INDIC\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ARMENIAN\"] = 12] = \"ARMENIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"BENGALI\"] = 13] = \"BENGALI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CAMBODIAN\"] = 14] = \"CAMBODIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_EARTHLY_BRANCH\"] = 15] = \"CJK_EARTHLY_BRANCH\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_HEAVENLY_STEM\"] = 16] = \"CJK_HEAVENLY_STEM\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_IDEOGRAPHIC\"] = 17] = \"CJK_IDEOGRAPHIC\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DEVANAGARI\"] = 18] = \"DEVANAGARI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ETHIOPIC_NUMERIC\"] = 19] = \"ETHIOPIC_NUMERIC\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"GEORGIAN\"] = 20] = \"GEORGIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"GUJARATI\"] = 21] = \"GUJARATI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"GURMUKHI\"] = 22] = \"GURMUKHI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"HEBREW\"] = 22] = \"HEBREW\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"HIRAGANA\"] = 23] = \"HIRAGANA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"HIRAGANA_IROHA\"] = 24] = \"HIRAGANA_IROHA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"JAPANESE_FORMAL\"] = 25] = \"JAPANESE_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"JAPANESE_INFORMAL\"] = 26] = \"JAPANESE_INFORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KANNADA\"] = 27] = \"KANNADA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KATAKANA\"] = 28] = \"KATAKANA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KATAKANA_IROHA\"] = 29] = \"KATAKANA_IROHA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KHMER\"] = 30] = \"KHMER\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KOREAN_HANGUL_FORMAL\"] = 31] = \"KOREAN_HANGUL_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KOREAN_HANJA_FORMAL\"] = 32] = \"KOREAN_HANJA_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KOREAN_HANJA_INFORMAL\"] = 33] = \"KOREAN_HANJA_INFORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LAO\"] = 34] = \"LAO\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_ARMENIAN\"] = 35] = \"LOWER_ARMENIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"MALAYALAM\"] = 36] = \"MALAYALAM\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"MONGOLIAN\"] = 37] = \"MONGOLIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"MYANMAR\"] = 38] = \"MYANMAR\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ORIYA\"] = 39] = \"ORIYA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"PERSIAN\"] = 40] = \"PERSIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"SIMP_CHINESE_FORMAL\"] = 41] = \"SIMP_CHINESE_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"SIMP_CHINESE_INFORMAL\"] = 42] = \"SIMP_CHINESE_INFORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TAMIL\"] = 43] = \"TAMIL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TELUGU\"] = 44] = \"TELUGU\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"THAI\"] = 45] = \"THAI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TIBETAN\"] = 46] = \"TIBETAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TRAD_CHINESE_FORMAL\"] = 47] = \"TRAD_CHINESE_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TRAD_CHINESE_INFORMAL\"] = 48] = \"TRAD_CHINESE_INFORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"UPPER_ARMENIAN\"] = 49] = \"UPPER_ARMENIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DISCLOSURE_OPEN\"] = 50] = \"DISCLOSURE_OPEN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DISCLOSURE_CLOSED\"] = 51] = \"DISCLOSURE_CLOSED\";\r\n    })(LIST_STYLE_TYPE || (LIST_STYLE_TYPE = {}));\r\n    var listStyleType = {\r\n        name: 'list-style-type',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (type) {\r\n            switch (type) {\r\n                case 'disc':\r\n                    return LIST_STYLE_TYPE.DISC;\r\n                case 'circle':\r\n                    return LIST_STYLE_TYPE.CIRCLE;\r\n                case 'square':\r\n                    return LIST_STYLE_TYPE.SQUARE;\r\n                case 'decimal':\r\n                    return LIST_STYLE_TYPE.DECIMAL;\r\n                case 'cjk-decimal':\r\n                    return LIST_STYLE_TYPE.CJK_DECIMAL;\r\n                case 'decimal-leading-zero':\r\n                    return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;\r\n                case 'lower-roman':\r\n                    return LIST_STYLE_TYPE.LOWER_ROMAN;\r\n                case 'upper-roman':\r\n                    return LIST_STYLE_TYPE.UPPER_ROMAN;\r\n                case 'lower-greek':\r\n                    return LIST_STYLE_TYPE.LOWER_GREEK;\r\n                case 'lower-alpha':\r\n                    return LIST_STYLE_TYPE.LOWER_ALPHA;\r\n                case 'upper-alpha':\r\n                    return LIST_STYLE_TYPE.UPPER_ALPHA;\r\n                case 'arabic-indic':\r\n                    return LIST_STYLE_TYPE.ARABIC_INDIC;\r\n                case 'armenian':\r\n                    return LIST_STYLE_TYPE.ARMENIAN;\r\n                case 'bengali':\r\n                    return LIST_STYLE_TYPE.BENGALI;\r\n                case 'cambodian':\r\n                    return LIST_STYLE_TYPE.CAMBODIAN;\r\n                case 'cjk-earthly-branch':\r\n                    return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;\r\n                case 'cjk-heavenly-stem':\r\n                    return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;\r\n                case 'cjk-ideographic':\r\n                    return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;\r\n                case 'devanagari':\r\n                    return LIST_STYLE_TYPE.DEVANAGARI;\r\n                case 'ethiopic-numeric':\r\n                    return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;\r\n                case 'georgian':\r\n                    return LIST_STYLE_TYPE.GEORGIAN;\r\n                case 'gujarati':\r\n                    return LIST_STYLE_TYPE.GUJARATI;\r\n                case 'gurmukhi':\r\n                    return LIST_STYLE_TYPE.GURMUKHI;\r\n                case 'hebrew':\r\n                    return LIST_STYLE_TYPE.HEBREW;\r\n                case 'hiragana':\r\n                    return LIST_STYLE_TYPE.HIRAGANA;\r\n                case 'hiragana-iroha':\r\n                    return LIST_STYLE_TYPE.HIRAGANA_IROHA;\r\n                case 'japanese-formal':\r\n                    return LIST_STYLE_TYPE.JAPANESE_FORMAL;\r\n                case 'japanese-informal':\r\n                    return LIST_STYLE_TYPE.JAPANESE_INFORMAL;\r\n                case 'kannada':\r\n                    return LIST_STYLE_TYPE.KANNADA;\r\n                case 'katakana':\r\n                    return LIST_STYLE_TYPE.KATAKANA;\r\n                case 'katakana-iroha':\r\n                    return LIST_STYLE_TYPE.KATAKANA_IROHA;\r\n                case 'khmer':\r\n                    return LIST_STYLE_TYPE.KHMER;\r\n                case 'korean-hangul-formal':\r\n                    return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;\r\n                case 'korean-hanja-formal':\r\n                    return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;\r\n                case 'korean-hanja-informal':\r\n                    return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;\r\n                case 'lao':\r\n                    return LIST_STYLE_TYPE.LAO;\r\n                case 'lower-armenian':\r\n                    return LIST_STYLE_TYPE.LOWER_ARMENIAN;\r\n                case 'malayalam':\r\n                    return LIST_STYLE_TYPE.MALAYALAM;\r\n                case 'mongolian':\r\n                    return LIST_STYLE_TYPE.MONGOLIAN;\r\n                case 'myanmar':\r\n                    return LIST_STYLE_TYPE.MYANMAR;\r\n                case 'oriya':\r\n                    return LIST_STYLE_TYPE.ORIYA;\r\n                case 'persian':\r\n                    return LIST_STYLE_TYPE.PERSIAN;\r\n                case 'simp-chinese-formal':\r\n                    return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;\r\n                case 'simp-chinese-informal':\r\n                    return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;\r\n                case 'tamil':\r\n                    return LIST_STYLE_TYPE.TAMIL;\r\n                case 'telugu':\r\n                    return LIST_STYLE_TYPE.TELUGU;\r\n                case 'thai':\r\n                    return LIST_STYLE_TYPE.THAI;\r\n                case 'tibetan':\r\n                    return LIST_STYLE_TYPE.TIBETAN;\r\n                case 'trad-chinese-formal':\r\n                    return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;\r\n                case 'trad-chinese-informal':\r\n                    return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;\r\n                case 'upper-armenian':\r\n                    return LIST_STYLE_TYPE.UPPER_ARMENIAN;\r\n                case 'disclosure-open':\r\n                    return LIST_STYLE_TYPE.DISCLOSURE_OPEN;\r\n                case 'disclosure-closed':\r\n                    return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;\r\n                case 'none':\r\n                default:\r\n                    return LIST_STYLE_TYPE.NONE;\r\n            }\r\n        }\r\n    };\n\n    var marginForSide = function (side) { return ({\r\n        name: \"margin-\" + side,\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TOKEN_VALUE\r\n    }); };\r\n    var marginTop = marginForSide('top');\r\n    var marginRight = marginForSide('right');\r\n    var marginBottom = marginForSide('bottom');\r\n    var marginLeft = marginForSide('left');\n\n    var OVERFLOW;\r\n    (function (OVERFLOW) {\r\n        OVERFLOW[OVERFLOW[\"VISIBLE\"] = 0] = \"VISIBLE\";\r\n        OVERFLOW[OVERFLOW[\"HIDDEN\"] = 1] = \"HIDDEN\";\r\n        OVERFLOW[OVERFLOW[\"SCROLL\"] = 2] = \"SCROLL\";\r\n        OVERFLOW[OVERFLOW[\"AUTO\"] = 3] = \"AUTO\";\r\n    })(OVERFLOW || (OVERFLOW = {}));\r\n    var overflow = {\r\n        name: 'overflow',\r\n        initialValue: 'visible',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.filter(isIdentToken).map(function (overflow) {\r\n                switch (overflow.value) {\r\n                    case 'hidden':\r\n                        return OVERFLOW.HIDDEN;\r\n                    case 'scroll':\r\n                        return OVERFLOW.SCROLL;\r\n                    case 'auto':\r\n                        return OVERFLOW.AUTO;\r\n                    case 'visible':\r\n                    default:\r\n                        return OVERFLOW.VISIBLE;\r\n                }\r\n            });\r\n        }\r\n    };\n\n    var OVERFLOW_WRAP;\r\n    (function (OVERFLOW_WRAP) {\r\n        OVERFLOW_WRAP[\"NORMAL\"] = \"normal\";\r\n        OVERFLOW_WRAP[\"BREAK_WORD\"] = \"break-word\";\r\n    })(OVERFLOW_WRAP || (OVERFLOW_WRAP = {}));\r\n    var overflowWrap = {\r\n        name: 'overflow-wrap',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (overflow) {\r\n            switch (overflow) {\r\n                case 'break-word':\r\n                    return OVERFLOW_WRAP.BREAK_WORD;\r\n                case 'normal':\r\n                default:\r\n                    return OVERFLOW_WRAP.NORMAL;\r\n            }\r\n        }\r\n    };\n\n    var paddingForSide = function (side) { return ({\r\n        name: \"padding-\" + side,\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'length-percentage'\r\n    }); };\r\n    var paddingTop = paddingForSide('top');\r\n    var paddingRight = paddingForSide('right');\r\n    var paddingBottom = paddingForSide('bottom');\r\n    var paddingLeft = paddingForSide('left');\n\n    var TEXT_ALIGN;\r\n    (function (TEXT_ALIGN) {\r\n        TEXT_ALIGN[TEXT_ALIGN[\"LEFT\"] = 0] = \"LEFT\";\r\n        TEXT_ALIGN[TEXT_ALIGN[\"CENTER\"] = 1] = \"CENTER\";\r\n        TEXT_ALIGN[TEXT_ALIGN[\"RIGHT\"] = 2] = \"RIGHT\";\r\n    })(TEXT_ALIGN || (TEXT_ALIGN = {}));\r\n    var textAlign = {\r\n        name: 'text-align',\r\n        initialValue: 'left',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (textAlign) {\r\n            switch (textAlign) {\r\n                case 'right':\r\n                    return TEXT_ALIGN.RIGHT;\r\n                case 'center':\r\n                case 'justify':\r\n                    return TEXT_ALIGN.CENTER;\r\n                case 'left':\r\n                default:\r\n                    return TEXT_ALIGN.LEFT;\r\n            }\r\n        }\r\n    };\n\n    var POSITION;\r\n    (function (POSITION) {\r\n        POSITION[POSITION[\"STATIC\"] = 0] = \"STATIC\";\r\n        POSITION[POSITION[\"RELATIVE\"] = 1] = \"RELATIVE\";\r\n        POSITION[POSITION[\"ABSOLUTE\"] = 2] = \"ABSOLUTE\";\r\n        POSITION[POSITION[\"FIXED\"] = 3] = \"FIXED\";\r\n        POSITION[POSITION[\"STICKY\"] = 4] = \"STICKY\";\r\n    })(POSITION || (POSITION = {}));\r\n    var position = {\r\n        name: 'position',\r\n        initialValue: 'static',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (position) {\r\n            switch (position) {\r\n                case 'relative':\r\n                    return POSITION.RELATIVE;\r\n                case 'absolute':\r\n                    return POSITION.ABSOLUTE;\r\n                case 'fixed':\r\n                    return POSITION.FIXED;\r\n                case 'sticky':\r\n                    return POSITION.STICKY;\r\n            }\r\n            return POSITION.STATIC;\r\n        }\r\n    };\n\n    var textShadow = {\r\n        name: 'text-shadow',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\r\n                return [];\r\n            }\r\n            return parseFunctionArgs(tokens).map(function (values) {\r\n                var shadow = {\r\n                    color: COLORS.TRANSPARENT,\r\n                    offsetX: ZERO_LENGTH,\r\n                    offsetY: ZERO_LENGTH,\r\n                    blur: ZERO_LENGTH\r\n                };\r\n                var c = 0;\r\n                for (var i = 0; i < values.length; i++) {\r\n                    var token = values[i];\r\n                    if (isLength(token)) {\r\n                        if (c === 0) {\r\n                            shadow.offsetX = token;\r\n                        }\r\n                        else if (c === 1) {\r\n                            shadow.offsetY = token;\r\n                        }\r\n                        else {\r\n                            shadow.blur = token;\r\n                        }\r\n                        c++;\r\n                    }\r\n                    else {\r\n                        shadow.color = color.parse(token);\r\n                    }\r\n                }\r\n                return shadow;\r\n            });\r\n        }\r\n    };\n\n    var TEXT_TRANSFORM;\r\n    (function (TEXT_TRANSFORM) {\r\n        TEXT_TRANSFORM[TEXT_TRANSFORM[\"NONE\"] = 0] = \"NONE\";\r\n        TEXT_TRANSFORM[TEXT_TRANSFORM[\"LOWERCASE\"] = 1] = \"LOWERCASE\";\r\n        TEXT_TRANSFORM[TEXT_TRANSFORM[\"UPPERCASE\"] = 2] = \"UPPERCASE\";\r\n        TEXT_TRANSFORM[TEXT_TRANSFORM[\"CAPITALIZE\"] = 3] = \"CAPITALIZE\";\r\n    })(TEXT_TRANSFORM || (TEXT_TRANSFORM = {}));\r\n    var textTransform = {\r\n        name: 'text-transform',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (textTransform) {\r\n            switch (textTransform) {\r\n                case 'uppercase':\r\n                    return TEXT_TRANSFORM.UPPERCASE;\r\n                case 'lowercase':\r\n                    return TEXT_TRANSFORM.LOWERCASE;\r\n                case 'capitalize':\r\n                    return TEXT_TRANSFORM.CAPITALIZE;\r\n            }\r\n            return TEXT_TRANSFORM.NONE;\r\n        }\r\n    };\n\n    var transform = {\r\n        name: 'transform',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        parse: function (token) {\r\n            if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\r\n                return null;\r\n            }\r\n            if (token.type === TokenType.FUNCTION) {\r\n                var transformFunction = SUPPORTED_TRANSFORM_FUNCTIONS[token.name];\r\n                if (typeof transformFunction === 'undefined') {\r\n                    throw new Error(\"Attempting to parse an unsupported transform function \\\"\" + token.name + \"\\\"\");\r\n                }\r\n                return transformFunction(token.values);\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n    var matrix = function (args) {\r\n        var values = args.filter(function (arg) { return arg.type === TokenType.NUMBER_TOKEN; }).map(function (arg) { return arg.number; });\r\n        return values.length === 6 ? values : null;\r\n    };\r\n    // doesn't support 3D transforms at the moment\r\n    var matrix3d = function (args) {\r\n        var values = args.filter(function (arg) { return arg.type === TokenType.NUMBER_TOKEN; }).map(function (arg) { return arg.number; });\r\n        var a1 = values[0], b1 = values[1], _a = values[2], _b = values[3], a2 = values[4], b2 = values[5], _c = values[6], _d = values[7], _e = values[8], _f = values[9], _g = values[10], _h = values[11], a4 = values[12], b4 = values[13], _j = values[14], _k = values[15];\r\n        return values.length === 16 ? [a1, b1, a2, b2, a4, b4] : null;\r\n    };\r\n    var SUPPORTED_TRANSFORM_FUNCTIONS = {\r\n        matrix: matrix,\r\n        matrix3d: matrix3d\r\n    };\n\n    var DEFAULT_VALUE = {\r\n        type: TokenType.PERCENTAGE_TOKEN,\r\n        number: 50,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var DEFAULT = [DEFAULT_VALUE, DEFAULT_VALUE];\r\n    var transformOrigin = {\r\n        name: 'transform-origin',\r\n        initialValue: '50% 50%',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            var origins = tokens.filter(isLengthPercentage);\r\n            if (origins.length !== 2) {\r\n                return DEFAULT;\r\n            }\r\n            return [origins[0], origins[1]];\r\n        }\r\n    };\n\n    var VISIBILITY;\r\n    (function (VISIBILITY) {\r\n        VISIBILITY[VISIBILITY[\"VISIBLE\"] = 0] = \"VISIBLE\";\r\n        VISIBILITY[VISIBILITY[\"HIDDEN\"] = 1] = \"HIDDEN\";\r\n        VISIBILITY[VISIBILITY[\"COLLAPSE\"] = 2] = \"COLLAPSE\";\r\n    })(VISIBILITY || (VISIBILITY = {}));\r\n    var visibility = {\r\n        name: 'visible',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (visibility) {\r\n            switch (visibility) {\r\n                case 'hidden':\r\n                    return VISIBILITY.HIDDEN;\r\n                case 'collapse':\r\n                    return VISIBILITY.COLLAPSE;\r\n                case 'visible':\r\n                default:\r\n                    return VISIBILITY.VISIBLE;\r\n            }\r\n        }\r\n    };\n\n    var WORD_BREAK;\r\n    (function (WORD_BREAK) {\r\n        WORD_BREAK[\"NORMAL\"] = \"normal\";\r\n        WORD_BREAK[\"BREAK_ALL\"] = \"break-all\";\r\n        WORD_BREAK[\"KEEP_ALL\"] = \"keep-all\";\r\n    })(WORD_BREAK || (WORD_BREAK = {}));\r\n    var wordBreak = {\r\n        name: 'word-break',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (wordBreak) {\r\n            switch (wordBreak) {\r\n                case 'break-all':\r\n                    return WORD_BREAK.BREAK_ALL;\r\n                case 'keep-all':\r\n                    return WORD_BREAK.KEEP_ALL;\r\n                case 'normal':\r\n                default:\r\n                    return WORD_BREAK.NORMAL;\r\n            }\r\n        }\r\n    };\n\n    var zIndex = {\r\n        name: 'z-index',\r\n        initialValue: 'auto',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        parse: function (token) {\r\n            if (token.type === TokenType.IDENT_TOKEN) {\r\n                return { auto: true, order: 0 };\r\n            }\r\n            if (isNumberToken(token)) {\r\n                return { auto: false, order: token.number };\r\n            }\r\n            throw new Error(\"Invalid z-index number parsed\");\r\n        }\r\n    };\n\n    var opacity = {\r\n        name: 'opacity',\r\n        initialValue: '1',\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        prefix: false,\r\n        parse: function (token) {\r\n            if (isNumberToken(token)) {\r\n                return token.number;\r\n            }\r\n            return 1;\r\n        }\r\n    };\n\n    var textDecorationColor = {\r\n        name: \"text-decoration-color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'color'\r\n    };\n\n    var textDecorationLine = {\r\n        name: 'text-decoration-line',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens\r\n                .filter(isIdentToken)\r\n                .map(function (token) {\r\n                switch (token.value) {\r\n                    case 'underline':\r\n                        return 1 /* UNDERLINE */;\r\n                    case 'overline':\r\n                        return 2 /* OVERLINE */;\r\n                    case 'line-through':\r\n                        return 3 /* LINE_THROUGH */;\r\n                    case 'none':\r\n                        return 4 /* BLINK */;\r\n                }\r\n                return 0 /* NONE */;\r\n            })\r\n                .filter(function (line) { return line !== 0 /* NONE */; });\r\n        }\r\n    };\n\n    var fontFamily = {\r\n        name: \"font-family\",\r\n        initialValue: '',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            var accumulator = [];\r\n            var results = [];\r\n            tokens.forEach(function (token) {\r\n                switch (token.type) {\r\n                    case TokenType.IDENT_TOKEN:\r\n                    case TokenType.STRING_TOKEN:\r\n                        accumulator.push(token.value);\r\n                        break;\r\n                    case TokenType.NUMBER_TOKEN:\r\n                        accumulator.push(token.number.toString());\r\n                        break;\r\n                    case TokenType.COMMA_TOKEN:\r\n                        results.push(accumulator.join(' '));\r\n                        accumulator.length = 0;\r\n                        break;\r\n                }\r\n            });\r\n            if (accumulator.length) {\r\n                results.push(accumulator.join(' '));\r\n            }\r\n            return results.map(function (result) { return (result.indexOf(' ') === -1 ? result : \"'\" + result + \"'\"); });\r\n        }\r\n    };\n\n    var fontSize = {\r\n        name: \"font-size\",\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'length'\r\n    };\n\n    var fontWeight = {\r\n        name: 'font-weight',\r\n        initialValue: 'normal',\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        prefix: false,\r\n        parse: function (token) {\r\n            if (isNumberToken(token)) {\r\n                return token.number;\r\n            }\r\n            if (isIdentToken(token)) {\r\n                switch (token.value) {\r\n                    case 'bold':\r\n                        return 700;\r\n                    case 'normal':\r\n                    default:\r\n                        return 400;\r\n                }\r\n            }\r\n            return 400;\r\n        }\r\n    };\n\n    var fontVariant = {\r\n        name: 'font-variant',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            return tokens.filter(isIdentToken).map(function (token) { return token.value; });\r\n        }\r\n    };\n\n    var FONT_STYLE;\r\n    (function (FONT_STYLE) {\r\n        FONT_STYLE[\"NORMAL\"] = \"normal\";\r\n        FONT_STYLE[\"ITALIC\"] = \"italic\";\r\n        FONT_STYLE[\"OBLIQUE\"] = \"oblique\";\r\n    })(FONT_STYLE || (FONT_STYLE = {}));\r\n    var fontStyle = {\r\n        name: 'font-style',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (overflow) {\r\n            switch (overflow) {\r\n                case 'oblique':\r\n                    return FONT_STYLE.OBLIQUE;\r\n                case 'italic':\r\n                    return FONT_STYLE.ITALIC;\r\n                case 'normal':\r\n                default:\r\n                    return FONT_STYLE.NORMAL;\r\n            }\r\n        }\r\n    };\n\n    var contains = function (bit, value) { return (bit & value) !== 0; };\n\n    var content = {\r\n        name: 'content',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return [];\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n                return [];\r\n            }\r\n            return tokens;\r\n        }\r\n    };\n\n    var counterIncrement = {\r\n        name: 'counter-increment',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return null;\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n                return null;\r\n            }\r\n            var increments = [];\r\n            var filtered = tokens.filter(nonWhiteSpace);\r\n            for (var i = 0; i < filtered.length; i++) {\r\n                var counter = filtered[i];\r\n                var next = filtered[i + 1];\r\n                if (counter.type === TokenType.IDENT_TOKEN) {\r\n                    var increment = next && isNumberToken(next) ? next.number : 1;\r\n                    increments.push({ counter: counter.value, increment: increment });\r\n                }\r\n            }\r\n            return increments;\r\n        }\r\n    };\n\n    var counterReset = {\r\n        name: 'counter-reset',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return [];\r\n            }\r\n            var resets = [];\r\n            var filtered = tokens.filter(nonWhiteSpace);\r\n            for (var i = 0; i < filtered.length; i++) {\r\n                var counter = filtered[i];\r\n                var next = filtered[i + 1];\r\n                if (isIdentToken(counter) && counter.value !== 'none') {\r\n                    var reset = next && isNumberToken(next) ? next.number : 0;\r\n                    resets.push({ counter: counter.value, reset: reset });\r\n                }\r\n            }\r\n            return resets;\r\n        }\r\n    };\n\n    var quotes = {\r\n        name: 'quotes',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return null;\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n                return null;\r\n            }\r\n            var quotes = [];\r\n            var filtered = tokens.filter(isStringToken);\r\n            if (filtered.length % 2 !== 0) {\r\n                return null;\r\n            }\r\n            for (var i = 0; i < filtered.length; i += 2) {\r\n                var open_1 = filtered[i].value;\r\n                var close_1 = filtered[i + 1].value;\r\n                quotes.push({ open: open_1, close: close_1 });\r\n            }\r\n            return quotes;\r\n        }\r\n    };\r\n    var getQuote = function (quotes, depth, open) {\r\n        if (!quotes) {\r\n            return '';\r\n        }\r\n        var quote = quotes[Math.min(depth, quotes.length - 1)];\r\n        if (!quote) {\r\n            return '';\r\n        }\r\n        return open ? quote.open : quote.close;\r\n    };\n\n    var boxShadow = {\r\n        name: 'box-shadow',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\r\n                return [];\r\n            }\r\n            return parseFunctionArgs(tokens).map(function (values) {\r\n                var shadow = {\r\n                    color: 0x000000ff,\r\n                    offsetX: ZERO_LENGTH,\r\n                    offsetY: ZERO_LENGTH,\r\n                    blur: ZERO_LENGTH,\r\n                    spread: ZERO_LENGTH,\r\n                    inset: false\r\n                };\r\n                var c = 0;\r\n                for (var i = 0; i < values.length; i++) {\r\n                    var token = values[i];\r\n                    if (isIdentWithValue(token, 'inset')) {\r\n                        shadow.inset = true;\r\n                    }\r\n                    else if (isLength(token)) {\r\n                        if (c === 0) {\r\n                            shadow.offsetX = token;\r\n                        }\r\n                        else if (c === 1) {\r\n                            shadow.offsetY = token;\r\n                        }\r\n                        else if (c === 2) {\r\n                            shadow.blur = token;\r\n                        }\r\n                        else {\r\n                            shadow.spread = token;\r\n                        }\r\n                        c++;\r\n                    }\r\n                    else {\r\n                        shadow.color = color.parse(token);\r\n                    }\r\n                }\r\n                return shadow;\r\n            });\r\n        }\r\n    };\n\n    var CSSParsedDeclaration = /** @class */ (function () {\r\n        function CSSParsedDeclaration(declaration) {\r\n            this.backgroundClip = parse(backgroundClip, declaration.backgroundClip);\r\n            this.backgroundColor = parse(backgroundColor, declaration.backgroundColor);\r\n            this.backgroundImage = parse(backgroundImage, declaration.backgroundImage);\r\n            this.backgroundOrigin = parse(backgroundOrigin, declaration.backgroundOrigin);\r\n            this.backgroundPosition = parse(backgroundPosition, declaration.backgroundPosition);\r\n            this.backgroundRepeat = parse(backgroundRepeat, declaration.backgroundRepeat);\r\n            this.backgroundSize = parse(backgroundSize, declaration.backgroundSize);\r\n            this.borderTopColor = parse(borderTopColor, declaration.borderTopColor);\r\n            this.borderRightColor = parse(borderRightColor, declaration.borderRightColor);\r\n            this.borderBottomColor = parse(borderBottomColor, declaration.borderBottomColor);\r\n            this.borderLeftColor = parse(borderLeftColor, declaration.borderLeftColor);\r\n            this.borderTopLeftRadius = parse(borderTopLeftRadius, declaration.borderTopLeftRadius);\r\n            this.borderTopRightRadius = parse(borderTopRightRadius, declaration.borderTopRightRadius);\r\n            this.borderBottomRightRadius = parse(borderBottomRightRadius, declaration.borderBottomRightRadius);\r\n            this.borderBottomLeftRadius = parse(borderBottomLeftRadius, declaration.borderBottomLeftRadius);\r\n            this.borderTopStyle = parse(borderTopStyle, declaration.borderTopStyle);\r\n            this.borderRightStyle = parse(borderRightStyle, declaration.borderRightStyle);\r\n            this.borderBottomStyle = parse(borderBottomStyle, declaration.borderBottomStyle);\r\n            this.borderLeftStyle = parse(borderLeftStyle, declaration.borderLeftStyle);\r\n            this.borderTopWidth = parse(borderTopWidth, declaration.borderTopWidth);\r\n            this.borderRightWidth = parse(borderRightWidth, declaration.borderRightWidth);\r\n            this.borderBottomWidth = parse(borderBottomWidth, declaration.borderBottomWidth);\r\n            this.borderLeftWidth = parse(borderLeftWidth, declaration.borderLeftWidth);\r\n            this.boxShadow = parse(boxShadow, declaration.boxShadow);\r\n            this.color = parse(color$1, declaration.color);\r\n            this.display = parse(display, declaration.display);\r\n            this.float = parse(float, declaration.cssFloat);\r\n            this.fontFamily = parse(fontFamily, declaration.fontFamily);\r\n            this.fontSize = parse(fontSize, declaration.fontSize);\r\n            this.fontStyle = parse(fontStyle, declaration.fontStyle);\r\n            this.fontVariant = parse(fontVariant, declaration.fontVariant);\r\n            this.fontWeight = parse(fontWeight, declaration.fontWeight);\r\n            this.letterSpacing = parse(letterSpacing, declaration.letterSpacing);\r\n            this.lineBreak = parse(lineBreak, declaration.lineBreak);\r\n            this.lineHeight = parse(lineHeight, declaration.lineHeight);\r\n            this.listStyleImage = parse(listStyleImage, declaration.listStyleImage);\r\n            this.listStylePosition = parse(listStylePosition, declaration.listStylePosition);\r\n            this.listStyleType = parse(listStyleType, declaration.listStyleType);\r\n            this.marginTop = parse(marginTop, declaration.marginTop);\r\n            this.marginRight = parse(marginRight, declaration.marginRight);\r\n            this.marginBottom = parse(marginBottom, declaration.marginBottom);\r\n            this.marginLeft = parse(marginLeft, declaration.marginLeft);\r\n            this.opacity = parse(opacity, declaration.opacity);\r\n            var overflowTuple = parse(overflow, declaration.overflow);\r\n            this.overflowX = overflowTuple[0];\r\n            this.overflowY = overflowTuple[overflowTuple.length > 1 ? 1 : 0];\r\n            this.overflowWrap = parse(overflowWrap, declaration.overflowWrap);\r\n            this.paddingTop = parse(paddingTop, declaration.paddingTop);\r\n            this.paddingRight = parse(paddingRight, declaration.paddingRight);\r\n            this.paddingBottom = parse(paddingBottom, declaration.paddingBottom);\r\n            this.paddingLeft = parse(paddingLeft, declaration.paddingLeft);\r\n            this.position = parse(position, declaration.position);\r\n            this.textAlign = parse(textAlign, declaration.textAlign);\r\n            this.textDecorationColor = parse(textDecorationColor, declaration.textDecorationColor || declaration.color);\r\n            this.textDecorationLine = parse(textDecorationLine, declaration.textDecorationLine);\r\n            this.textShadow = parse(textShadow, declaration.textShadow);\r\n            this.textTransform = parse(textTransform, declaration.textTransform);\r\n            this.transform = parse(transform, declaration.transform);\r\n            this.transformOrigin = parse(transformOrigin, declaration.transformOrigin);\r\n            this.visibility = parse(visibility, declaration.visibility);\r\n            this.wordBreak = parse(wordBreak, declaration.wordBreak);\r\n            this.zIndex = parse(zIndex, declaration.zIndex);\r\n        }\r\n        CSSParsedDeclaration.prototype.isVisible = function () {\r\n            return this.display > 0 && this.opacity > 0 && this.visibility === VISIBILITY.VISIBLE;\r\n        };\r\n        CSSParsedDeclaration.prototype.isTransparent = function () {\r\n            return isTransparent(this.backgroundColor);\r\n        };\r\n        CSSParsedDeclaration.prototype.isTransformed = function () {\r\n            return this.transform !== null;\r\n        };\r\n        CSSParsedDeclaration.prototype.isPositioned = function () {\r\n            return this.position !== POSITION.STATIC;\r\n        };\r\n        CSSParsedDeclaration.prototype.isPositionedWithZIndex = function () {\r\n            return this.isPositioned() && !this.zIndex.auto;\r\n        };\r\n        CSSParsedDeclaration.prototype.isFloating = function () {\r\n            return this.float !== FLOAT.NONE;\r\n        };\r\n        CSSParsedDeclaration.prototype.isInlineLevel = function () {\r\n            return (contains(this.display, 4 /* INLINE */) ||\r\n                contains(this.display, 33554432 /* INLINE_BLOCK */) ||\r\n                contains(this.display, 268435456 /* INLINE_FLEX */) ||\r\n                contains(this.display, 536870912 /* INLINE_GRID */) ||\r\n                contains(this.display, 67108864 /* INLINE_LIST_ITEM */) ||\r\n                contains(this.display, 134217728 /* INLINE_TABLE */));\r\n        };\r\n        return CSSParsedDeclaration;\r\n    }());\r\n    var CSSParsedPseudoDeclaration = /** @class */ (function () {\r\n        function CSSParsedPseudoDeclaration(declaration) {\r\n            this.content = parse(content, declaration.content);\r\n            this.quotes = parse(quotes, declaration.quotes);\r\n        }\r\n        return CSSParsedPseudoDeclaration;\r\n    }());\r\n    var CSSParsedCounterDeclaration = /** @class */ (function () {\r\n        function CSSParsedCounterDeclaration(declaration) {\r\n            this.counterIncrement = parse(counterIncrement, declaration.counterIncrement);\r\n            this.counterReset = parse(counterReset, declaration.counterReset);\r\n        }\r\n        return CSSParsedCounterDeclaration;\r\n    }());\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    var parse = function (descriptor, style) {\r\n        var tokenizer = new Tokenizer();\r\n        var value = style !== null && typeof style !== 'undefined' ? style.toString() : descriptor.initialValue;\r\n        tokenizer.write(value);\r\n        var parser = new Parser(tokenizer.read());\r\n        switch (descriptor.type) {\r\n            case PropertyDescriptorParsingType.IDENT_VALUE:\r\n                var token = parser.parseComponentValue();\r\n                return descriptor.parse(isIdentToken(token) ? token.value : descriptor.initialValue);\r\n            case PropertyDescriptorParsingType.VALUE:\r\n                return descriptor.parse(parser.parseComponentValue());\r\n            case PropertyDescriptorParsingType.LIST:\r\n                return descriptor.parse(parser.parseComponentValues());\r\n            case PropertyDescriptorParsingType.TOKEN_VALUE:\r\n                return parser.parseComponentValue();\r\n            case PropertyDescriptorParsingType.TYPE_VALUE:\r\n                switch (descriptor.format) {\r\n                    case 'angle':\r\n                        return angle.parse(parser.parseComponentValue());\r\n                    case 'color':\r\n                        return color.parse(parser.parseComponentValue());\r\n                    case 'image':\r\n                        return image.parse(parser.parseComponentValue());\r\n                    case 'length':\r\n                        var length_1 = parser.parseComponentValue();\r\n                        return isLength(length_1) ? length_1 : ZERO_LENGTH;\r\n                    case 'length-percentage':\r\n                        var value_1 = parser.parseComponentValue();\r\n                        return isLengthPercentage(value_1) ? value_1 : ZERO_LENGTH;\r\n                }\r\n        }\r\n        throw new Error(\"Attempting to parse unsupported css format type \" + descriptor.format);\r\n    };\n\n    var ElementContainer = /** @class */ (function () {\r\n        function ElementContainer(element) {\r\n            this.styles = new CSSParsedDeclaration(window.getComputedStyle(element, null));\r\n            this.textNodes = [];\r\n            this.elements = [];\r\n            if (this.styles.transform !== null && isHTMLElementNode(element)) {\r\n                // getBoundingClientRect takes transforms into account\r\n                element.style.transform = 'none';\r\n            }\r\n            this.bounds = parseBounds(element);\r\n            this.flags = 0;\r\n        }\r\n        return ElementContainer;\r\n    }());\n\n    var TextBounds = /** @class */ (function () {\r\n        function TextBounds(text, bounds) {\r\n            this.text = text;\r\n            this.bounds = bounds;\r\n        }\r\n        return TextBounds;\r\n    }());\r\n    var parseTextBounds = function (value, styles, node) {\r\n        var textList = breakText(value, styles);\r\n        var textBounds = [];\r\n        var offset = 0;\r\n        textList.forEach(function (text) {\r\n            if (styles.textDecorationLine.length || text.trim().length > 0) {\r\n                if (FEATURES.SUPPORT_RANGE_BOUNDS) {\r\n                    textBounds.push(new TextBounds(text, getRangeBounds(node, offset, text.length)));\r\n                }\r\n                else {\r\n                    var replacementNode = node.splitText(text.length);\r\n                    textBounds.push(new TextBounds(text, getWrapperBounds(node)));\r\n                    node = replacementNode;\r\n                }\r\n            }\r\n            else if (!FEATURES.SUPPORT_RANGE_BOUNDS) {\r\n                node = node.splitText(text.length);\r\n            }\r\n            offset += text.length;\r\n        });\r\n        return textBounds;\r\n    };\r\n    var getWrapperBounds = function (node) {\r\n        var ownerDocument = node.ownerDocument;\r\n        if (ownerDocument) {\r\n            var wrapper = ownerDocument.createElement('html2canvaswrapper');\r\n            wrapper.appendChild(node.cloneNode(true));\r\n            var parentNode = node.parentNode;\r\n            if (parentNode) {\r\n                parentNode.replaceChild(wrapper, node);\r\n                var bounds = parseBounds(wrapper);\r\n                if (wrapper.firstChild) {\r\n                    parentNode.replaceChild(wrapper.firstChild, wrapper);\r\n                }\r\n                return bounds;\r\n            }\r\n        }\r\n        return new Bounds(0, 0, 0, 0);\r\n    };\r\n    var getRangeBounds = function (node, offset, length) {\r\n        var ownerDocument = node.ownerDocument;\r\n        if (!ownerDocument) {\r\n            throw new Error('Node has no owner document');\r\n        }\r\n        var range = ownerDocument.createRange();\r\n        range.setStart(node, offset);\r\n        range.setEnd(node, offset + length);\r\n        return Bounds.fromClientRect(range.getBoundingClientRect());\r\n    };\r\n    var breakText = function (value, styles) {\r\n        return styles.letterSpacing !== 0 ? toCodePoints(value).map(function (i) { return fromCodePoint(i); }) : breakWords(value, styles);\r\n    };\r\n    var breakWords = function (str, styles) {\r\n        var breaker = LineBreaker(str, {\r\n            lineBreak: styles.lineBreak,\r\n            wordBreak: styles.overflowWrap === OVERFLOW_WRAP.BREAK_WORD ? 'break-word' : styles.wordBreak\r\n        });\r\n        var words = [];\r\n        var bk;\r\n        while (!(bk = breaker.next()).done) {\r\n            if (bk.value) {\r\n                words.push(bk.value.slice());\r\n            }\r\n        }\r\n        return words;\r\n    };\n\n    var TextContainer = /** @class */ (function () {\r\n        function TextContainer(node, styles) {\r\n            this.text = transform$1(node.data, styles.textTransform);\r\n            this.textBounds = parseTextBounds(this.text, styles, node);\r\n        }\r\n        return TextContainer;\r\n    }());\r\n    var transform$1 = function (text, transform) {\r\n        switch (transform) {\r\n            case TEXT_TRANSFORM.LOWERCASE:\r\n                return text.toLowerCase();\r\n            case TEXT_TRANSFORM.CAPITALIZE:\r\n                return text.replace(CAPITALIZE, capitalize);\r\n            case TEXT_TRANSFORM.UPPERCASE:\r\n                return text.toUpperCase();\r\n            default:\r\n                return text;\r\n        }\r\n    };\r\n    var CAPITALIZE = /(^|\\s|:|-|\\(|\\))([a-z])/g;\r\n    var capitalize = function (m, p1, p2) {\r\n        if (m.length > 0) {\r\n            return p1 + p2.toUpperCase();\r\n        }\r\n        return m;\r\n    };\n\n    var ImageElementContainer = /** @class */ (function (_super) {\r\n        __extends(ImageElementContainer, _super);\r\n        function ImageElementContainer(img) {\r\n            var _this = _super.call(this, img) || this;\r\n            _this.src = img.currentSrc || img.src;\r\n            _this.intrinsicWidth = img.naturalWidth;\r\n            _this.intrinsicHeight = img.naturalHeight;\r\n            CacheStorage.getInstance().addImage(_this.src);\r\n            return _this;\r\n        }\r\n        return ImageElementContainer;\r\n    }(ElementContainer));\n\n    var CanvasElementContainer = /** @class */ (function (_super) {\r\n        __extends(CanvasElementContainer, _super);\r\n        function CanvasElementContainer(canvas) {\r\n            var _this = _super.call(this, canvas) || this;\r\n            _this.canvas = canvas;\r\n            _this.intrinsicWidth = canvas.width;\r\n            _this.intrinsicHeight = canvas.height;\r\n            return _this;\r\n        }\r\n        return CanvasElementContainer;\r\n    }(ElementContainer));\n\n    var SVGElementContainer = /** @class */ (function (_super) {\r\n        __extends(SVGElementContainer, _super);\r\n        function SVGElementContainer(img) {\r\n            var _this = _super.call(this, img) || this;\r\n            var s = new XMLSerializer();\r\n            _this.svg = \"data:image/svg+xml,\" + encodeURIComponent(s.serializeToString(img));\r\n            _this.intrinsicWidth = img.width.baseVal.value;\r\n            _this.intrinsicHeight = img.height.baseVal.value;\r\n            CacheStorage.getInstance().addImage(_this.svg);\r\n            return _this;\r\n        }\r\n        return SVGElementContainer;\r\n    }(ElementContainer));\n\n    var LIElementContainer = /** @class */ (function (_super) {\r\n        __extends(LIElementContainer, _super);\r\n        function LIElementContainer(element) {\r\n            var _this = _super.call(this, element) || this;\r\n            _this.value = element.value;\r\n            return _this;\r\n        }\r\n        return LIElementContainer;\r\n    }(ElementContainer));\n\n    var OLElementContainer = /** @class */ (function (_super) {\r\n        __extends(OLElementContainer, _super);\r\n        function OLElementContainer(element) {\r\n            var _this = _super.call(this, element) || this;\r\n            _this.start = element.start;\r\n            _this.reversed = typeof element.reversed === 'boolean' && element.reversed === true;\r\n            return _this;\r\n        }\r\n        return OLElementContainer;\r\n    }(ElementContainer));\n\n    var CHECKBOX_BORDER_RADIUS = [\r\n        {\r\n            type: TokenType.DIMENSION_TOKEN,\r\n            flags: 0,\r\n            unit: 'px',\r\n            number: 3\r\n        }\r\n    ];\r\n    var RADIO_BORDER_RADIUS = [\r\n        {\r\n            type: TokenType.PERCENTAGE_TOKEN,\r\n            flags: 0,\r\n            number: 50\r\n        }\r\n    ];\r\n    var reformatInputBounds = function (bounds) {\r\n        if (bounds.width > bounds.height) {\r\n            return new Bounds(bounds.left + (bounds.width - bounds.height) / 2, bounds.top, bounds.height, bounds.height);\r\n        }\r\n        else if (bounds.width < bounds.height) {\r\n            return new Bounds(bounds.left, bounds.top + (bounds.height - bounds.width) / 2, bounds.width, bounds.width);\r\n        }\r\n        return bounds;\r\n    };\r\n    var getInputValue = function (node) {\r\n        var value = node.type === PASSWORD ? new Array(node.value.length + 1).join('\\u2022') : node.value;\r\n        return value.length === 0 ? node.placeholder || '' : value;\r\n    };\r\n    var CHECKBOX = 'checkbox';\r\n    var RADIO = 'radio';\r\n    var PASSWORD = 'password';\r\n    var INPUT_COLOR = 0x2a2a2aff;\r\n    var InputElementContainer = /** @class */ (function (_super) {\r\n        __extends(InputElementContainer, _super);\r\n        function InputElementContainer(input) {\r\n            var _this = _super.call(this, input) || this;\r\n            _this.type = input.type.toLowerCase();\r\n            _this.checked = input.checked;\r\n            _this.value = getInputValue(input);\r\n            if (_this.type === CHECKBOX || _this.type === RADIO) {\r\n                _this.styles.backgroundColor = 0xdededeff;\r\n                _this.styles.borderTopColor = _this.styles.borderRightColor = _this.styles.borderBottomColor = _this.styles.borderLeftColor = 0xa5a5a5ff;\r\n                _this.styles.borderTopWidth = _this.styles.borderRightWidth = _this.styles.borderBottomWidth = _this.styles.borderLeftWidth = 1;\r\n                _this.styles.borderTopStyle = _this.styles.borderRightStyle = _this.styles.borderBottomStyle = _this.styles.borderLeftStyle =\r\n                    BORDER_STYLE.SOLID;\r\n                _this.styles.backgroundClip = [BACKGROUND_CLIP.BORDER_BOX];\r\n                _this.styles.backgroundOrigin = [0 /* BORDER_BOX */];\r\n                _this.bounds = reformatInputBounds(_this.bounds);\r\n            }\r\n            switch (_this.type) {\r\n                case CHECKBOX:\r\n                    _this.styles.borderTopRightRadius = _this.styles.borderTopLeftRadius = _this.styles.borderBottomRightRadius = _this.styles.borderBottomLeftRadius = CHECKBOX_BORDER_RADIUS;\r\n                    break;\r\n                case RADIO:\r\n                    _this.styles.borderTopRightRadius = _this.styles.borderTopLeftRadius = _this.styles.borderBottomRightRadius = _this.styles.borderBottomLeftRadius = RADIO_BORDER_RADIUS;\r\n                    break;\r\n            }\r\n            return _this;\r\n        }\r\n        return InputElementContainer;\r\n    }(ElementContainer));\n\n    var SelectElementContainer = /** @class */ (function (_super) {\r\n        __extends(SelectElementContainer, _super);\r\n        function SelectElementContainer(element) {\r\n            var _this = _super.call(this, element) || this;\r\n            var option = element.options[element.selectedIndex || 0];\r\n            _this.value = option ? option.text || '' : '';\r\n            return _this;\r\n        }\r\n        return SelectElementContainer;\r\n    }(ElementContainer));\n\n    var TextareaElementContainer = /** @class */ (function (_super) {\r\n        __extends(TextareaElementContainer, _super);\r\n        function TextareaElementContainer(element) {\r\n            var _this = _super.call(this, element) || this;\r\n            _this.value = element.value;\r\n            return _this;\r\n        }\r\n        return TextareaElementContainer;\r\n    }(ElementContainer));\n\n    var parseColor = function (value) { return color.parse(Parser.create(value).parseComponentValue()); };\r\n    var IFrameElementContainer = /** @class */ (function (_super) {\r\n        __extends(IFrameElementContainer, _super);\r\n        function IFrameElementContainer(iframe) {\r\n            var _this = _super.call(this, iframe) || this;\r\n            _this.src = iframe.src;\r\n            _this.width = parseInt(iframe.width, 10) || 0;\r\n            _this.height = parseInt(iframe.height, 10) || 0;\r\n            _this.backgroundColor = _this.styles.backgroundColor;\r\n            try {\r\n                if (iframe.contentWindow &&\r\n                    iframe.contentWindow.document &&\r\n                    iframe.contentWindow.document.documentElement) {\r\n                    _this.tree = parseTree(iframe.contentWindow.document.documentElement);\r\n                    // http://www.w3.org/TR/css3-background/#special-backgrounds\r\n                    var documentBackgroundColor = iframe.contentWindow.document.documentElement\r\n                        ? parseColor(getComputedStyle(iframe.contentWindow.document.documentElement)\r\n                            .backgroundColor)\r\n                        : COLORS.TRANSPARENT;\r\n                    var bodyBackgroundColor = iframe.contentWindow.document.body\r\n                        ? parseColor(getComputedStyle(iframe.contentWindow.document.body).backgroundColor)\r\n                        : COLORS.TRANSPARENT;\r\n                    _this.backgroundColor = isTransparent(documentBackgroundColor)\r\n                        ? isTransparent(bodyBackgroundColor)\r\n                            ? _this.styles.backgroundColor\r\n                            : bodyBackgroundColor\r\n                        : documentBackgroundColor;\r\n                }\r\n            }\r\n            catch (e) { }\r\n            return _this;\r\n        }\r\n        return IFrameElementContainer;\r\n    }(ElementContainer));\n\n    var LIST_OWNERS = ['OL', 'UL', 'MENU'];\r\n    var parseNodeTree = function (node, parent, root) {\r\n        for (var childNode = node.firstChild, nextNode = void 0; childNode; childNode = nextNode) {\r\n            nextNode = childNode.nextSibling;\r\n            if (isTextNode(childNode) && childNode.data.trim().length > 0) {\r\n                parent.textNodes.push(new TextContainer(childNode, parent.styles));\r\n            }\r\n            else if (isElementNode(childNode)) {\r\n                var container = createContainer(childNode);\r\n                if (container.styles.isVisible()) {\r\n                    if (createsRealStackingContext(childNode, container, root)) {\r\n                        container.flags |= 4 /* CREATES_REAL_STACKING_CONTEXT */;\r\n                    }\r\n                    else if (createsStackingContext(container.styles)) {\r\n                        container.flags |= 2 /* CREATES_STACKING_CONTEXT */;\r\n                    }\r\n                    if (LIST_OWNERS.indexOf(childNode.tagName) !== -1) {\r\n                        container.flags |= 8 /* IS_LIST_OWNER */;\r\n                    }\r\n                    parent.elements.push(container);\r\n                    if (!isTextareaElement(childNode) && !isSVGElement(childNode) && !isSelectElement(childNode)) {\r\n                        parseNodeTree(childNode, container, root);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    var createContainer = function (element) {\r\n        if (isImageElement(element)) {\r\n            return new ImageElementContainer(element);\r\n        }\r\n        if (isCanvasElement(element)) {\r\n            return new CanvasElementContainer(element);\r\n        }\r\n        if (isSVGElement(element)) {\r\n            return new SVGElementContainer(element);\r\n        }\r\n        if (isLIElement(element)) {\r\n            return new LIElementContainer(element);\r\n        }\r\n        if (isOLElement(element)) {\r\n            return new OLElementContainer(element);\r\n        }\r\n        if (isInputElement(element)) {\r\n            return new InputElementContainer(element);\r\n        }\r\n        if (isSelectElement(element)) {\r\n            return new SelectElementContainer(element);\r\n        }\r\n        if (isTextareaElement(element)) {\r\n            return new TextareaElementContainer(element);\r\n        }\r\n        if (isIFrameElement(element)) {\r\n            return new IFrameElementContainer(element);\r\n        }\r\n        return new ElementContainer(element);\r\n    };\r\n    var parseTree = function (element) {\r\n        var container = createContainer(element);\r\n        container.flags |= 4 /* CREATES_REAL_STACKING_CONTEXT */;\r\n        parseNodeTree(element, container, container);\r\n        return container;\r\n    };\r\n    var createsRealStackingContext = function (node, container, root) {\r\n        return (container.styles.isPositionedWithZIndex() ||\r\n            container.styles.opacity < 1 ||\r\n            container.styles.isTransformed() ||\r\n            (isBodyElement(node) && root.styles.isTransparent()));\r\n    };\r\n    var createsStackingContext = function (styles) { return styles.isPositioned() || styles.isFloating(); };\r\n    var isTextNode = function (node) { return node.nodeType === Node.TEXT_NODE; };\r\n    var isElementNode = function (node) { return node.nodeType === Node.ELEMENT_NODE; };\r\n    var isHTMLElementNode = function (node) {\r\n        return isElementNode(node) && typeof node.style !== 'undefined' && !isSVGElementNode(node);\r\n    };\r\n    var isSVGElementNode = function (element) {\r\n        return typeof element.className === 'object';\r\n    };\r\n    var isLIElement = function (node) { return node.tagName === 'LI'; };\r\n    var isOLElement = function (node) { return node.tagName === 'OL'; };\r\n    var isInputElement = function (node) { return node.tagName === 'INPUT'; };\r\n    var isHTMLElement = function (node) { return node.tagName === 'HTML'; };\r\n    var isSVGElement = function (node) { return node.tagName === 'svg'; };\r\n    var isBodyElement = function (node) { return node.tagName === 'BODY'; };\r\n    var isCanvasElement = function (node) { return node.tagName === 'CANVAS'; };\r\n    var isImageElement = function (node) { return node.tagName === 'IMG'; };\r\n    var isIFrameElement = function (node) { return node.tagName === 'IFRAME'; };\r\n    var isStyleElement = function (node) { return node.tagName === 'STYLE'; };\r\n    var isScriptElement = function (node) { return node.tagName === 'SCRIPT'; };\r\n    var isTextareaElement = function (node) { return node.tagName === 'TEXTAREA'; };\r\n    var isSelectElement = function (node) { return node.tagName === 'SELECT'; };\n\n    var CounterState = /** @class */ (function () {\r\n        function CounterState() {\r\n            this.counters = {};\r\n        }\r\n        CounterState.prototype.getCounterValue = function (name) {\r\n            var counter = this.counters[name];\r\n            if (counter && counter.length) {\r\n                return counter[counter.length - 1];\r\n            }\r\n            return 1;\r\n        };\r\n        CounterState.prototype.getCounterValues = function (name) {\r\n            var counter = this.counters[name];\r\n            return counter ? counter : [];\r\n        };\r\n        CounterState.prototype.pop = function (counters) {\r\n            var _this = this;\r\n            counters.forEach(function (counter) { return _this.counters[counter].pop(); });\r\n        };\r\n        CounterState.prototype.parse = function (style) {\r\n            var _this = this;\r\n            var counterIncrement = style.counterIncrement;\r\n            var counterReset = style.counterReset;\r\n            var canReset = true;\r\n            if (counterIncrement !== null) {\r\n                counterIncrement.forEach(function (entry) {\r\n                    var counter = _this.counters[entry.counter];\r\n                    if (counter && entry.increment !== 0) {\r\n                        canReset = false;\r\n                        counter[Math.max(0, counter.length - 1)] += entry.increment;\r\n                    }\r\n                });\r\n            }\r\n            var counterNames = [];\r\n            if (canReset) {\r\n                counterReset.forEach(function (entry) {\r\n                    var counter = _this.counters[entry.counter];\r\n                    counterNames.push(entry.counter);\r\n                    if (!counter) {\r\n                        counter = _this.counters[entry.counter] = [];\r\n                    }\r\n                    counter.push(entry.reset);\r\n                });\r\n            }\r\n            return counterNames;\r\n        };\r\n        return CounterState;\r\n    }());\r\n    var ROMAN_UPPER = {\r\n        integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],\r\n        values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I']\r\n    };\r\n    var ARMENIAN = {\r\n        integers: [\r\n            9000,\r\n            8000,\r\n            7000,\r\n            6000,\r\n            5000,\r\n            4000,\r\n            3000,\r\n            2000,\r\n            1000,\r\n            900,\r\n            800,\r\n            700,\r\n            600,\r\n            500,\r\n            400,\r\n            300,\r\n            200,\r\n            100,\r\n            90,\r\n            80,\r\n            70,\r\n            60,\r\n            50,\r\n            40,\r\n            30,\r\n            20,\r\n            10,\r\n            9,\r\n            8,\r\n            7,\r\n            6,\r\n            5,\r\n            4,\r\n            3,\r\n            2,\r\n            1\r\n        ],\r\n        values: [\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            ''\r\n        ]\r\n    };\r\n    var HEBREW = {\r\n        integers: [\r\n            10000,\r\n            9000,\r\n            8000,\r\n            7000,\r\n            6000,\r\n            5000,\r\n            4000,\r\n            3000,\r\n            2000,\r\n            1000,\r\n            400,\r\n            300,\r\n            200,\r\n            100,\r\n            90,\r\n            80,\r\n            70,\r\n            60,\r\n            50,\r\n            40,\r\n            30,\r\n            20,\r\n            19,\r\n            18,\r\n            17,\r\n            16,\r\n            15,\r\n            10,\r\n            9,\r\n            8,\r\n            7,\r\n            6,\r\n            5,\r\n            4,\r\n            3,\r\n            2,\r\n            1\r\n        ],\r\n        values: [\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            ''\r\n        ]\r\n    };\r\n    var GEORGIAN = {\r\n        integers: [\r\n            10000,\r\n            9000,\r\n            8000,\r\n            7000,\r\n            6000,\r\n            5000,\r\n            4000,\r\n            3000,\r\n            2000,\r\n            1000,\r\n            900,\r\n            800,\r\n            700,\r\n            600,\r\n            500,\r\n            400,\r\n            300,\r\n            200,\r\n            100,\r\n            90,\r\n            80,\r\n            70,\r\n            60,\r\n            50,\r\n            40,\r\n            30,\r\n            20,\r\n            10,\r\n            9,\r\n            8,\r\n            7,\r\n            6,\r\n            5,\r\n            4,\r\n            3,\r\n            2,\r\n            1\r\n        ],\r\n        values: [\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            ''\r\n        ]\r\n    };\r\n    var createAdditiveCounter = function (value, min, max, symbols, fallback, suffix) {\r\n        if (value < min || value > max) {\r\n            return createCounterText(value, fallback, suffix.length > 0);\r\n        }\r\n        return (symbols.integers.reduce(function (string, integer, index) {\r\n            while (value >= integer) {\r\n                value -= integer;\r\n                string += symbols.values[index];\r\n            }\r\n            return string;\r\n        }, '') + suffix);\r\n    };\r\n    var createCounterStyleWithSymbolResolver = function (value, codePointRangeLength, isNumeric, resolver) {\r\n        var string = '';\r\n        do {\r\n            if (!isNumeric) {\r\n                value--;\r\n            }\r\n            string = resolver(value) + string;\r\n            value /= codePointRangeLength;\r\n        } while (value * codePointRangeLength >= codePointRangeLength);\r\n        return string;\r\n    };\r\n    var createCounterStyleFromRange = function (value, codePointRangeStart, codePointRangeEnd, isNumeric, suffix) {\r\n        var codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;\r\n        return ((value < 0 ? '-' : '') +\r\n            (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, function (codePoint) {\r\n                return fromCodePoint(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart);\r\n            }) +\r\n                suffix));\r\n    };\r\n    var createCounterStyleFromSymbols = function (value, symbols, suffix) {\r\n        if (suffix === void 0) { suffix = '. '; }\r\n        var codePointRangeLength = symbols.length;\r\n        return (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, false, function (codePoint) { return symbols[Math.floor(codePoint % codePointRangeLength)]; }) + suffix);\r\n    };\r\n    var CJK_ZEROS = 1 << 0;\r\n    var CJK_TEN_COEFFICIENTS = 1 << 1;\r\n    var CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;\r\n    var CJK_HUNDRED_COEFFICIENTS = 1 << 3;\r\n    var createCJKCounter = function (value, numbers, multipliers, negativeSign, suffix, flags) {\r\n        if (value < -9999 || value > 9999) {\r\n            return createCounterText(value, LIST_STYLE_TYPE.CJK_DECIMAL, suffix.length > 0);\r\n        }\r\n        var tmp = Math.abs(value);\r\n        var string = suffix;\r\n        if (tmp === 0) {\r\n            return numbers[0] + string;\r\n        }\r\n        for (var digit = 0; tmp > 0 && digit <= 4; digit++) {\r\n            var coefficient = tmp % 10;\r\n            if (coefficient === 0 && contains(flags, CJK_ZEROS) && string !== '') {\r\n                string = numbers[coefficient] + string;\r\n            }\r\n            else if (coefficient > 1 ||\r\n                (coefficient === 1 && digit === 0) ||\r\n                (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_COEFFICIENTS)) ||\r\n                (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100) ||\r\n                (coefficient === 1 && digit > 1 && contains(flags, CJK_HUNDRED_COEFFICIENTS))) {\r\n                string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;\r\n            }\r\n            else if (coefficient === 1 && digit > 0) {\r\n                string = multipliers[digit - 1] + string;\r\n            }\r\n            tmp = Math.floor(tmp / 10);\r\n        }\r\n        return (value < 0 ? negativeSign : '') + string;\r\n    };\r\n    var CHINESE_INFORMAL_MULTIPLIERS = '';\r\n    var CHINESE_FORMAL_MULTIPLIERS = '';\r\n    var JAPANESE_NEGATIVE = '';\r\n    var KOREAN_NEGATIVE = '';\r\n    var createCounterText = function (value, type, appendSuffix) {\r\n        var defaultSuffix = appendSuffix ? '. ' : '';\r\n        var cjkSuffix = appendSuffix ? '' : '';\r\n        var koreanSuffix = appendSuffix ? ', ' : '';\r\n        var spaceSuffix = appendSuffix ? ' ' : '';\r\n        switch (type) {\r\n            case LIST_STYLE_TYPE.DISC:\r\n                return '' + spaceSuffix;\r\n            case LIST_STYLE_TYPE.CIRCLE:\r\n                return '' + spaceSuffix;\r\n            case LIST_STYLE_TYPE.SQUARE:\r\n                return '' + spaceSuffix;\r\n            case LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:\r\n                var string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\r\n                return string.length < 4 ? \"0\" + string : string;\r\n            case LIST_STYLE_TYPE.CJK_DECIMAL:\r\n                return createCounterStyleFromSymbols(value, '', cjkSuffix);\r\n            case LIST_STYLE_TYPE.LOWER_ROMAN:\r\n                return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();\r\n            case LIST_STYLE_TYPE.UPPER_ROMAN:\r\n                return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n            case LIST_STYLE_TYPE.LOWER_GREEK:\r\n                return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);\r\n            case LIST_STYLE_TYPE.LOWER_ALPHA:\r\n                return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);\r\n            case LIST_STYLE_TYPE.UPPER_ALPHA:\r\n                return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);\r\n            case LIST_STYLE_TYPE.ARABIC_INDIC:\r\n                return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.ARMENIAN:\r\n            case LIST_STYLE_TYPE.UPPER_ARMENIAN:\r\n                return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n            case LIST_STYLE_TYPE.LOWER_ARMENIAN:\r\n                return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();\r\n            case LIST_STYLE_TYPE.BENGALI:\r\n                return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.CAMBODIAN:\r\n            case LIST_STYLE_TYPE.KHMER:\r\n                return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:\r\n                return createCounterStyleFromSymbols(value, '', cjkSuffix);\r\n            case LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:\r\n                return createCounterStyleFromSymbols(value, '', cjkSuffix);\r\n            case LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:\r\n            case LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:\r\n                return createCJKCounter(value, '', CHINESE_INFORMAL_MULTIPLIERS, '', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:\r\n                return createCJKCounter(value, '', CHINESE_FORMAL_MULTIPLIERS, '', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:\r\n                return createCJKCounter(value, '', CHINESE_INFORMAL_MULTIPLIERS, '', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:\r\n                return createCJKCounter(value, '', CHINESE_FORMAL_MULTIPLIERS, '', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.JAPANESE_INFORMAL:\r\n                return createCJKCounter(value, '', '', JAPANESE_NEGATIVE, cjkSuffix, 0);\r\n            case LIST_STYLE_TYPE.JAPANESE_FORMAL:\r\n                return createCJKCounter(value, '', '', JAPANESE_NEGATIVE, cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:\r\n                return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:\r\n                return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, 0);\r\n            case LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:\r\n                return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.DEVANAGARI:\r\n                return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.GEORGIAN:\r\n                return createAdditiveCounter(value, 1, 19999, GEORGIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n            case LIST_STYLE_TYPE.GUJARATI:\r\n                return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.GURMUKHI:\r\n                return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.HEBREW:\r\n                return createAdditiveCounter(value, 1, 10999, HEBREW, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n            case LIST_STYLE_TYPE.HIRAGANA:\r\n                return createCounterStyleFromSymbols(value, '');\r\n            case LIST_STYLE_TYPE.HIRAGANA_IROHA:\r\n                return createCounterStyleFromSymbols(value, '');\r\n            case LIST_STYLE_TYPE.KANNADA:\r\n                return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.KATAKANA:\r\n                return createCounterStyleFromSymbols(value, '', cjkSuffix);\r\n            case LIST_STYLE_TYPE.KATAKANA_IROHA:\r\n                return createCounterStyleFromSymbols(value, '', cjkSuffix);\r\n            case LIST_STYLE_TYPE.LAO:\r\n                return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.MONGOLIAN:\r\n                return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.MYANMAR:\r\n                return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.ORIYA:\r\n                return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.PERSIAN:\r\n                return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.TAMIL:\r\n                return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.TELUGU:\r\n                return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.THAI:\r\n                return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.TIBETAN:\r\n                return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.DECIMAL:\r\n            default:\r\n                return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\r\n        }\r\n    };\n\n    var IGNORE_ATTRIBUTE = 'data-html2canvas-ignore';\r\n    var DocumentCloner = /** @class */ (function () {\r\n        function DocumentCloner(element, options) {\r\n            this.options = options;\r\n            this.scrolledElements = [];\r\n            this.referenceElement = element;\r\n            this.counters = new CounterState();\r\n            this.quoteDepth = 0;\r\n            if (!element.ownerDocument) {\r\n                throw new Error('Cloned element does not have an owner document');\r\n            }\r\n            this.documentElement = this.cloneNode(element.ownerDocument.documentElement);\r\n        }\r\n        DocumentCloner.prototype.toIFrame = function (ownerDocument, windowSize) {\r\n            var _this = this;\r\n            var iframe = createIFrameContainer(ownerDocument, windowSize);\r\n            if (!iframe.contentWindow) {\r\n                return Promise.reject(\"Unable to find iframe window\");\r\n            }\r\n            var scrollX = ownerDocument.defaultView.pageXOffset;\r\n            var scrollY = ownerDocument.defaultView.pageYOffset;\r\n            var cloneWindow = iframe.contentWindow;\r\n            var documentClone = cloneWindow.document;\r\n            /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\r\n             if window url is about:blank, we can assign the url to current by writing onto the document\r\n             */\r\n            var iframeLoad = iframeLoader(iframe).then(function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var onclone;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this.scrolledElements.forEach(restoreNodeScroll);\r\n                            if (cloneWindow) {\r\n                                cloneWindow.scrollTo(windowSize.left, windowSize.top);\r\n                                if (/(iPad|iPhone|iPod)/g.test(navigator.userAgent) &&\r\n                                    (cloneWindow.scrollY !== windowSize.top || cloneWindow.scrollX !== windowSize.left)) {\r\n                                    documentClone.documentElement.style.top = -windowSize.top + 'px';\r\n                                    documentClone.documentElement.style.left = -windowSize.left + 'px';\r\n                                    documentClone.documentElement.style.position = 'absolute';\r\n                                }\r\n                            }\r\n                            onclone = this.options.onclone;\r\n                            if (typeof this.clonedReferenceElement === 'undefined') {\r\n                                return [2 /*return*/, Promise.reject(\"Error finding the \" + this.referenceElement.nodeName + \" in the cloned document\")];\r\n                            }\r\n                            if (!(documentClone.fonts && documentClone.fonts.ready)) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, documentClone.fonts.ready];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            if (typeof onclone === 'function') {\r\n                                return [2 /*return*/, Promise.resolve()\r\n                                        .then(function () { return onclone(documentClone); })\r\n                                        .then(function () { return iframe; })];\r\n                            }\r\n                            return [2 /*return*/, iframe];\r\n                    }\r\n                });\r\n            }); });\r\n            documentClone.open();\r\n            documentClone.write(serializeDoctype(document.doctype) + \"<html></html>\");\r\n            // Chrome scrolls the parent document for some reason after the write to the cloned window???\r\n            restoreOwnerScroll(this.referenceElement.ownerDocument, scrollX, scrollY);\r\n            documentClone.replaceChild(documentClone.adoptNode(this.documentElement), documentClone.documentElement);\r\n            documentClone.close();\r\n            return iframeLoad;\r\n        };\r\n        DocumentCloner.prototype.createElementClone = function (node) {\r\n            if (isCanvasElement(node)) {\r\n                return this.createCanvasClone(node);\r\n            }\r\n            /*\r\n            if (isIFrameElement(node)) {\r\n                return this.createIFrameClone(node);\r\n            }\r\n    */\r\n            if (isStyleElement(node)) {\r\n                return this.createStyleClone(node);\r\n            }\r\n            var clone = node.cloneNode(false);\r\n            // @ts-ignore\r\n            if (isImageElement(clone) && clone.loading === 'lazy') {\r\n                // @ts-ignore\r\n                clone.loading = 'eager';\r\n            }\r\n            return clone;\r\n        };\r\n        DocumentCloner.prototype.createStyleClone = function (node) {\r\n            try {\r\n                var sheet = node.sheet;\r\n                if (sheet && sheet.cssRules) {\r\n                    var css = [].slice.call(sheet.cssRules, 0).reduce(function (css, rule) {\r\n                        if (rule && typeof rule.cssText === 'string') {\r\n                            return css + rule.cssText;\r\n                        }\r\n                        return css;\r\n                    }, '');\r\n                    var style = node.cloneNode(false);\r\n                    style.textContent = css;\r\n                    return style;\r\n                }\r\n            }\r\n            catch (e) {\r\n                // accessing node.sheet.cssRules throws a DOMException\r\n                Logger.getInstance(this.options.id).error('Unable to access cssRules property', e);\r\n                if (e.name !== 'SecurityError') {\r\n                    throw e;\r\n                }\r\n            }\r\n            return node.cloneNode(false);\r\n        };\r\n        DocumentCloner.prototype.createCanvasClone = function (canvas) {\r\n            if (this.options.inlineImages && canvas.ownerDocument) {\r\n                var img = canvas.ownerDocument.createElement('img');\r\n                try {\r\n                    img.src = canvas.toDataURL();\r\n                    return img;\r\n                }\r\n                catch (e) {\r\n                    Logger.getInstance(this.options.id).info(\"Unable to clone canvas contents, canvas is tainted\");\r\n                }\r\n            }\r\n            var clonedCanvas = canvas.cloneNode(false);\r\n            try {\r\n                clonedCanvas.width = canvas.width;\r\n                clonedCanvas.height = canvas.height;\r\n                var ctx = canvas.getContext('2d');\r\n                var clonedCtx = clonedCanvas.getContext('2d');\r\n                if (clonedCtx) {\r\n                    if (ctx) {\r\n                        clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);\r\n                    }\r\n                    else {\r\n                        clonedCtx.drawImage(canvas, 0, 0);\r\n                    }\r\n                }\r\n                return clonedCanvas;\r\n            }\r\n            catch (e) { }\r\n            return clonedCanvas;\r\n        };\r\n        /*\r\n        createIFrameClone(iframe: HTMLIFrameElement) {\r\n            const tempIframe = <HTMLIFrameElement>iframe.cloneNode(false);\r\n            const iframeKey = generateIframeKey();\r\n            tempIframe.setAttribute('data-html2canvas-internal-iframe-key', iframeKey);\r\n\n            const {width, height} = parseBounds(iframe);\r\n\n            this.resourceLoader.cache[iframeKey] = getIframeDocumentElement(iframe, this.options)\r\n                .then(documentElement => {\r\n                    return this.renderer(\r\n                        documentElement,\r\n                        {\r\n                            allowTaint: this.options.allowTaint,\r\n                            backgroundColor: '#ffffff',\r\n                            canvas: null,\r\n                            imageTimeout: this.options.imageTimeout,\r\n                            logging: this.options.logging,\r\n                            proxy: this.options.proxy,\r\n                            removeContainer: this.options.removeContainer,\r\n                            scale: this.options.scale,\r\n                            foreignObjectRendering: this.options.foreignObjectRendering,\r\n                            useCORS: this.options.useCORS,\r\n                            target: new CanvasRenderer(),\r\n                            width,\r\n                            height,\r\n                            x: 0,\r\n                            y: 0,\r\n                            windowWidth: documentElement.ownerDocument.defaultView.innerWidth,\r\n                            windowHeight: documentElement.ownerDocument.defaultView.innerHeight,\r\n                            scrollX: documentElement.ownerDocument.defaultView.pageXOffset,\r\n                            scrollY: documentElement.ownerDocument.defaultView.pageYOffset\r\n                        },\r\n                    );\r\n                })\r\n                .then(\r\n                    (canvas: HTMLCanvasElement) =>\r\n                        new Promise((resolve, reject) => {\r\n                            const iframeCanvas = document.createElement('img');\r\n                            iframeCanvas.onload = () => resolve(canvas);\r\n                            iframeCanvas.onerror = (event) => {\r\n                                // Empty iframes may result in empty \"data:,\" URLs, which are invalid from the <img>'s point of view\r\n                                // and instead of `onload` cause `onerror` and unhandled rejection warnings\r\n                                // https://github.com/niklasvh/html2canvas/issues/1502\r\n                                iframeCanvas.src == 'data:,' ? resolve(canvas) : reject(event);\r\n                            };\r\n                            iframeCanvas.src = canvas.toDataURL();\r\n                            if (tempIframe.parentNode && iframe.ownerDocument && iframe.ownerDocument.defaultView) {\r\n                                tempIframe.parentNode.replaceChild(\r\n                                    copyCSSStyles(\r\n                                        iframe.ownerDocument.defaultView.getComputedStyle(iframe),\r\n                                        iframeCanvas\r\n                                    ),\r\n                                    tempIframe\r\n                                );\r\n                            }\r\n                        })\r\n                );\r\n            return tempIframe;\r\n        }\r\n    */\r\n        DocumentCloner.prototype.cloneNode = function (node) {\r\n            if (isTextNode(node)) {\r\n                return document.createTextNode(node.data);\r\n            }\r\n            if (!node.ownerDocument) {\r\n                return node.cloneNode(false);\r\n            }\r\n            var window = node.ownerDocument.defaultView;\r\n            if (window && isElementNode(node) && (isHTMLElementNode(node) || isSVGElementNode(node))) {\r\n                var clone = this.createElementClone(node);\r\n                var style = window.getComputedStyle(node);\r\n                var styleBefore = window.getComputedStyle(node, ':before');\r\n                var styleAfter = window.getComputedStyle(node, ':after');\r\n                if (this.referenceElement === node && isHTMLElementNode(clone)) {\r\n                    this.clonedReferenceElement = clone;\r\n                }\r\n                if (isBodyElement(clone)) {\r\n                    createPseudoHideStyles(clone);\r\n                }\r\n                var counters = this.counters.parse(new CSSParsedCounterDeclaration(style));\r\n                var before = this.resolvePseudoContent(node, clone, styleBefore, PseudoElementType.BEFORE);\r\n                for (var child = node.firstChild; child; child = child.nextSibling) {\r\n                    if (!isElementNode(child) ||\r\n                        (!isScriptElement(child) &&\r\n                            !child.hasAttribute(IGNORE_ATTRIBUTE) &&\r\n                            (typeof this.options.ignoreElements !== 'function' || !this.options.ignoreElements(child)))) {\r\n                        if (!this.options.copyStyles || !isElementNode(child) || !isStyleElement(child)) {\r\n                            clone.appendChild(this.cloneNode(child));\r\n                        }\r\n                    }\r\n                }\r\n                if (before) {\r\n                    clone.insertBefore(before, clone.firstChild);\r\n                }\r\n                var after = this.resolvePseudoContent(node, clone, styleAfter, PseudoElementType.AFTER);\r\n                if (after) {\r\n                    clone.appendChild(after);\r\n                }\r\n                this.counters.pop(counters);\r\n                if (style && (this.options.copyStyles || isSVGElementNode(node)) && !isIFrameElement(node)) {\r\n                    copyCSSStyles(style, clone);\r\n                }\r\n                //this.inlineAllImages(clone);\r\n                if (node.scrollTop !== 0 || node.scrollLeft !== 0) {\r\n                    this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);\r\n                }\r\n                if ((isTextareaElement(node) || isSelectElement(node)) &&\r\n                    (isTextareaElement(clone) || isSelectElement(clone))) {\r\n                    clone.value = node.value;\r\n                }\r\n                return clone;\r\n            }\r\n            return node.cloneNode(false);\r\n        };\r\n        DocumentCloner.prototype.resolvePseudoContent = function (node, clone, style, pseudoElt) {\r\n            var _this = this;\r\n            if (!style) {\r\n                return;\r\n            }\r\n            var value = style.content;\r\n            var document = clone.ownerDocument;\r\n            if (!document || !value || value === 'none' || value === '-moz-alt-content' || style.display === 'none') {\r\n                return;\r\n            }\r\n            this.counters.parse(new CSSParsedCounterDeclaration(style));\r\n            var declaration = new CSSParsedPseudoDeclaration(style);\r\n            var anonymousReplacedElement = document.createElement('html2canvaspseudoelement');\r\n            copyCSSStyles(style, anonymousReplacedElement);\r\n            declaration.content.forEach(function (token) {\r\n                if (token.type === TokenType.STRING_TOKEN) {\r\n                    anonymousReplacedElement.appendChild(document.createTextNode(token.value));\r\n                }\r\n                else if (token.type === TokenType.URL_TOKEN) {\r\n                    var img = document.createElement('img');\r\n                    img.src = token.value;\r\n                    img.style.opacity = '1';\r\n                    anonymousReplacedElement.appendChild(img);\r\n                }\r\n                else if (token.type === TokenType.FUNCTION) {\r\n                    if (token.name === 'attr') {\r\n                        var attr = token.values.filter(isIdentToken);\r\n                        if (attr.length) {\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(node.getAttribute(attr[0].value) || ''));\r\n                        }\r\n                    }\r\n                    else if (token.name === 'counter') {\r\n                        var _a = token.values.filter(nonFunctionArgSeparator), counter = _a[0], counterStyle = _a[1];\r\n                        if (counter && isIdentToken(counter)) {\r\n                            var counterState = _this.counters.getCounterValue(counter.value);\r\n                            var counterType = counterStyle && isIdentToken(counterStyle)\r\n                                ? listStyleType.parse(counterStyle.value)\r\n                                : LIST_STYLE_TYPE.DECIMAL;\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(createCounterText(counterState, counterType, false)));\r\n                        }\r\n                    }\r\n                    else if (token.name === 'counters') {\r\n                        var _b = token.values.filter(nonFunctionArgSeparator), counter = _b[0], delim = _b[1], counterStyle = _b[2];\r\n                        if (counter && isIdentToken(counter)) {\r\n                            var counterStates = _this.counters.getCounterValues(counter.value);\r\n                            var counterType_1 = counterStyle && isIdentToken(counterStyle)\r\n                                ? listStyleType.parse(counterStyle.value)\r\n                                : LIST_STYLE_TYPE.DECIMAL;\r\n                            var separator = delim && delim.type === TokenType.STRING_TOKEN ? delim.value : '';\r\n                            var text = counterStates\r\n                                .map(function (value) { return createCounterText(value, counterType_1, false); })\r\n                                .join(separator);\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(text));\r\n                        }\r\n                    }\r\n                }\r\n                else if (token.type === TokenType.IDENT_TOKEN) {\r\n                    switch (token.value) {\r\n                        case 'open-quote':\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes, _this.quoteDepth++, true)));\r\n                            break;\r\n                        case 'close-quote':\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes, --_this.quoteDepth, false)));\r\n                            break;\r\n                        default:\r\n                            // safari doesn't parse string tokens correctly because of lack of quotes\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(token.value));\r\n                    }\r\n                }\r\n            });\r\n            anonymousReplacedElement.className = PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + \" \" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\r\n            var newClassName = pseudoElt === PseudoElementType.BEFORE\r\n                ? \" \" + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE\r\n                : \" \" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\r\n            if (isSVGElementNode(clone)) {\r\n                clone.className.baseValue += newClassName;\r\n            }\r\n            else {\r\n                clone.className += newClassName;\r\n            }\r\n            return anonymousReplacedElement;\r\n        };\r\n        DocumentCloner.destroy = function (container) {\r\n            if (container.parentNode) {\r\n                container.parentNode.removeChild(container);\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        return DocumentCloner;\r\n    }());\r\n    var PseudoElementType;\r\n    (function (PseudoElementType) {\r\n        PseudoElementType[PseudoElementType[\"BEFORE\"] = 0] = \"BEFORE\";\r\n        PseudoElementType[PseudoElementType[\"AFTER\"] = 1] = \"AFTER\";\r\n    })(PseudoElementType || (PseudoElementType = {}));\r\n    var createIFrameContainer = function (ownerDocument, bounds) {\r\n        var cloneIframeContainer = ownerDocument.createElement('iframe');\r\n        cloneIframeContainer.className = 'html2canvas-container';\r\n        cloneIframeContainer.style.visibility = 'hidden';\r\n        cloneIframeContainer.style.position = 'fixed';\r\n        cloneIframeContainer.style.left = '-10000px';\r\n        cloneIframeContainer.style.top = '0px';\r\n        cloneIframeContainer.style.border = '0';\r\n        cloneIframeContainer.width = bounds.width.toString();\r\n        cloneIframeContainer.height = bounds.height.toString();\r\n        cloneIframeContainer.scrolling = 'no'; // ios won't scroll without it\r\n        cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, 'true');\r\n        ownerDocument.body.appendChild(cloneIframeContainer);\r\n        return cloneIframeContainer;\r\n    };\r\n    var iframeLoader = function (iframe) {\r\n        return new Promise(function (resolve, reject) {\r\n            var cloneWindow = iframe.contentWindow;\r\n            if (!cloneWindow) {\r\n                return reject(\"No window assigned for iframe\");\r\n            }\r\n            var documentClone = cloneWindow.document;\r\n            cloneWindow.onload = iframe.onload = documentClone.onreadystatechange = function () {\r\n                cloneWindow.onload = iframe.onload = documentClone.onreadystatechange = null;\r\n                var interval = setInterval(function () {\r\n                    if (documentClone.body.childNodes.length > 0 && documentClone.readyState === 'complete') {\r\n                        clearInterval(interval);\r\n                        resolve(iframe);\r\n                    }\r\n                }, 50);\r\n            };\r\n        });\r\n    };\r\n    var copyCSSStyles = function (style, target) {\r\n        // Edge does not provide value for cssText\r\n        for (var i = style.length - 1; i >= 0; i--) {\r\n            var property = style.item(i);\r\n            // Safari shows pseudoelements if content is set\r\n            if (property !== 'content') {\r\n                target.style.setProperty(property, style.getPropertyValue(property));\r\n            }\r\n        }\r\n        return target;\r\n    };\r\n    var serializeDoctype = function (doctype) {\r\n        var str = '';\r\n        if (doctype) {\r\n            str += '<!DOCTYPE ';\r\n            if (doctype.name) {\r\n                str += doctype.name;\r\n            }\r\n            if (doctype.internalSubset) {\r\n                str += doctype.internalSubset;\r\n            }\r\n            if (doctype.publicId) {\r\n                str += \"\\\"\" + doctype.publicId + \"\\\"\";\r\n            }\r\n            if (doctype.systemId) {\r\n                str += \"\\\"\" + doctype.systemId + \"\\\"\";\r\n            }\r\n            str += '>';\r\n        }\r\n        return str;\r\n    };\r\n    var restoreOwnerScroll = function (ownerDocument, x, y) {\r\n        if (ownerDocument &&\r\n            ownerDocument.defaultView &&\r\n            (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\r\n            ownerDocument.defaultView.scrollTo(x, y);\r\n        }\r\n    };\r\n    var restoreNodeScroll = function (_a) {\r\n        var element = _a[0], x = _a[1], y = _a[2];\r\n        element.scrollLeft = x;\r\n        element.scrollTop = y;\r\n    };\r\n    var PSEUDO_BEFORE = ':before';\r\n    var PSEUDO_AFTER = ':after';\r\n    var PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = '___html2canvas___pseudoelement_before';\r\n    var PSEUDO_HIDE_ELEMENT_CLASS_AFTER = '___html2canvas___pseudoelement_after';\r\n    var PSEUDO_HIDE_ELEMENT_STYLE = \"{\\n    content: \\\"\\\" !important;\\n    display: none !important;\\n}\";\r\n    var createPseudoHideStyles = function (body) {\r\n        createStyles(body, \".\" + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + PSEUDO_BEFORE + PSEUDO_HIDE_ELEMENT_STYLE + \"\\n         .\" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER + PSEUDO_AFTER + PSEUDO_HIDE_ELEMENT_STYLE);\r\n    };\r\n    var createStyles = function (body, styles) {\r\n        var document = body.ownerDocument;\r\n        if (document) {\r\n            var style = document.createElement('style');\r\n            style.textContent = styles;\r\n            body.appendChild(style);\r\n        }\r\n    };\n\n    var PathType;\r\n    (function (PathType) {\r\n        PathType[PathType[\"VECTOR\"] = 0] = \"VECTOR\";\r\n        PathType[PathType[\"BEZIER_CURVE\"] = 1] = \"BEZIER_CURVE\";\r\n    })(PathType || (PathType = {}));\r\n    var equalPath = function (a, b) {\r\n        if (a.length === b.length) {\r\n            return a.some(function (v, i) { return v === b[i]; });\r\n        }\r\n        return false;\r\n    };\r\n    var transformPath = function (path, deltaX, deltaY, deltaW, deltaH) {\r\n        return path.map(function (point, index) {\r\n            switch (index) {\r\n                case 0:\r\n                    return point.add(deltaX, deltaY);\r\n                case 1:\r\n                    return point.add(deltaX + deltaW, deltaY);\r\n                case 2:\r\n                    return point.add(deltaX + deltaW, deltaY + deltaH);\r\n                case 3:\r\n                    return point.add(deltaX, deltaY + deltaH);\r\n            }\r\n            return point;\r\n        });\r\n    };\n\n    var Vector = /** @class */ (function () {\r\n        function Vector(x, y) {\r\n            this.type = PathType.VECTOR;\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n        Vector.prototype.add = function (deltaX, deltaY) {\r\n            return new Vector(this.x + deltaX, this.y + deltaY);\r\n        };\r\n        return Vector;\r\n    }());\n\n    var lerp = function (a, b, t) {\r\n        return new Vector(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);\r\n    };\r\n    var BezierCurve = /** @class */ (function () {\r\n        function BezierCurve(start, startControl, endControl, end) {\r\n            this.type = PathType.BEZIER_CURVE;\r\n            this.start = start;\r\n            this.startControl = startControl;\r\n            this.endControl = endControl;\r\n            this.end = end;\r\n        }\r\n        BezierCurve.prototype.subdivide = function (t, firstHalf) {\r\n            var ab = lerp(this.start, this.startControl, t);\r\n            var bc = lerp(this.startControl, this.endControl, t);\r\n            var cd = lerp(this.endControl, this.end, t);\r\n            var abbc = lerp(ab, bc, t);\r\n            var bccd = lerp(bc, cd, t);\r\n            var dest = lerp(abbc, bccd, t);\r\n            return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);\r\n        };\r\n        BezierCurve.prototype.add = function (deltaX, deltaY) {\r\n            return new BezierCurve(this.start.add(deltaX, deltaY), this.startControl.add(deltaX, deltaY), this.endControl.add(deltaX, deltaY), this.end.add(deltaX, deltaY));\r\n        };\r\n        BezierCurve.prototype.reverse = function () {\r\n            return new BezierCurve(this.end, this.endControl, this.startControl, this.start);\r\n        };\r\n        return BezierCurve;\r\n    }());\r\n    var isBezierCurve = function (path) { return path.type === PathType.BEZIER_CURVE; };\n\n    var BoundCurves = /** @class */ (function () {\r\n        function BoundCurves(element) {\r\n            var styles = element.styles;\r\n            var bounds = element.bounds;\r\n            var _a = getAbsoluteValueForTuple(styles.borderTopLeftRadius, bounds.width, bounds.height), tlh = _a[0], tlv = _a[1];\r\n            var _b = getAbsoluteValueForTuple(styles.borderTopRightRadius, bounds.width, bounds.height), trh = _b[0], trv = _b[1];\r\n            var _c = getAbsoluteValueForTuple(styles.borderBottomRightRadius, bounds.width, bounds.height), brh = _c[0], brv = _c[1];\r\n            var _d = getAbsoluteValueForTuple(styles.borderBottomLeftRadius, bounds.width, bounds.height), blh = _d[0], blv = _d[1];\r\n            var factors = [];\r\n            factors.push((tlh + trh) / bounds.width);\r\n            factors.push((blh + brh) / bounds.width);\r\n            factors.push((tlv + blv) / bounds.height);\r\n            factors.push((trv + brv) / bounds.height);\r\n            var maxFactor = Math.max.apply(Math, factors);\r\n            if (maxFactor > 1) {\r\n                tlh /= maxFactor;\r\n                tlv /= maxFactor;\r\n                trh /= maxFactor;\r\n                trv /= maxFactor;\r\n                brh /= maxFactor;\r\n                brv /= maxFactor;\r\n                blh /= maxFactor;\r\n                blv /= maxFactor;\r\n            }\r\n            var topWidth = bounds.width - trh;\r\n            var rightHeight = bounds.height - brv;\r\n            var bottomWidth = bounds.width - brh;\r\n            var leftHeight = bounds.height - blv;\r\n            var borderTopWidth = styles.borderTopWidth;\r\n            var borderRightWidth = styles.borderRightWidth;\r\n            var borderBottomWidth = styles.borderBottomWidth;\r\n            var borderLeftWidth = styles.borderLeftWidth;\r\n            var paddingTop = getAbsoluteValue(styles.paddingTop, element.bounds.width);\r\n            var paddingRight = getAbsoluteValue(styles.paddingRight, element.bounds.width);\r\n            var paddingBottom = getAbsoluteValue(styles.paddingBottom, element.bounds.width);\r\n            var paddingLeft = getAbsoluteValue(styles.paddingLeft, element.bounds.width);\r\n            this.topLeftBorderBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left, bounds.top);\r\n            this.topRightBorderBox =\r\n                trh > 0 || trv > 0\r\n                    ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width, bounds.top);\r\n            this.bottomRightBorderBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width, bounds.top + bounds.height);\r\n            this.bottomLeftBorderBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left, bounds.top + bounds.height);\r\n            this.topLeftPaddingBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth, bounds.top + borderTopWidth, Math.max(0, tlh - borderLeftWidth), Math.max(0, tlv - borderTopWidth), CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth, bounds.top + borderTopWidth);\r\n            this.topRightPaddingBox =\r\n                trh > 0 || trv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth), bounds.top + borderTopWidth, topWidth > bounds.width + borderLeftWidth ? 0 : trh - borderLeftWidth, trv - borderTopWidth, CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + borderTopWidth);\r\n            this.bottomRightPaddingBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - borderLeftWidth), bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth), Math.max(0, brh - borderRightWidth), brv - borderBottomWidth, CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + bounds.height - borderBottomWidth);\r\n            this.bottomLeftPaddingBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth, bounds.top + leftHeight, Math.max(0, blh - borderLeftWidth), blv - borderBottomWidth, CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth, bounds.top + bounds.height - borderBottomWidth);\r\n            this.topLeftContentBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop, Math.max(0, tlh - (borderLeftWidth + paddingLeft)), Math.max(0, tlv - (borderTopWidth + paddingTop)), CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop);\r\n            this.topRightContentBox =\r\n                trh > 0 || trv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth + paddingLeft), bounds.top + borderTopWidth + paddingTop, topWidth > bounds.width + borderLeftWidth + paddingLeft ? 0 : trh - borderLeftWidth + paddingLeft, trv - (borderTopWidth + paddingTop), CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - (borderRightWidth + paddingRight), bounds.top + borderTopWidth + paddingTop);\r\n            this.bottomRightContentBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - (borderLeftWidth + paddingLeft)), bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth + paddingTop), Math.max(0, brh - (borderRightWidth + paddingRight)), brv - (borderBottomWidth + paddingBottom), CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - (borderRightWidth + paddingRight), bounds.top + bounds.height - (borderBottomWidth + paddingBottom));\r\n            this.bottomLeftContentBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth + paddingLeft, bounds.top + leftHeight, Math.max(0, blh - (borderLeftWidth + paddingLeft)), blv - (borderBottomWidth + paddingBottom), CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + bounds.height - (borderBottomWidth + paddingBottom));\r\n        }\r\n        return BoundCurves;\r\n    }());\r\n    var CORNER;\r\n    (function (CORNER) {\r\n        CORNER[CORNER[\"TOP_LEFT\"] = 0] = \"TOP_LEFT\";\r\n        CORNER[CORNER[\"TOP_RIGHT\"] = 1] = \"TOP_RIGHT\";\r\n        CORNER[CORNER[\"BOTTOM_RIGHT\"] = 2] = \"BOTTOM_RIGHT\";\r\n        CORNER[CORNER[\"BOTTOM_LEFT\"] = 3] = \"BOTTOM_LEFT\";\r\n    })(CORNER || (CORNER = {}));\r\n    var getCurvePoints = function (x, y, r1, r2, position) {\r\n        var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\r\n        var ox = r1 * kappa; // control point offset horizontal\r\n        var oy = r2 * kappa; // control point offset vertical\r\n        var xm = x + r1; // x-middle\r\n        var ym = y + r2; // y-middle\r\n        switch (position) {\r\n            case CORNER.TOP_LEFT:\r\n                return new BezierCurve(new Vector(x, ym), new Vector(x, ym - oy), new Vector(xm - ox, y), new Vector(xm, y));\r\n            case CORNER.TOP_RIGHT:\r\n                return new BezierCurve(new Vector(x, y), new Vector(x + ox, y), new Vector(xm, ym - oy), new Vector(xm, ym));\r\n            case CORNER.BOTTOM_RIGHT:\r\n                return new BezierCurve(new Vector(xm, y), new Vector(xm, y + oy), new Vector(x + ox, ym), new Vector(x, ym));\r\n            case CORNER.BOTTOM_LEFT:\r\n            default:\r\n                return new BezierCurve(new Vector(xm, ym), new Vector(xm - ox, ym), new Vector(x, y + oy), new Vector(x, y));\r\n        }\r\n    };\r\n    var calculateBorderBoxPath = function (curves) {\r\n        return [curves.topLeftBorderBox, curves.topRightBorderBox, curves.bottomRightBorderBox, curves.bottomLeftBorderBox];\r\n    };\r\n    var calculateContentBoxPath = function (curves) {\r\n        return [\r\n            curves.topLeftContentBox,\r\n            curves.topRightContentBox,\r\n            curves.bottomRightContentBox,\r\n            curves.bottomLeftContentBox\r\n        ];\r\n    };\r\n    var calculatePaddingBoxPath = function (curves) {\r\n        return [\r\n            curves.topLeftPaddingBox,\r\n            curves.topRightPaddingBox,\r\n            curves.bottomRightPaddingBox,\r\n            curves.bottomLeftPaddingBox\r\n        ];\r\n    };\n\n    var TransformEffect = /** @class */ (function () {\r\n        function TransformEffect(offsetX, offsetY, matrix) {\r\n            this.type = 0 /* TRANSFORM */;\r\n            this.offsetX = offsetX;\r\n            this.offsetY = offsetY;\r\n            this.matrix = matrix;\r\n            this.target = 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */;\r\n        }\r\n        return TransformEffect;\r\n    }());\r\n    var ClipEffect = /** @class */ (function () {\r\n        function ClipEffect(path, target) {\r\n            this.type = 1 /* CLIP */;\r\n            this.target = target;\r\n            this.path = path;\r\n        }\r\n        return ClipEffect;\r\n    }());\r\n    var isTransformEffect = function (effect) {\r\n        return effect.type === 0 /* TRANSFORM */;\r\n    };\r\n    var isClipEffect = function (effect) { return effect.type === 1 /* CLIP */; };\n\n    var StackingContext = /** @class */ (function () {\r\n        function StackingContext(container) {\r\n            this.element = container;\r\n            this.inlineLevel = [];\r\n            this.nonInlineLevel = [];\r\n            this.negativeZIndex = [];\r\n            this.zeroOrAutoZIndexOrTransformedOrOpacity = [];\r\n            this.positiveZIndex = [];\r\n            this.nonPositionedFloats = [];\r\n            this.nonPositionedInlineLevel = [];\r\n        }\r\n        return StackingContext;\r\n    }());\r\n    var ElementPaint = /** @class */ (function () {\r\n        function ElementPaint(element, parentStack) {\r\n            this.container = element;\r\n            this.effects = parentStack.slice(0);\r\n            this.curves = new BoundCurves(element);\r\n            if (element.styles.transform !== null) {\r\n                var offsetX = element.bounds.left + element.styles.transformOrigin[0].number;\r\n                var offsetY = element.bounds.top + element.styles.transformOrigin[1].number;\r\n                var matrix = element.styles.transform;\r\n                this.effects.push(new TransformEffect(offsetX, offsetY, matrix));\r\n            }\r\n            if (element.styles.overflowX !== OVERFLOW.VISIBLE) {\r\n                var borderBox = calculateBorderBoxPath(this.curves);\r\n                var paddingBox = calculatePaddingBoxPath(this.curves);\r\n                if (equalPath(borderBox, paddingBox)) {\r\n                    this.effects.push(new ClipEffect(borderBox, 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */));\r\n                }\r\n                else {\r\n                    this.effects.push(new ClipEffect(borderBox, 2 /* BACKGROUND_BORDERS */));\r\n                    this.effects.push(new ClipEffect(paddingBox, 4 /* CONTENT */));\r\n                }\r\n            }\r\n        }\r\n        ElementPaint.prototype.getParentEffects = function () {\r\n            var effects = this.effects.slice(0);\r\n            if (this.container.styles.overflowX !== OVERFLOW.VISIBLE) {\r\n                var borderBox = calculateBorderBoxPath(this.curves);\r\n                var paddingBox = calculatePaddingBoxPath(this.curves);\r\n                if (!equalPath(borderBox, paddingBox)) {\r\n                    effects.push(new ClipEffect(paddingBox, 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */));\r\n                }\r\n            }\r\n            return effects;\r\n        };\r\n        return ElementPaint;\r\n    }());\r\n    var parseStackTree = function (parent, stackingContext, realStackingContext, listItems) {\r\n        parent.container.elements.forEach(function (child) {\r\n            var treatAsRealStackingContext = contains(child.flags, 4 /* CREATES_REAL_STACKING_CONTEXT */);\r\n            var createsStackingContext = contains(child.flags, 2 /* CREATES_STACKING_CONTEXT */);\r\n            var paintContainer = new ElementPaint(child, parent.getParentEffects());\r\n            if (contains(child.styles.display, 2048 /* LIST_ITEM */)) {\r\n                listItems.push(paintContainer);\r\n            }\r\n            var listOwnerItems = contains(child.flags, 8 /* IS_LIST_OWNER */) ? [] : listItems;\r\n            if (treatAsRealStackingContext || createsStackingContext) {\r\n                var parentStack = treatAsRealStackingContext || child.styles.isPositioned() ? realStackingContext : stackingContext;\r\n                var stack = new StackingContext(paintContainer);\r\n                if (child.styles.isPositioned() || child.styles.opacity < 1 || child.styles.isTransformed()) {\r\n                    var order_1 = child.styles.zIndex.order;\r\n                    if (order_1 < 0) {\r\n                        var index_1 = 0;\r\n                        parentStack.negativeZIndex.some(function (current, i) {\r\n                            if (order_1 > current.element.container.styles.zIndex.order) {\r\n                                index_1 = i;\r\n                                return false;\r\n                            }\r\n                            else if (index_1 > 0) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        });\r\n                        parentStack.negativeZIndex.splice(index_1, 0, stack);\r\n                    }\r\n                    else if (order_1 > 0) {\r\n                        var index_2 = 0;\r\n                        parentStack.positiveZIndex.some(function (current, i) {\r\n                            if (order_1 >= current.element.container.styles.zIndex.order) {\r\n                                index_2 = i + 1;\r\n                                return false;\r\n                            }\r\n                            else if (index_2 > 0) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        });\r\n                        parentStack.positiveZIndex.splice(index_2, 0, stack);\r\n                    }\r\n                    else {\r\n                        parentStack.zeroOrAutoZIndexOrTransformedOrOpacity.push(stack);\r\n                    }\r\n                }\r\n                else {\r\n                    if (child.styles.isFloating()) {\r\n                        parentStack.nonPositionedFloats.push(stack);\r\n                    }\r\n                    else {\r\n                        parentStack.nonPositionedInlineLevel.push(stack);\r\n                    }\r\n                }\r\n                parseStackTree(paintContainer, stack, treatAsRealStackingContext ? stack : realStackingContext, listOwnerItems);\r\n            }\r\n            else {\r\n                if (child.styles.isInlineLevel()) {\r\n                    stackingContext.inlineLevel.push(paintContainer);\r\n                }\r\n                else {\r\n                    stackingContext.nonInlineLevel.push(paintContainer);\r\n                }\r\n                parseStackTree(paintContainer, stackingContext, realStackingContext, listOwnerItems);\r\n            }\r\n            if (contains(child.flags, 8 /* IS_LIST_OWNER */)) {\r\n                processListItems(child, listOwnerItems);\r\n            }\r\n        });\r\n    };\r\n    var processListItems = function (owner, elements) {\r\n        var numbering = owner instanceof OLElementContainer ? owner.start : 1;\r\n        var reversed = owner instanceof OLElementContainer ? owner.reversed : false;\r\n        for (var i = 0; i < elements.length; i++) {\r\n            var item = elements[i];\r\n            if (item.container instanceof LIElementContainer &&\r\n                typeof item.container.value === 'number' &&\r\n                item.container.value !== 0) {\r\n                numbering = item.container.value;\r\n            }\r\n            item.listValue = createCounterText(numbering, item.container.styles.listStyleType, true);\r\n            numbering += reversed ? -1 : 1;\r\n        }\r\n    };\r\n    var parseStackingContexts = function (container) {\r\n        var paintContainer = new ElementPaint(container, []);\r\n        var root = new StackingContext(paintContainer);\r\n        var listItems = [];\r\n        parseStackTree(paintContainer, root, root, listItems);\r\n        processListItems(paintContainer.container, listItems);\r\n        return root;\r\n    };\n\n    var parsePathForBorder = function (curves, borderSide) {\r\n        switch (borderSide) {\r\n            case 0:\r\n                return createPathFromCurves(curves.topLeftBorderBox, curves.topLeftPaddingBox, curves.topRightBorderBox, curves.topRightPaddingBox);\r\n            case 1:\r\n                return createPathFromCurves(curves.topRightBorderBox, curves.topRightPaddingBox, curves.bottomRightBorderBox, curves.bottomRightPaddingBox);\r\n            case 2:\r\n                return createPathFromCurves(curves.bottomRightBorderBox, curves.bottomRightPaddingBox, curves.bottomLeftBorderBox, curves.bottomLeftPaddingBox);\r\n            case 3:\r\n            default:\r\n                return createPathFromCurves(curves.bottomLeftBorderBox, curves.bottomLeftPaddingBox, curves.topLeftBorderBox, curves.topLeftPaddingBox);\r\n        }\r\n    };\r\n    var createPathFromCurves = function (outer1, inner1, outer2, inner2) {\r\n        var path = [];\r\n        if (isBezierCurve(outer1)) {\r\n            path.push(outer1.subdivide(0.5, false));\r\n        }\r\n        else {\r\n            path.push(outer1);\r\n        }\r\n        if (isBezierCurve(outer2)) {\r\n            path.push(outer2.subdivide(0.5, true));\r\n        }\r\n        else {\r\n            path.push(outer2);\r\n        }\r\n        if (isBezierCurve(inner2)) {\r\n            path.push(inner2.subdivide(0.5, true).reverse());\r\n        }\r\n        else {\r\n            path.push(inner2);\r\n        }\r\n        if (isBezierCurve(inner1)) {\r\n            path.push(inner1.subdivide(0.5, false).reverse());\r\n        }\r\n        else {\r\n            path.push(inner1);\r\n        }\r\n        return path;\r\n    };\n\n    var paddingBox = function (element) {\r\n        var bounds = element.bounds;\r\n        var styles = element.styles;\r\n        return bounds.add(styles.borderLeftWidth, styles.borderTopWidth, -(styles.borderRightWidth + styles.borderLeftWidth), -(styles.borderTopWidth + styles.borderBottomWidth));\r\n    };\r\n    var contentBox = function (element) {\r\n        var styles = element.styles;\r\n        var bounds = element.bounds;\r\n        var paddingLeft = getAbsoluteValue(styles.paddingLeft, bounds.width);\r\n        var paddingRight = getAbsoluteValue(styles.paddingRight, bounds.width);\r\n        var paddingTop = getAbsoluteValue(styles.paddingTop, bounds.width);\r\n        var paddingBottom = getAbsoluteValue(styles.paddingBottom, bounds.width);\r\n        return bounds.add(paddingLeft + styles.borderLeftWidth, paddingTop + styles.borderTopWidth, -(styles.borderRightWidth + styles.borderLeftWidth + paddingLeft + paddingRight), -(styles.borderTopWidth + styles.borderBottomWidth + paddingTop + paddingBottom));\r\n    };\n\n    var calculateBackgroundPositioningArea = function (backgroundOrigin, element) {\r\n        if (backgroundOrigin === 0 /* BORDER_BOX */) {\r\n            return element.bounds;\r\n        }\r\n        if (backgroundOrigin === 2 /* CONTENT_BOX */) {\r\n            return contentBox(element);\r\n        }\r\n        return paddingBox(element);\r\n    };\r\n    var calculateBackgroundPaintingArea = function (backgroundClip, element) {\r\n        if (backgroundClip === BACKGROUND_CLIP.BORDER_BOX) {\r\n            return element.bounds;\r\n        }\r\n        if (backgroundClip === BACKGROUND_CLIP.CONTENT_BOX) {\r\n            return contentBox(element);\r\n        }\r\n        return paddingBox(element);\r\n    };\r\n    var calculateBackgroundRendering = function (container, index, intrinsicSize) {\r\n        var backgroundPositioningArea = calculateBackgroundPositioningArea(getBackgroundValueForIndex(container.styles.backgroundOrigin, index), container);\r\n        var backgroundPaintingArea = calculateBackgroundPaintingArea(getBackgroundValueForIndex(container.styles.backgroundClip, index), container);\r\n        var backgroundImageSize = calculateBackgroundSize(getBackgroundValueForIndex(container.styles.backgroundSize, index), intrinsicSize, backgroundPositioningArea);\r\n        var sizeWidth = backgroundImageSize[0], sizeHeight = backgroundImageSize[1];\r\n        var position = getAbsoluteValueForTuple(getBackgroundValueForIndex(container.styles.backgroundPosition, index), backgroundPositioningArea.width - sizeWidth, backgroundPositioningArea.height - sizeHeight);\r\n        var path = calculateBackgroundRepeatPath(getBackgroundValueForIndex(container.styles.backgroundRepeat, index), position, backgroundImageSize, backgroundPositioningArea, backgroundPaintingArea);\r\n        var offsetX = Math.round(backgroundPositioningArea.left + position[0]);\r\n        var offsetY = Math.round(backgroundPositioningArea.top + position[1]);\r\n        return [path, offsetX, offsetY, sizeWidth, sizeHeight];\r\n    };\r\n    var isAuto = function (token) { return isIdentToken(token) && token.value === BACKGROUND_SIZE.AUTO; };\r\n    var hasIntrinsicValue = function (value) { return typeof value === 'number'; };\r\n    var calculateBackgroundSize = function (size, _a, bounds) {\r\n        var intrinsicWidth = _a[0], intrinsicHeight = _a[1], intrinsicProportion = _a[2];\r\n        var first = size[0], second = size[1];\r\n        if (isLengthPercentage(first) && second && isLengthPercentage(second)) {\r\n            return [getAbsoluteValue(first, bounds.width), getAbsoluteValue(second, bounds.height)];\r\n        }\r\n        var hasIntrinsicProportion = hasIntrinsicValue(intrinsicProportion);\r\n        if (isIdentToken(first) && (first.value === BACKGROUND_SIZE.CONTAIN || first.value === BACKGROUND_SIZE.COVER)) {\r\n            if (hasIntrinsicValue(intrinsicProportion)) {\r\n                var targetRatio = bounds.width / bounds.height;\r\n                return targetRatio < intrinsicProportion !== (first.value === BACKGROUND_SIZE.COVER)\r\n                    ? [bounds.width, bounds.width / intrinsicProportion]\r\n                    : [bounds.height * intrinsicProportion, bounds.height];\r\n            }\r\n            return [bounds.width, bounds.height];\r\n        }\r\n        var hasIntrinsicWidth = hasIntrinsicValue(intrinsicWidth);\r\n        var hasIntrinsicHeight = hasIntrinsicValue(intrinsicHeight);\r\n        var hasIntrinsicDimensions = hasIntrinsicWidth || hasIntrinsicHeight;\r\n        // If the background-size is auto or auto auto:\r\n        if (isAuto(first) && (!second || isAuto(second))) {\r\n            // If the image has both horizontal and vertical intrinsic dimensions, it's rendered at that size.\r\n            if (hasIntrinsicWidth && hasIntrinsicHeight) {\r\n                return [intrinsicWidth, intrinsicHeight];\r\n            }\r\n            // If the image has no intrinsic dimensions and has no intrinsic proportions,\r\n            // it's rendered at the size of the background positioning area.\r\n            if (!hasIntrinsicProportion && !hasIntrinsicDimensions) {\r\n                return [bounds.width, bounds.height];\r\n            }\r\n            // TODO If the image has no intrinsic dimensions but has intrinsic proportions, it's rendered as if contain had been specified instead.\r\n            // If the image has only one intrinsic dimension and has intrinsic proportions, it's rendered at the size corresponding to that one dimension.\r\n            // The other dimension is computed using the specified dimension and the intrinsic proportions.\r\n            if (hasIntrinsicDimensions && hasIntrinsicProportion) {\r\n                var width_1 = hasIntrinsicWidth\r\n                    ? intrinsicWidth\r\n                    : intrinsicHeight * intrinsicProportion;\r\n                var height_1 = hasIntrinsicHeight\r\n                    ? intrinsicHeight\r\n                    : intrinsicWidth / intrinsicProportion;\r\n                return [width_1, height_1];\r\n            }\r\n            // If the image has only one intrinsic dimension but has no intrinsic proportions,\r\n            // it's rendered using the specified dimension and the other dimension of the background positioning area.\r\n            var width_2 = hasIntrinsicWidth ? intrinsicWidth : bounds.width;\r\n            var height_2 = hasIntrinsicHeight ? intrinsicHeight : bounds.height;\r\n            return [width_2, height_2];\r\n        }\r\n        // If the image has intrinsic proportions, it's stretched to the specified dimension.\r\n        // The unspecified dimension is computed using the specified dimension and the intrinsic proportions.\r\n        if (hasIntrinsicProportion) {\r\n            var width_3 = 0;\r\n            var height_3 = 0;\r\n            if (isLengthPercentage(first)) {\r\n                width_3 = getAbsoluteValue(first, bounds.width);\r\n            }\r\n            else if (isLengthPercentage(second)) {\r\n                height_3 = getAbsoluteValue(second, bounds.height);\r\n            }\r\n            if (isAuto(first)) {\r\n                width_3 = height_3 * intrinsicProportion;\r\n            }\r\n            else if (!second || isAuto(second)) {\r\n                height_3 = width_3 / intrinsicProportion;\r\n            }\r\n            return [width_3, height_3];\r\n        }\r\n        // If the image has no intrinsic proportions, it's stretched to the specified dimension.\r\n        // The unspecified dimension is computed using the image's corresponding intrinsic dimension,\r\n        // if there is one. If there is no such intrinsic dimension,\r\n        // it becomes the corresponding dimension of the background positioning area.\r\n        var width = null;\r\n        var height = null;\r\n        if (isLengthPercentage(first)) {\r\n            width = getAbsoluteValue(first, bounds.width);\r\n        }\r\n        else if (second && isLengthPercentage(second)) {\r\n            height = getAbsoluteValue(second, bounds.height);\r\n        }\r\n        if (width !== null && (!second || isAuto(second))) {\r\n            height =\r\n                hasIntrinsicWidth && hasIntrinsicHeight\r\n                    ? (width / intrinsicWidth) * intrinsicHeight\r\n                    : bounds.height;\r\n        }\r\n        if (height !== null && isAuto(first)) {\r\n            width =\r\n                hasIntrinsicWidth && hasIntrinsicHeight\r\n                    ? (height / intrinsicHeight) * intrinsicWidth\r\n                    : bounds.width;\r\n        }\r\n        if (width !== null && height !== null) {\r\n            return [width, height];\r\n        }\r\n        throw new Error(\"Unable to calculate background-size for element\");\r\n    };\r\n    var getBackgroundValueForIndex = function (values, index) {\r\n        var value = values[index];\r\n        if (typeof value === 'undefined') {\r\n            return values[0];\r\n        }\r\n        return value;\r\n    };\r\n    var calculateBackgroundRepeatPath = function (repeat, _a, _b, backgroundPositioningArea, backgroundPaintingArea) {\r\n        var x = _a[0], y = _a[1];\r\n        var width = _b[0], height = _b[1];\r\n        switch (repeat) {\r\n            case BACKGROUND_REPEAT.REPEAT_X:\r\n                return [\r\n                    new Vector(Math.round(backgroundPositioningArea.left), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width), Math.round(height + backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left), Math.round(height + backgroundPositioningArea.top + y))\r\n                ];\r\n            case BACKGROUND_REPEAT.REPEAT_Y:\r\n                return [\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top))\r\n                ];\r\n            case BACKGROUND_REPEAT.NO_REPEAT:\r\n                return [\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top + y + height)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top + y + height))\r\n                ];\r\n            default:\r\n                return [\r\n                    new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.top)),\r\n                    new Vector(Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width), Math.round(backgroundPaintingArea.top)),\r\n                    new Vector(Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width), Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top)),\r\n                    new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top))\r\n                ];\r\n        }\r\n    };\n\n    var SMALL_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\n    var SAMPLE_TEXT = 'Hidden Text';\r\n    var FontMetrics = /** @class */ (function () {\r\n        function FontMetrics(document) {\r\n            this._data = {};\r\n            this._document = document;\r\n        }\r\n        FontMetrics.prototype.parseMetrics = function (fontFamily, fontSize) {\r\n            var container = this._document.createElement('div');\r\n            var img = this._document.createElement('img');\r\n            var span = this._document.createElement('span');\r\n            var body = this._document.body;\r\n            container.style.visibility = 'hidden';\r\n            container.style.fontFamily = fontFamily;\r\n            container.style.fontSize = fontSize;\r\n            container.style.margin = '0';\r\n            container.style.padding = '0';\r\n            body.appendChild(container);\r\n            img.src = SMALL_IMAGE;\r\n            img.width = 1;\r\n            img.height = 1;\r\n            img.style.margin = '0';\r\n            img.style.padding = '0';\r\n            img.style.verticalAlign = 'baseline';\r\n            span.style.fontFamily = fontFamily;\r\n            span.style.fontSize = fontSize;\r\n            span.style.margin = '0';\r\n            span.style.padding = '0';\r\n            span.appendChild(this._document.createTextNode(SAMPLE_TEXT));\r\n            container.appendChild(span);\r\n            container.appendChild(img);\r\n            var baseline = img.offsetTop - span.offsetTop + 2;\r\n            container.removeChild(span);\r\n            container.appendChild(this._document.createTextNode(SAMPLE_TEXT));\r\n            container.style.lineHeight = 'normal';\r\n            img.style.verticalAlign = 'super';\r\n            var middle = img.offsetTop - container.offsetTop + 2;\r\n            body.removeChild(container);\r\n            return { baseline: baseline, middle: middle };\r\n        };\r\n        FontMetrics.prototype.getMetrics = function (fontFamily, fontSize) {\r\n            var key = fontFamily + \" \" + fontSize;\r\n            if (typeof this._data[key] === 'undefined') {\r\n                this._data[key] = this.parseMetrics(fontFamily, fontSize);\r\n            }\r\n            return this._data[key];\r\n        };\r\n        return FontMetrics;\r\n    }());\n\n    var MASK_OFFSET = 10000;\r\n    var CanvasRenderer = /** @class */ (function () {\r\n        function CanvasRenderer(options) {\r\n            this._activeEffects = [];\r\n            this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\r\n            this.ctx = this.canvas.getContext('2d');\r\n            this.options = options;\r\n            if (!options.canvas) {\r\n                this.canvas.width = Math.floor(options.width * options.scale);\r\n                this.canvas.height = Math.floor(options.height * options.scale);\r\n                this.canvas.style.width = options.width + \"px\";\r\n                this.canvas.style.height = options.height + \"px\";\r\n            }\r\n            this.fontMetrics = new FontMetrics(document);\r\n            this.ctx.scale(this.options.scale, this.options.scale);\r\n            this.ctx.translate(-options.x + options.scrollX, -options.y + options.scrollY);\r\n            this.ctx.textBaseline = 'bottom';\r\n            this._activeEffects = [];\r\n            Logger.getInstance(options.id).debug(\"Canvas renderer initialized (\" + options.width + \"x\" + options.height + \" at \" + options.x + \",\" + options.y + \") with scale \" + options.scale);\r\n        }\r\n        CanvasRenderer.prototype.applyEffects = function (effects, target) {\r\n            var _this = this;\r\n            while (this._activeEffects.length) {\r\n                this.popEffect();\r\n            }\r\n            effects.filter(function (effect) { return contains(effect.target, target); }).forEach(function (effect) { return _this.applyEffect(effect); });\r\n        };\r\n        CanvasRenderer.prototype.applyEffect = function (effect) {\r\n            this.ctx.save();\r\n            if (isTransformEffect(effect)) {\r\n                this.ctx.translate(effect.offsetX, effect.offsetY);\r\n                this.ctx.transform(effect.matrix[0], effect.matrix[1], effect.matrix[2], effect.matrix[3], effect.matrix[4], effect.matrix[5]);\r\n                this.ctx.translate(-effect.offsetX, -effect.offsetY);\r\n            }\r\n            if (isClipEffect(effect)) {\r\n                this.path(effect.path);\r\n                this.ctx.clip();\r\n            }\r\n            this._activeEffects.push(effect);\r\n        };\r\n        CanvasRenderer.prototype.popEffect = function () {\r\n            this._activeEffects.pop();\r\n            this.ctx.restore();\r\n        };\r\n        CanvasRenderer.prototype.renderStack = function (stack) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var styles;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            styles = stack.element.container.styles;\r\n                            if (!styles.isVisible()) return [3 /*break*/, 2];\r\n                            this.ctx.globalAlpha = styles.opacity;\r\n                            return [4 /*yield*/, this.renderStackContent(stack)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderNode = function (paint) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!paint.container.styles.isVisible()) return [3 /*break*/, 3];\r\n                            return [4 /*yield*/, this.renderNodeBackgroundAndBorders(paint)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4 /*yield*/, this.renderNodeContent(paint)];\r\n                        case 2:\r\n                            _a.sent();\r\n                            _a.label = 3;\r\n                        case 3: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderTextWithLetterSpacing = function (text, letterSpacing) {\r\n            var _this = this;\r\n            if (letterSpacing === 0) {\r\n                this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\r\n            }\r\n            else {\r\n                var letters = toCodePoints(text.text).map(function (i) { return fromCodePoint(i); });\r\n                letters.reduce(function (left, letter) {\r\n                    _this.ctx.fillText(letter, left, text.bounds.top + text.bounds.height);\r\n                    return left + _this.ctx.measureText(letter).width;\r\n                }, text.bounds.left);\r\n            }\r\n        };\r\n        CanvasRenderer.prototype.createFontStyle = function (styles) {\r\n            var fontVariant = styles.fontVariant\r\n                .filter(function (variant) { return variant === 'normal' || variant === 'small-caps'; })\r\n                .join('');\r\n            var fontFamily = styles.fontFamily.join(', ');\r\n            var fontSize = isDimensionToken(styles.fontSize)\r\n                ? \"\" + styles.fontSize.number + styles.fontSize.unit\r\n                : styles.fontSize.number + \"px\";\r\n            return [\r\n                [styles.fontStyle, fontVariant, styles.fontWeight, fontSize, fontFamily].join(' '),\r\n                fontFamily,\r\n                fontSize\r\n            ];\r\n        };\r\n        CanvasRenderer.prototype.renderTextNode = function (text, styles) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _a, font, fontFamily, fontSize;\r\n                var _this = this;\r\n                return __generator(this, function (_b) {\r\n                    _a = this.createFontStyle(styles), font = _a[0], fontFamily = _a[1], fontSize = _a[2];\r\n                    this.ctx.font = font;\r\n                    text.textBounds.forEach(function (text) {\r\n                        _this.ctx.fillStyle = asString(styles.color);\r\n                        _this.renderTextWithLetterSpacing(text, styles.letterSpacing);\r\n                        var textShadows = styles.textShadow;\r\n                        if (textShadows.length && text.text.trim().length) {\r\n                            textShadows\r\n                                .slice(0)\r\n                                .reverse()\r\n                                .forEach(function (textShadow) {\r\n                                _this.ctx.shadowColor = asString(textShadow.color);\r\n                                _this.ctx.shadowOffsetX = textShadow.offsetX.number * _this.options.scale;\r\n                                _this.ctx.shadowOffsetY = textShadow.offsetY.number * _this.options.scale;\r\n                                _this.ctx.shadowBlur = textShadow.blur.number;\r\n                                _this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\r\n                            });\r\n                            _this.ctx.shadowColor = '';\r\n                            _this.ctx.shadowOffsetX = 0;\r\n                            _this.ctx.shadowOffsetY = 0;\r\n                            _this.ctx.shadowBlur = 0;\r\n                        }\r\n                        if (styles.textDecorationLine.length) {\r\n                            _this.ctx.fillStyle = asString(styles.textDecorationColor || styles.color);\r\n                            styles.textDecorationLine.forEach(function (textDecorationLine) {\r\n                                switch (textDecorationLine) {\r\n                                    case 1 /* UNDERLINE */:\r\n                                        // Draws a line at the baseline of the font\r\n                                        // TODO As some browsers display the line as more than 1px if the font-size is big,\r\n                                        // need to take that into account both in position and size\r\n                                        var baseline = _this.fontMetrics.getMetrics(fontFamily, fontSize).baseline;\r\n                                        _this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top + baseline), text.bounds.width, 1);\r\n                                        break;\r\n                                    case 2 /* OVERLINE */:\r\n                                        _this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top), text.bounds.width, 1);\r\n                                        break;\r\n                                    case 3 /* LINE_THROUGH */:\r\n                                        // TODO try and find exact position for line-through\r\n                                        var middle = _this.fontMetrics.getMetrics(fontFamily, fontSize).middle;\r\n                                        _this.ctx.fillRect(text.bounds.left, Math.ceil(text.bounds.top + middle), text.bounds.width, 1);\r\n                                        break;\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                    return [2 /*return*/];\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderReplacedElement = function (container, curves, image) {\r\n            if (image && container.intrinsicWidth > 0 && container.intrinsicHeight > 0) {\r\n                var box = contentBox(container);\r\n                var path = calculatePaddingBoxPath(curves);\r\n                this.path(path);\r\n                this.ctx.save();\r\n                this.ctx.clip();\r\n                this.ctx.drawImage(image, 0, 0, container.intrinsicWidth, container.intrinsicHeight, box.left, box.top, box.width, box.height);\r\n                this.ctx.restore();\r\n            }\r\n        };\r\n        CanvasRenderer.prototype.renderNodeContent = function (paint) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var container, curves, styles, _i, _a, child, image, e_1, image, e_2, iframeRenderer, canvas, size, bounds, x, textBounds, img, image, url, e_3, bounds;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            this.applyEffects(paint.effects, 4 /* CONTENT */);\r\n                            container = paint.container;\r\n                            curves = paint.curves;\r\n                            styles = container.styles;\r\n                            _i = 0, _a = container.textNodes;\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            if (!(_i < _a.length)) return [3 /*break*/, 4];\r\n                            child = _a[_i];\r\n                            return [4 /*yield*/, this.renderTextNode(child, styles)];\r\n                        case 2:\r\n                            _b.sent();\r\n                            _b.label = 3;\r\n                        case 3:\r\n                            _i++;\r\n                            return [3 /*break*/, 1];\r\n                        case 4:\r\n                            if (!(container instanceof ImageElementContainer)) return [3 /*break*/, 8];\r\n                            _b.label = 5;\r\n                        case 5:\r\n                            _b.trys.push([5, 7, , 8]);\r\n                            return [4 /*yield*/, this.options.cache.match(container.src)];\r\n                        case 6:\r\n                            image = _b.sent();\r\n                            this.renderReplacedElement(container, curves, image);\r\n                            return [3 /*break*/, 8];\r\n                        case 7:\r\n                            e_1 = _b.sent();\r\n                            Logger.getInstance(this.options.id).error(\"Error loading image \" + container.src);\r\n                            return [3 /*break*/, 8];\r\n                        case 8:\r\n                            if (container instanceof CanvasElementContainer) {\r\n                                this.renderReplacedElement(container, curves, container.canvas);\r\n                            }\r\n                            if (!(container instanceof SVGElementContainer)) return [3 /*break*/, 12];\r\n                            _b.label = 9;\r\n                        case 9:\r\n                            _b.trys.push([9, 11, , 12]);\r\n                            return [4 /*yield*/, this.options.cache.match(container.svg)];\r\n                        case 10:\r\n                            image = _b.sent();\r\n                            this.renderReplacedElement(container, curves, image);\r\n                            return [3 /*break*/, 12];\r\n                        case 11:\r\n                            e_2 = _b.sent();\r\n                            Logger.getInstance(this.options.id).error(\"Error loading svg \" + container.svg.substring(0, 255));\r\n                            return [3 /*break*/, 12];\r\n                        case 12:\r\n                            if (!(container instanceof IFrameElementContainer && container.tree)) return [3 /*break*/, 14];\r\n                            iframeRenderer = new CanvasRenderer({\r\n                                id: this.options.id,\r\n                                scale: this.options.scale,\r\n                                backgroundColor: container.backgroundColor,\r\n                                x: 0,\r\n                                y: 0,\r\n                                scrollX: 0,\r\n                                scrollY: 0,\r\n                                width: container.width,\r\n                                height: container.height,\r\n                                cache: this.options.cache,\r\n                                windowWidth: container.width,\r\n                                windowHeight: container.height\r\n                            });\r\n                            return [4 /*yield*/, iframeRenderer.render(container.tree)];\r\n                        case 13:\r\n                            canvas = _b.sent();\r\n                            if (container.width && container.height) {\r\n                                this.ctx.drawImage(canvas, 0, 0, container.width, container.height, container.bounds.left, container.bounds.top, container.bounds.width, container.bounds.height);\r\n                            }\r\n                            _b.label = 14;\r\n                        case 14:\r\n                            if (container instanceof InputElementContainer) {\r\n                                size = Math.min(container.bounds.width, container.bounds.height);\r\n                                if (container.type === CHECKBOX) {\r\n                                    if (container.checked) {\r\n                                        this.ctx.save();\r\n                                        this.path([\r\n                                            new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79),\r\n                                            new Vector(container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549),\r\n                                            new Vector(container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071),\r\n                                            new Vector(container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649),\r\n                                            new Vector(container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23),\r\n                                            new Vector(container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085),\r\n                                            new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)\r\n                                        ]);\r\n                                        this.ctx.fillStyle = asString(INPUT_COLOR);\r\n                                        this.ctx.fill();\r\n                                        this.ctx.restore();\r\n                                    }\r\n                                }\r\n                                else if (container.type === RADIO) {\r\n                                    if (container.checked) {\r\n                                        this.ctx.save();\r\n                                        this.ctx.beginPath();\r\n                                        this.ctx.arc(container.bounds.left + size / 2, container.bounds.top + size / 2, size / 4, 0, Math.PI * 2, true);\r\n                                        this.ctx.fillStyle = asString(INPUT_COLOR);\r\n                                        this.ctx.fill();\r\n                                        this.ctx.restore();\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (isTextInputElement(container) && container.value.length) {\r\n                                this.ctx.font = this.createFontStyle(styles)[0];\r\n                                this.ctx.fillStyle = asString(styles.color);\r\n                                this.ctx.textBaseline = 'middle';\r\n                                this.ctx.textAlign = canvasTextAlign(container.styles.textAlign);\r\n                                bounds = contentBox(container);\r\n                                x = 0;\r\n                                switch (container.styles.textAlign) {\r\n                                    case TEXT_ALIGN.CENTER:\r\n                                        x += bounds.width / 2;\r\n                                        break;\r\n                                    case TEXT_ALIGN.RIGHT:\r\n                                        x += bounds.width;\r\n                                        break;\r\n                                }\r\n                                textBounds = bounds.add(x, 0, 0, -bounds.height / 2 + 1);\r\n                                this.ctx.save();\r\n                                this.path([\r\n                                    new Vector(bounds.left, bounds.top),\r\n                                    new Vector(bounds.left + bounds.width, bounds.top),\r\n                                    new Vector(bounds.left + bounds.width, bounds.top + bounds.height),\r\n                                    new Vector(bounds.left, bounds.top + bounds.height)\r\n                                ]);\r\n                                this.ctx.clip();\r\n                                this.renderTextWithLetterSpacing(new TextBounds(container.value, textBounds), styles.letterSpacing);\r\n                                this.ctx.restore();\r\n                                this.ctx.textBaseline = 'bottom';\r\n                                this.ctx.textAlign = 'left';\r\n                            }\r\n                            if (!contains(container.styles.display, 2048 /* LIST_ITEM */)) return [3 /*break*/, 20];\r\n                            if (!(container.styles.listStyleImage !== null)) return [3 /*break*/, 19];\r\n                            img = container.styles.listStyleImage;\r\n                            if (!(img.type === CSSImageType.URL)) return [3 /*break*/, 18];\r\n                            image = void 0;\r\n                            url = img.url;\r\n                            _b.label = 15;\r\n                        case 15:\r\n                            _b.trys.push([15, 17, , 18]);\r\n                            return [4 /*yield*/, this.options.cache.match(url)];\r\n                        case 16:\r\n                            image = _b.sent();\r\n                            this.ctx.drawImage(image, container.bounds.left - (image.width + 10), container.bounds.top);\r\n                            return [3 /*break*/, 18];\r\n                        case 17:\r\n                            e_3 = _b.sent();\r\n                            Logger.getInstance(this.options.id).error(\"Error loading list-style-image \" + url);\r\n                            return [3 /*break*/, 18];\r\n                        case 18: return [3 /*break*/, 20];\r\n                        case 19:\r\n                            if (paint.listValue && container.styles.listStyleType !== LIST_STYLE_TYPE.NONE) {\r\n                                this.ctx.font = this.createFontStyle(styles)[0];\r\n                                this.ctx.fillStyle = asString(styles.color);\r\n                                this.ctx.textBaseline = 'middle';\r\n                                this.ctx.textAlign = 'right';\r\n                                bounds = new Bounds(container.bounds.left, container.bounds.top + getAbsoluteValue(container.styles.paddingTop, container.bounds.width), container.bounds.width, computeLineHeight(styles.lineHeight, styles.fontSize.number) / 2 + 1);\r\n                                this.renderTextWithLetterSpacing(new TextBounds(paint.listValue, bounds), styles.letterSpacing);\r\n                                this.ctx.textBaseline = 'bottom';\r\n                                this.ctx.textAlign = 'left';\r\n                            }\r\n                            _b.label = 20;\r\n                        case 20: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderStackContent = function (stack) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _i, _a, child, _b, _c, child, _d, _e, child, _f, _g, child, _h, _j, child, _k, _l, child, _m, _o, child;\r\n                return __generator(this, function (_p) {\r\n                    switch (_p.label) {\r\n                        case 0: \r\n                        // https://www.w3.org/TR/css-position-3/#painting-order\r\n                        // 1. the background and borders of the element forming the stacking context.\r\n                        return [4 /*yield*/, this.renderNodeBackgroundAndBorders(stack.element)];\r\n                        case 1:\r\n                            // https://www.w3.org/TR/css-position-3/#painting-order\r\n                            // 1. the background and borders of the element forming the stacking context.\r\n                            _p.sent();\r\n                            _i = 0, _a = stack.negativeZIndex;\r\n                            _p.label = 2;\r\n                        case 2:\r\n                            if (!(_i < _a.length)) return [3 /*break*/, 5];\r\n                            child = _a[_i];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 3:\r\n                            _p.sent();\r\n                            _p.label = 4;\r\n                        case 4:\r\n                            _i++;\r\n                            return [3 /*break*/, 2];\r\n                        case 5: \r\n                        // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\r\n                        return [4 /*yield*/, this.renderNodeContent(stack.element)];\r\n                        case 6:\r\n                            // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\r\n                            _p.sent();\r\n                            _b = 0, _c = stack.nonInlineLevel;\r\n                            _p.label = 7;\r\n                        case 7:\r\n                            if (!(_b < _c.length)) return [3 /*break*/, 10];\r\n                            child = _c[_b];\r\n                            return [4 /*yield*/, this.renderNode(child)];\r\n                        case 8:\r\n                            _p.sent();\r\n                            _p.label = 9;\r\n                        case 9:\r\n                            _b++;\r\n                            return [3 /*break*/, 7];\r\n                        case 10:\r\n                            _d = 0, _e = stack.nonPositionedFloats;\r\n                            _p.label = 11;\r\n                        case 11:\r\n                            if (!(_d < _e.length)) return [3 /*break*/, 14];\r\n                            child = _e[_d];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 12:\r\n                            _p.sent();\r\n                            _p.label = 13;\r\n                        case 13:\r\n                            _d++;\r\n                            return [3 /*break*/, 11];\r\n                        case 14:\r\n                            _f = 0, _g = stack.nonPositionedInlineLevel;\r\n                            _p.label = 15;\r\n                        case 15:\r\n                            if (!(_f < _g.length)) return [3 /*break*/, 18];\r\n                            child = _g[_f];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 16:\r\n                            _p.sent();\r\n                            _p.label = 17;\r\n                        case 17:\r\n                            _f++;\r\n                            return [3 /*break*/, 15];\r\n                        case 18:\r\n                            _h = 0, _j = stack.inlineLevel;\r\n                            _p.label = 19;\r\n                        case 19:\r\n                            if (!(_h < _j.length)) return [3 /*break*/, 22];\r\n                            child = _j[_h];\r\n                            return [4 /*yield*/, this.renderNode(child)];\r\n                        case 20:\r\n                            _p.sent();\r\n                            _p.label = 21;\r\n                        case 21:\r\n                            _h++;\r\n                            return [3 /*break*/, 19];\r\n                        case 22:\r\n                            _k = 0, _l = stack.zeroOrAutoZIndexOrTransformedOrOpacity;\r\n                            _p.label = 23;\r\n                        case 23:\r\n                            if (!(_k < _l.length)) return [3 /*break*/, 26];\r\n                            child = _l[_k];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 24:\r\n                            _p.sent();\r\n                            _p.label = 25;\r\n                        case 25:\r\n                            _k++;\r\n                            return [3 /*break*/, 23];\r\n                        case 26:\r\n                            _m = 0, _o = stack.positiveZIndex;\r\n                            _p.label = 27;\r\n                        case 27:\r\n                            if (!(_m < _o.length)) return [3 /*break*/, 30];\r\n                            child = _o[_m];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 28:\r\n                            _p.sent();\r\n                            _p.label = 29;\r\n                        case 29:\r\n                            _m++;\r\n                            return [3 /*break*/, 27];\r\n                        case 30: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.mask = function (paths) {\r\n            this.ctx.beginPath();\r\n            this.ctx.moveTo(0, 0);\r\n            this.ctx.lineTo(this.canvas.width, 0);\r\n            this.ctx.lineTo(this.canvas.width, this.canvas.height);\r\n            this.ctx.lineTo(0, this.canvas.height);\r\n            this.ctx.lineTo(0, 0);\r\n            this.formatPath(paths.slice(0).reverse());\r\n            this.ctx.closePath();\r\n        };\r\n        CanvasRenderer.prototype.path = function (paths) {\r\n            this.ctx.beginPath();\r\n            this.formatPath(paths);\r\n            this.ctx.closePath();\r\n        };\r\n        CanvasRenderer.prototype.formatPath = function (paths) {\r\n            var _this = this;\r\n            paths.forEach(function (point, index) {\r\n                var start = isBezierCurve(point) ? point.start : point;\r\n                if (index === 0) {\r\n                    _this.ctx.moveTo(start.x, start.y);\r\n                }\r\n                else {\r\n                    _this.ctx.lineTo(start.x, start.y);\r\n                }\r\n                if (isBezierCurve(point)) {\r\n                    _this.ctx.bezierCurveTo(point.startControl.x, point.startControl.y, point.endControl.x, point.endControl.y, point.end.x, point.end.y);\r\n                }\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderRepeat = function (path, pattern, offsetX, offsetY) {\r\n            this.path(path);\r\n            this.ctx.fillStyle = pattern;\r\n            this.ctx.translate(offsetX, offsetY);\r\n            this.ctx.fill();\r\n            this.ctx.translate(-offsetX, -offsetY);\r\n        };\r\n        CanvasRenderer.prototype.resizeImage = function (image, width, height) {\r\n            if (image.width === width && image.height === height) {\r\n                return image;\r\n            }\r\n            var canvas = this.canvas.ownerDocument.createElement('canvas');\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n            var ctx = canvas.getContext('2d');\r\n            ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, width, height);\r\n            return canvas;\r\n        };\r\n        CanvasRenderer.prototype.renderBackgroundImage = function (container) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var index, _loop_1, this_1, _i, _a, backgroundImage;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            index = container.styles.backgroundImage.length - 1;\r\n                            _loop_1 = function (backgroundImage) {\r\n                                var image, url, e_4, _a, path, x, y, width, height, pattern, _b, path, x, y, width, height, _c, lineLength, x0, x1, y0, y1, canvas, ctx, gradient_1, pattern, _d, path, left, top_1, width, height, position, x, y, _e, rx, ry, radialGradient_1, midX, midY, f, invF;\r\n                                return __generator(this, function (_f) {\r\n                                    switch (_f.label) {\r\n                                        case 0:\r\n                                            if (!(backgroundImage.type === CSSImageType.URL)) return [3 /*break*/, 5];\r\n                                            image = void 0;\r\n                                            url = backgroundImage.url;\r\n                                            _f.label = 1;\r\n                                        case 1:\r\n                                            _f.trys.push([1, 3, , 4]);\r\n                                            return [4 /*yield*/, this_1.options.cache.match(url)];\r\n                                        case 2:\r\n                                            image = _f.sent();\r\n                                            return [3 /*break*/, 4];\r\n                                        case 3:\r\n                                            e_4 = _f.sent();\r\n                                            Logger.getInstance(this_1.options.id).error(\"Error loading background-image \" + url);\r\n                                            return [3 /*break*/, 4];\r\n                                        case 4:\r\n                                            if (image) {\r\n                                                _a = calculateBackgroundRendering(container, index, [\r\n                                                    image.width,\r\n                                                    image.height,\r\n                                                    image.width / image.height\r\n                                                ]), path = _a[0], x = _a[1], y = _a[2], width = _a[3], height = _a[4];\r\n                                                pattern = this_1.ctx.createPattern(this_1.resizeImage(image, width, height), 'repeat');\r\n                                                this_1.renderRepeat(path, pattern, x, y);\r\n                                            }\r\n                                            return [3 /*break*/, 6];\r\n                                        case 5:\r\n                                            if (isLinearGradient(backgroundImage)) {\r\n                                                _b = calculateBackgroundRendering(container, index, [null, null, null]), path = _b[0], x = _b[1], y = _b[2], width = _b[3], height = _b[4];\r\n                                                _c = calculateGradientDirection(backgroundImage.angle, width, height), lineLength = _c[0], x0 = _c[1], x1 = _c[2], y0 = _c[3], y1 = _c[4];\r\n                                                canvas = document.createElement('canvas');\r\n                                                canvas.width = width;\r\n                                                canvas.height = height;\r\n                                                ctx = canvas.getContext('2d');\r\n                                                gradient_1 = ctx.createLinearGradient(x0, y0, x1, y1);\r\n                                                processColorStops(backgroundImage.stops, lineLength).forEach(function (colorStop) {\r\n                                                    return gradient_1.addColorStop(colorStop.stop, asString(colorStop.color));\r\n                                                });\r\n                                                ctx.fillStyle = gradient_1;\r\n                                                ctx.fillRect(0, 0, width, height);\r\n                                                if (width > 0 && height > 0) {\r\n                                                    pattern = this_1.ctx.createPattern(canvas, 'repeat');\r\n                                                    this_1.renderRepeat(path, pattern, x, y);\r\n                                                }\r\n                                            }\r\n                                            else if (isRadialGradient(backgroundImage)) {\r\n                                                _d = calculateBackgroundRendering(container, index, [\r\n                                                    null,\r\n                                                    null,\r\n                                                    null\r\n                                                ]), path = _d[0], left = _d[1], top_1 = _d[2], width = _d[3], height = _d[4];\r\n                                                position = backgroundImage.position.length === 0 ? [FIFTY_PERCENT] : backgroundImage.position;\r\n                                                x = getAbsoluteValue(position[0], width);\r\n                                                y = getAbsoluteValue(position[position.length - 1], height);\r\n                                                _e = calculateRadius(backgroundImage, x, y, width, height), rx = _e[0], ry = _e[1];\r\n                                                if (rx > 0 && rx > 0) {\r\n                                                    radialGradient_1 = this_1.ctx.createRadialGradient(left + x, top_1 + y, 0, left + x, top_1 + y, rx);\r\n                                                    processColorStops(backgroundImage.stops, rx * 2).forEach(function (colorStop) {\r\n                                                        return radialGradient_1.addColorStop(colorStop.stop, asString(colorStop.color));\r\n                                                    });\r\n                                                    this_1.path(path);\r\n                                                    this_1.ctx.fillStyle = radialGradient_1;\r\n                                                    if (rx !== ry) {\r\n                                                        midX = container.bounds.left + 0.5 * container.bounds.width;\r\n                                                        midY = container.bounds.top + 0.5 * container.bounds.height;\r\n                                                        f = ry / rx;\r\n                                                        invF = 1 / f;\r\n                                                        this_1.ctx.save();\r\n                                                        this_1.ctx.translate(midX, midY);\r\n                                                        this_1.ctx.transform(1, 0, 0, f, 0, 0);\r\n                                                        this_1.ctx.translate(-midX, -midY);\r\n                                                        this_1.ctx.fillRect(left, invF * (top_1 - midY) + midY, width, height * invF);\r\n                                                        this_1.ctx.restore();\r\n                                                    }\r\n                                                    else {\r\n                                                        this_1.ctx.fill();\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                            _f.label = 6;\r\n                                        case 6:\r\n                                            index--;\r\n                                            return [2 /*return*/];\r\n                                    }\r\n                                });\r\n                            };\r\n                            this_1 = this;\r\n                            _i = 0, _a = container.styles.backgroundImage.slice(0).reverse();\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            if (!(_i < _a.length)) return [3 /*break*/, 4];\r\n                            backgroundImage = _a[_i];\r\n                            return [5 /*yield**/, _loop_1(backgroundImage)];\r\n                        case 2:\r\n                            _b.sent();\r\n                            _b.label = 3;\r\n                        case 3:\r\n                            _i++;\r\n                            return [3 /*break*/, 1];\r\n                        case 4: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderBorder = function (color, side, curvePoints) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    this.path(parsePathForBorder(curvePoints, side));\r\n                    this.ctx.fillStyle = asString(color);\r\n                    this.ctx.fill();\r\n                    return [2 /*return*/];\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderNodeBackgroundAndBorders = function (paint) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var styles, hasBackground, borders, backgroundPaintingArea, side, _i, borders_1, border;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this.applyEffects(paint.effects, 2 /* BACKGROUND_BORDERS */);\r\n                            styles = paint.container.styles;\r\n                            hasBackground = !isTransparent(styles.backgroundColor) || styles.backgroundImage.length;\r\n                            borders = [\r\n                                { style: styles.borderTopStyle, color: styles.borderTopColor },\r\n                                { style: styles.borderRightStyle, color: styles.borderRightColor },\r\n                                { style: styles.borderBottomStyle, color: styles.borderBottomColor },\r\n                                { style: styles.borderLeftStyle, color: styles.borderLeftColor }\r\n                            ];\r\n                            backgroundPaintingArea = calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(styles.backgroundClip, 0), paint.curves);\r\n                            if (!(hasBackground || styles.boxShadow.length)) return [3 /*break*/, 2];\r\n                            this.ctx.save();\r\n                            this.path(backgroundPaintingArea);\r\n                            this.ctx.clip();\r\n                            if (!isTransparent(styles.backgroundColor)) {\r\n                                this.ctx.fillStyle = asString(styles.backgroundColor);\r\n                                this.ctx.fill();\r\n                            }\r\n                            return [4 /*yield*/, this.renderBackgroundImage(paint.container)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.ctx.restore();\r\n                            styles.boxShadow\r\n                                .slice(0)\r\n                                .reverse()\r\n                                .forEach(function (shadow) {\r\n                                _this.ctx.save();\r\n                                var borderBoxArea = calculateBorderBoxPath(paint.curves);\r\n                                var maskOffset = shadow.inset ? 0 : MASK_OFFSET;\r\n                                var shadowPaintingArea = transformPath(borderBoxArea, -maskOffset + (shadow.inset ? 1 : -1) * shadow.spread.number, (shadow.inset ? 1 : -1) * shadow.spread.number, shadow.spread.number * (shadow.inset ? -2 : 2), shadow.spread.number * (shadow.inset ? -2 : 2));\r\n                                if (shadow.inset) {\r\n                                    _this.path(borderBoxArea);\r\n                                    _this.ctx.clip();\r\n                                    _this.mask(shadowPaintingArea);\r\n                                }\r\n                                else {\r\n                                    _this.mask(borderBoxArea);\r\n                                    _this.ctx.clip();\r\n                                    _this.path(shadowPaintingArea);\r\n                                }\r\n                                _this.ctx.shadowOffsetX = shadow.offsetX.number + maskOffset;\r\n                                _this.ctx.shadowOffsetY = shadow.offsetY.number;\r\n                                _this.ctx.shadowColor = asString(shadow.color);\r\n                                _this.ctx.shadowBlur = shadow.blur.number;\r\n                                _this.ctx.fillStyle = shadow.inset ? asString(shadow.color) : 'rgba(0,0,0,1)';\r\n                                _this.ctx.fill();\r\n                                _this.ctx.restore();\r\n                            });\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            side = 0;\r\n                            _i = 0, borders_1 = borders;\r\n                            _a.label = 3;\r\n                        case 3:\r\n                            if (!(_i < borders_1.length)) return [3 /*break*/, 7];\r\n                            border = borders_1[_i];\r\n                            if (!(border.style !== BORDER_STYLE.NONE && !isTransparent(border.color))) return [3 /*break*/, 5];\r\n                            return [4 /*yield*/, this.renderBorder(border.color, side, paint.curves)];\r\n                        case 4:\r\n                            _a.sent();\r\n                            _a.label = 5;\r\n                        case 5:\r\n                            side++;\r\n                            _a.label = 6;\r\n                        case 6:\r\n                            _i++;\r\n                            return [3 /*break*/, 3];\r\n                        case 7: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.render = function (element) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var stack;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (this.options.backgroundColor) {\r\n                                this.ctx.fillStyle = asString(this.options.backgroundColor);\r\n                                this.ctx.fillRect(this.options.x - this.options.scrollX, this.options.y - this.options.scrollY, this.options.width, this.options.height);\r\n                            }\r\n                            stack = parseStackingContexts(element);\r\n                            return [4 /*yield*/, this.renderStack(stack)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.applyEffects([], 2 /* BACKGROUND_BORDERS */);\r\n                            return [2 /*return*/, this.canvas];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return CanvasRenderer;\r\n    }());\r\n    var isTextInputElement = function (container) {\r\n        if (container instanceof TextareaElementContainer) {\r\n            return true;\r\n        }\r\n        else if (container instanceof SelectElementContainer) {\r\n            return true;\r\n        }\r\n        else if (container instanceof InputElementContainer && container.type !== RADIO && container.type !== CHECKBOX) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    var calculateBackgroundCurvedPaintingArea = function (clip, curves) {\r\n        switch (clip) {\r\n            case BACKGROUND_CLIP.BORDER_BOX:\r\n                return calculateBorderBoxPath(curves);\r\n            case BACKGROUND_CLIP.CONTENT_BOX:\r\n                return calculateContentBoxPath(curves);\r\n            case BACKGROUND_CLIP.PADDING_BOX:\r\n            default:\r\n                return calculatePaddingBoxPath(curves);\r\n        }\r\n    };\r\n    var canvasTextAlign = function (textAlign) {\r\n        switch (textAlign) {\r\n            case TEXT_ALIGN.CENTER:\r\n                return 'center';\r\n            case TEXT_ALIGN.RIGHT:\r\n                return 'right';\r\n            case TEXT_ALIGN.LEFT:\r\n            default:\r\n                return 'left';\r\n        }\r\n    };\n\n    var ForeignObjectRenderer = /** @class */ (function () {\r\n        function ForeignObjectRenderer(options) {\r\n            this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\r\n            this.ctx = this.canvas.getContext('2d');\r\n            this.options = options;\r\n            this.canvas.width = Math.floor(options.width * options.scale);\r\n            this.canvas.height = Math.floor(options.height * options.scale);\r\n            this.canvas.style.width = options.width + \"px\";\r\n            this.canvas.style.height = options.height + \"px\";\r\n            this.ctx.scale(this.options.scale, this.options.scale);\r\n            this.ctx.translate(-options.x + options.scrollX, -options.y + options.scrollY);\r\n            Logger.getInstance(options.id).debug(\"EXPERIMENTAL ForeignObject renderer initialized (\" + options.width + \"x\" + options.height + \" at \" + options.x + \",\" + options.y + \") with scale \" + options.scale);\r\n        }\r\n        ForeignObjectRenderer.prototype.render = function (element) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var svg, img;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            svg = createForeignObjectSVG(Math.max(this.options.windowWidth, this.options.width) * this.options.scale, Math.max(this.options.windowHeight, this.options.height) * this.options.scale, this.options.scrollX * this.options.scale, this.options.scrollY * this.options.scale, element);\r\n                            return [4 /*yield*/, loadSerializedSVG$1(svg)];\r\n                        case 1:\r\n                            img = _a.sent();\r\n                            if (this.options.backgroundColor) {\r\n                                this.ctx.fillStyle = asString(this.options.backgroundColor);\r\n                                this.ctx.fillRect(0, 0, this.options.width * this.options.scale, this.options.height * this.options.scale);\r\n                            }\r\n                            this.ctx.drawImage(img, -this.options.x * this.options.scale, -this.options.y * this.options.scale);\r\n                            return [2 /*return*/, this.canvas];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return ForeignObjectRenderer;\r\n    }());\r\n    var loadSerializedSVG$1 = function (svg) {\r\n        return new Promise(function (resolve, reject) {\r\n            var img = new Image();\r\n            img.onload = function () {\r\n                resolve(img);\r\n            };\r\n            img.onerror = reject;\r\n            img.src = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(new XMLSerializer().serializeToString(svg));\r\n        });\r\n    };\n\n    var _this = undefined;\r\n    var parseColor$1 = function (value) { return color.parse(Parser.create(value).parseComponentValue()); };\r\n    var html2canvas = function (element, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return renderElement(element, options);\r\n    };\r\n    if (typeof window !== 'undefined') {\r\n        CacheStorage.setContext(window);\r\n    }\r\n    var renderElement = function (element, opts) { return __awaiter(_this, void 0, void 0, function () {\r\n        var ownerDocument, defaultView, instanceName, _a, width, height, left, top, defaultResourceOptions, resourceOptions, defaultOptions, options, windowBounds, documentCloner, clonedElement, container, documentBackgroundColor, bodyBackgroundColor, bgColor, defaultBackgroundColor, backgroundColor, renderOptions, canvas, renderer, root, renderer;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    ownerDocument = element.ownerDocument;\r\n                    if (!ownerDocument) {\r\n                        throw new Error(\"Element is not attached to a Document\");\r\n                    }\r\n                    defaultView = ownerDocument.defaultView;\r\n                    if (!defaultView) {\r\n                        throw new Error(\"Document is not attached to a Window\");\r\n                    }\r\n                    instanceName = (Math.round(Math.random() * 1000) + Date.now()).toString(16);\r\n                    _a = isBodyElement(element) || isHTMLElement(element) ? parseDocumentSize(ownerDocument) : parseBounds(element), width = _a.width, height = _a.height, left = _a.left, top = _a.top;\r\n                    defaultResourceOptions = {\r\n                        allowTaint: false,\r\n                        imageTimeout: 15000,\r\n                        proxy: undefined,\r\n                        useCORS: false\r\n                    };\r\n                    resourceOptions = __assign({}, defaultResourceOptions, opts);\r\n                    defaultOptions = {\r\n                        backgroundColor: '#ffffff',\r\n                        cache: opts.cache ? opts.cache : CacheStorage.create(instanceName, resourceOptions),\r\n                        logging: true,\r\n                        removeContainer: true,\r\n                        foreignObjectRendering: false,\r\n                        scale: defaultView.devicePixelRatio || 1,\r\n                        windowWidth: defaultView.innerWidth,\r\n                        windowHeight: defaultView.innerHeight,\r\n                        scrollX: defaultView.pageXOffset,\r\n                        scrollY: defaultView.pageYOffset,\r\n                        x: left,\r\n                        y: top,\r\n                        width: Math.ceil(width),\r\n                        height: Math.ceil(height),\r\n                        id: instanceName\r\n                    };\r\n                    options = __assign({}, defaultOptions, resourceOptions, opts);\r\n                    windowBounds = new Bounds(options.scrollX, options.scrollY, options.windowWidth, options.windowHeight);\r\n                    Logger.create({ id: instanceName, enabled: options.logging });\r\n                    Logger.getInstance(instanceName).debug(\"Starting document clone\");\r\n                    documentCloner = new DocumentCloner(element, {\r\n                        id: instanceName,\r\n                        onclone: options.onclone,\r\n                        ignoreElements: options.ignoreElements,\r\n                        inlineImages: options.foreignObjectRendering,\r\n                        copyStyles: options.foreignObjectRendering\r\n                    });\r\n                    clonedElement = documentCloner.clonedReferenceElement;\r\n                    if (!clonedElement) {\r\n                        return [2 /*return*/, Promise.reject(\"Unable to find element in cloned iframe\")];\r\n                    }\r\n                    return [4 /*yield*/, documentCloner.toIFrame(ownerDocument, windowBounds)];\r\n                case 1:\r\n                    container = _b.sent();\r\n                    documentBackgroundColor = ownerDocument.documentElement\r\n                        ? parseColor$1(getComputedStyle(ownerDocument.documentElement).backgroundColor)\r\n                        : COLORS.TRANSPARENT;\r\n                    bodyBackgroundColor = ownerDocument.body\r\n                        ? parseColor$1(getComputedStyle(ownerDocument.body).backgroundColor)\r\n                        : COLORS.TRANSPARENT;\r\n                    bgColor = opts.backgroundColor;\r\n                    defaultBackgroundColor = typeof bgColor === 'string' ? parseColor$1(bgColor) : bgColor === null ? COLORS.TRANSPARENT : 0xffffffff;\r\n                    backgroundColor = element === ownerDocument.documentElement\r\n                        ? isTransparent(documentBackgroundColor)\r\n                            ? isTransparent(bodyBackgroundColor)\r\n                                ? defaultBackgroundColor\r\n                                : bodyBackgroundColor\r\n                            : documentBackgroundColor\r\n                        : defaultBackgroundColor;\r\n                    renderOptions = {\r\n                        id: instanceName,\r\n                        cache: options.cache,\r\n                        canvas: options.canvas,\r\n                        backgroundColor: backgroundColor,\r\n                        scale: options.scale,\r\n                        x: options.x,\r\n                        y: options.y,\r\n                        scrollX: options.scrollX,\r\n                        scrollY: options.scrollY,\r\n                        width: options.width,\r\n                        height: options.height,\r\n                        windowWidth: options.windowWidth,\r\n                        windowHeight: options.windowHeight\r\n                    };\r\n                    if (!options.foreignObjectRendering) return [3 /*break*/, 3];\r\n                    Logger.getInstance(instanceName).debug(\"Document cloned, using foreign object rendering\");\r\n                    renderer = new ForeignObjectRenderer(renderOptions);\r\n                    return [4 /*yield*/, renderer.render(clonedElement)];\r\n                case 2:\r\n                    canvas = _b.sent();\r\n                    return [3 /*break*/, 5];\r\n                case 3:\r\n                    Logger.getInstance(instanceName).debug(\"Document cloned, using computed rendering\");\r\n                    CacheStorage.attachInstance(options.cache);\r\n                    Logger.getInstance(instanceName).debug(\"Starting DOM parsing\");\r\n                    root = parseTree(clonedElement);\r\n                    CacheStorage.detachInstance();\r\n                    if (backgroundColor === root.styles.backgroundColor) {\r\n                        root.styles.backgroundColor = COLORS.TRANSPARENT;\r\n                    }\r\n                    Logger.getInstance(instanceName).debug(\"Starting renderer\");\r\n                    renderer = new CanvasRenderer(renderOptions);\r\n                    return [4 /*yield*/, renderer.render(root)];\r\n                case 4:\r\n                    canvas = _b.sent();\r\n                    _b.label = 5;\r\n                case 5:\r\n                    if (options.removeContainer === true) {\r\n                        if (!DocumentCloner.destroy(container)) {\r\n                            Logger.getInstance(instanceName).error(\"Cannot detach cloned iframe as it is not in the DOM anymore\");\r\n                        }\r\n                    }\r\n                    Logger.getInstance(instanceName).debug(\"Finished rendering\");\r\n                    Logger.destroy(instanceName);\r\n                    CacheStorage.destroy(instanceName);\r\n                    return [2 /*return*/, canvas];\r\n            }\r\n        });\r\n    }); };\n\n    return html2canvas;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaHRtbDJjYW52YXMvZGlzdC9odG1sMmNhbnZhcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzPzZkYmUiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvbGF5b3V0L2JvdW5kcy50cz9hYWYwIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvY3NzLWxpbmUtYnJlYWsvc3JjL1V0aWwudHM/ODRhMCIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2Nzcy1saW5lLWJyZWFrL3NyYy9UcmllLnRzP2JiZjAiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9jc3MtbGluZS1icmVhay9zcmMvbGluZWJyZWFrLXRyaWUudHM/NDI1MCIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2Nzcy1saW5lLWJyZWFrL3NyYy9MaW5lQnJlYWsudHM/YWY3MCIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nzcy9zeW50YXgvdG9rZW5pemVyLnRzPzQ3YmEiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3Mvc3ludGF4L3BhcnNlci50cz80MTk3Iiwid2VicGFjazovLy8uLi9zcmMvY3NzL3R5cGVzL2xlbmd0aC50cz83MjNlIiwid2VicGFjazovLy8uLi9zcmMvY3NzL3R5cGVzL2xlbmd0aC1wZXJjZW50YWdlLnRzPzAzODEiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvdHlwZXMvYW5nbGUudHM/ODE3ZSIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nzcy90eXBlcy9jb2xvci50cz8yZDc4Iiwid2VicGFjazovLy8uLi9zcmMvY3NzL0lQcm9wZXJ0eURlc2NyaXB0b3IudHM/MzM1ZCIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9iYWNrZ3JvdW5kLWNsaXAudHM/MDNhNiIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9iYWNrZ3JvdW5kLWNvbG9yLnRzP2EyZjQiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvdHlwZXMvZnVuY3Rpb25zL2dyYWRpZW50LnRzP2NmM2EiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvdHlwZXMvZnVuY3Rpb25zL2xpbmVhci1ncmFkaWVudC50cz8wODg1Iiwid2VicGFjazovLy8uLi9zcmMvY3NzL3R5cGVzL2Z1bmN0aW9ucy8tcHJlZml4LWxpbmVhci1ncmFkaWVudC50cz8zNGU2Iiwid2VicGFjazovLy8uLi9zcmMvY29yZS9mZWF0dXJlcy50cz9kNGNkIiwid2VicGFjazovLy8uLi9zcmMvY29yZS9sb2dnZXIudHM/NzE4MiIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvcmUvY2FjaGUtc3RvcmFnZS50cz9iNzZkIiwid2VicGFjazovLy8uLi9zcmMvY3NzL3R5cGVzL2Z1bmN0aW9ucy8td2Via2l0LWdyYWRpZW50LnRzPzQ4ODQiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvdHlwZXMvZnVuY3Rpb25zL3JhZGlhbC1ncmFkaWVudC50cz8wYzY3Iiwid2VicGFjazovLy8uLi9zcmMvY3NzL3R5cGVzL2Z1bmN0aW9ucy8tcHJlZml4LXJhZGlhbC1ncmFkaWVudC50cz80Zjk5Iiwid2VicGFjazovLy8uLi9zcmMvY3NzL3R5cGVzL2ltYWdlLnRzP2QyYWQiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvYmFja2dyb3VuZC1pbWFnZS50cz9hNDQxIiwid2VicGFjazovLy8uLi9zcmMvY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL2JhY2tncm91bmQtb3JpZ2luLnRzPzRjNWMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvYmFja2dyb3VuZC1wb3NpdGlvbi50cz9iM2I2Iiwid2VicGFjazovLy8uLi9zcmMvY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL2JhY2tncm91bmQtcmVwZWF0LnRzP2ZmZWIiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvYmFja2dyb3VuZC1zaXplLnRzPzhkNjYiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvYm9yZGVyLWNvbG9yLnRzP2NkYWQiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvYm9yZGVyLXJhZGl1cy50cz8wZTdjIiwid2VicGFjazovLy8uLi9zcmMvY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL2JvcmRlci1zdHlsZS50cz9jZTBjIiwid2VicGFjazovLy8uLi9zcmMvY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL2JvcmRlci13aWR0aC50cz9hNDA4Iiwid2VicGFjazovLy8uLi9zcmMvY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL2NvbG9yLnRzP2FjNzQiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvZGlzcGxheS50cz84NDI1Iiwid2VicGFjazovLy8uLi9zcmMvY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL2Zsb2F0LnRzPzg0ZjUiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvbGV0dGVyLXNwYWNpbmcudHM/MGJlNiIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9saW5lLWJyZWFrLnRzP2E1ODgiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvbGluZS1oZWlnaHQudHM/NzllOSIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9saXN0LXN0eWxlLWltYWdlLnRzPzhjMmUiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvbGlzdC1zdHlsZS1wb3NpdGlvbi50cz84ZDI3Iiwid2VicGFjazovLy8uLi9zcmMvY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL2xpc3Qtc3R5bGUtdHlwZS50cz82N2Q5Iiwid2VicGFjazovLy8uLi9zcmMvY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL21hcmdpbi50cz84MjhlIiwid2VicGFjazovLy8uLi9zcmMvY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL292ZXJmbG93LnRzP2JjMzIiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvb3ZlcmZsb3ctd3JhcC50cz9lOWRjIiwid2VicGFjazovLy8uLi9zcmMvY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL3BhZGRpbmcudHM/NWM1YyIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy90ZXh0LWFsaWduLnRzPzZhYzIiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvcG9zaXRpb24udHM/MGM3MiIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy90ZXh0LXNoYWRvdy50cz85MmEzIiwid2VicGFjazovLy8uLi9zcmMvY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL3RleHQtdHJhbnNmb3JtLnRzP2Y0NDUiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvdHJhbnNmb3JtLnRzPzFkODMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvdHJhbnNmb3JtLW9yaWdpbi50cz8wOGNkIiwid2VicGFjazovLy8uLi9zcmMvY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL3Zpc2liaWxpdHkudHM/YTZkZCIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy93b3JkLWJyZWFrLnRzPzU4ZjkiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvei1pbmRleC50cz9kNGM3Iiwid2VicGFjazovLy8uLi9zcmMvY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL29wYWNpdHkudHM/NDg4MCIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy90ZXh0LWRlY29yYXRpb24tY29sb3IudHM/NDM0OSIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy90ZXh0LWRlY29yYXRpb24tbGluZS50cz8zOTM0Iiwid2VicGFjazovLy8uLi9zcmMvY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL2ZvbnQtZmFtaWx5LnRzPzlhMmIiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvZm9udC1zaXplLnRzPzVhNjkiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvZm9udC13ZWlnaHQudHM/YTUwZCIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9mb250LXZhcmlhbnQudHM/YzU0NiIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9mb250LXN0eWxlLnRzPzUwMjciLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb3JlL2JpdHdpc2UudHM/NTFhNCIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9jb250ZW50LnRzP2RlNDQiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvY291bnRlci1pbmNyZW1lbnQudHM/ODUzZiIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9jb3VudGVyLXJlc2V0LnRzPzQ4ZjYiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvcXVvdGVzLnRzPzljNTAiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvYm94LXNoYWRvdy50cz8xMzE1Iiwid2VicGFjazovLy8uLi9zcmMvY3NzL2luZGV4LnRzPzM1YWMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kb20vZWxlbWVudC1jb250YWluZXIudHM/OTAwNCIsIndlYnBhY2s6Ly8vLi4vc3JjL2Nzcy9sYXlvdXQvdGV4dC50cz80YTYzIiwid2VicGFjazovLy8uLi9zcmMvZG9tL3RleHQtY29udGFpbmVyLnRzP2MyZjYiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kb20vcmVwbGFjZWQtZWxlbWVudHMvaW1hZ2UtZWxlbWVudC1jb250YWluZXIudHM/NWM5MSIsIndlYnBhY2s6Ly8vLi4vc3JjL2RvbS9yZXBsYWNlZC1lbGVtZW50cy9jYW52YXMtZWxlbWVudC1jb250YWluZXIudHM/ZGFiMyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RvbS9yZXBsYWNlZC1lbGVtZW50cy9zdmctZWxlbWVudC1jb250YWluZXIudHM/ODVmMiIsIndlYnBhY2s6Ly8vLi4vc3JjL2RvbS9lbGVtZW50cy9saS1lbGVtZW50LWNvbnRhaW5lci50cz9hZjhkIiwid2VicGFjazovLy8uLi9zcmMvZG9tL2VsZW1lbnRzL29sLWVsZW1lbnQtY29udGFpbmVyLnRzPzY2YmEiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kb20vcmVwbGFjZWQtZWxlbWVudHMvaW5wdXQtZWxlbWVudC1jb250YWluZXIudHM/MjA4NyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RvbS9lbGVtZW50cy9zZWxlY3QtZWxlbWVudC1jb250YWluZXIudHM/ODZjZSIsIndlYnBhY2s6Ly8vLi4vc3JjL2RvbS9lbGVtZW50cy90ZXh0YXJlYS1lbGVtZW50LWNvbnRhaW5lci50cz8xMmNmIiwid2VicGFjazovLy8uLi9zcmMvZG9tL3JlcGxhY2VkLWVsZW1lbnRzL2lmcmFtZS1lbGVtZW50LWNvbnRhaW5lci50cz82MTIyIiwid2VicGFjazovLy8uLi9zcmMvZG9tL25vZGUtcGFyc2VyLnRzP2UzYjQiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jc3MvdHlwZXMvZnVuY3Rpb25zL2NvdW50ZXIudHM/ZjkzMCIsIndlYnBhY2s6Ly8vLi4vc3JjL2RvbS9kb2N1bWVudC1jbG9uZXIudHM/NmFhZCIsIndlYnBhY2s6Ly8vLi4vc3JjL3JlbmRlci9wYXRoLnRzPzlkNzUiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZW5kZXIvdmVjdG9yLnRzP2E0MjEiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZW5kZXIvYmV6aWVyLWN1cnZlLnRzPzkwYzgiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZW5kZXIvYm91bmQtY3VydmVzLnRzP2QxMTUiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZW5kZXIvZWZmZWN0cy50cz9jZmZjIiwid2VicGFjazovLy8uLi9zcmMvcmVuZGVyL3N0YWNraW5nLWNvbnRleHQudHM/ZmJkZSIsIndlYnBhY2s6Ly8vLi4vc3JjL3JlbmRlci9ib3JkZXIudHM/ZWRmMSIsIndlYnBhY2s6Ly8vLi4vc3JjL3JlbmRlci9ib3gtc2l6aW5nLnRzP2I5YzgiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZW5kZXIvYmFja2dyb3VuZC50cz8wY2ZlIiwid2VicGFjazovLy8uLi9zcmMvY29yZS91dGlsLnRzPzNiNTMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZW5kZXIvZm9udC1tZXRyaWNzLnRzP2Q3YjAiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZW5kZXIvY2FudmFzL2NhbnZhcy1yZW5kZXJlci50cz82OGFhIiwid2VicGFjazovLy8uLi9zcmMvcmVuZGVyL2NhbnZhcy9mb3JlaWdub2JqZWN0LXJlbmRlcmVyLnRzPzlkZWMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9pbmRleC50cz82ZjM3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEJvdW5kcyB7XG4gICAgcmVhZG9ubHkgdG9wOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgbGVmdDogbnVtYmVyO1xuICAgIHJlYWRvbmx5IHdpZHRoOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgaGVpZ2h0OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgdzogbnVtYmVyLCBoOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5sZWZ0ID0geDtcbiAgICAgICAgdGhpcy50b3AgPSB5O1xuICAgICAgICB0aGlzLndpZHRoID0gdztcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoO1xuICAgIH1cblxuICAgIGFkZCh4OiBudW1iZXIsIHk6IG51bWJlciwgdzogbnVtYmVyLCBoOiBudW1iZXIpOiBCb3VuZHMge1xuICAgICAgICByZXR1cm4gbmV3IEJvdW5kcyh0aGlzLmxlZnQgKyB4LCB0aGlzLnRvcCArIHksIHRoaXMud2lkdGggKyB3LCB0aGlzLmhlaWdodCArIGgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tQ2xpZW50UmVjdChjbGllbnRSZWN0OiBDbGllbnRSZWN0KTogQm91bmRzIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCb3VuZHMoY2xpZW50UmVjdC5sZWZ0LCBjbGllbnRSZWN0LnRvcCwgY2xpZW50UmVjdC53aWR0aCwgY2xpZW50UmVjdC5oZWlnaHQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IHBhcnNlQm91bmRzID0gKG5vZGU6IEVsZW1lbnQpOiBCb3VuZHMgPT4ge1xuICAgIHJldHVybiBCb3VuZHMuZnJvbUNsaWVudFJlY3Qobm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG59O1xuXG5leHBvcnQgY29uc3QgcGFyc2VEb2N1bWVudFNpemUgPSAoZG9jdW1lbnQ6IERvY3VtZW50KTogQm91bmRzID0+IHtcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICBjb25zdCBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgICBpZiAoIWJvZHkgfHwgIWRvY3VtZW50RWxlbWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBnZXQgZG9jdW1lbnQgc2l6ZWApO1xuICAgIH1cbiAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KFxuICAgICAgICBNYXRoLm1heChib2R5LnNjcm9sbFdpZHRoLCBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGgpLFxuICAgICAgICBNYXRoLm1heChib2R5Lm9mZnNldFdpZHRoLCBkb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGgpLFxuICAgICAgICBNYXRoLm1heChib2R5LmNsaWVudFdpZHRoLCBkb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpXG4gICAgKTtcblxuICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KFxuICAgICAgICBNYXRoLm1heChib2R5LnNjcm9sbEhlaWdodCwgZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCksXG4gICAgICAgIE1hdGgubWF4KGJvZHkub2Zmc2V0SGVpZ2h0LCBkb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0KSxcbiAgICAgICAgTWF0aC5tYXgoYm9keS5jbGllbnRIZWlnaHQsIGRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpXG4gICAgKTtcblxuICAgIHJldHVybiBuZXcgQm91bmRzKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xufTtcbiIsImV4cG9ydCBjb25zdCB0b0NvZGVQb2ludHMgPSAoc3RyOiBzdHJpbmcpOiBudW1iZXJbXSA9PiB7XG4gICAgY29uc3QgY29kZVBvaW50cyA9IFtdO1xuICAgIGxldCBpID0gMDtcbiAgICBjb25zdCBsZW5ndGggPSBzdHIubGVuZ3RoO1xuICAgIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gc3RyLmNoYXJDb2RlQXQoaSsrKTtcbiAgICAgICAgaWYgKHZhbHVlID49IDB4ZDgwMCAmJiB2YWx1ZSA8PSAweGRiZmYgJiYgaSA8IGxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgZXh0cmEgPSBzdHIuY2hhckNvZGVBdChpKyspO1xuICAgICAgICAgICAgaWYgKChleHRyYSAmIDB4ZmMwMCkgPT09IDB4ZGMwMCkge1xuICAgICAgICAgICAgICAgIGNvZGVQb2ludHMucHVzaCgoKHZhbHVlICYgMHgzZmYpIDw8IDEwKSArIChleHRyYSAmIDB4M2ZmKSArIDB4MTAwMDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnRzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvZGVQb2ludHMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvZGVQb2ludHM7XG59O1xuXG5leHBvcnQgY29uc3QgZnJvbUNvZGVQb2ludCA9ICguLi5jb2RlUG9pbnRzOiBudW1iZXJbXSk6IHN0cmluZyA9PiB7XG4gICAgaWYgKFN0cmluZy5mcm9tQ29kZVBvaW50KSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludCguLi5jb2RlUG9pbnRzKTtcbiAgICB9XG5cbiAgICBjb25zdCBsZW5ndGggPSBjb2RlUG9pbnRzLmxlbmd0aDtcbiAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgY29uc3QgY29kZVVuaXRzID0gW107XG5cbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgbGV0IGNvZGVQb2ludCA9IGNvZGVQb2ludHNbaW5kZXhdO1xuICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4ZmZmZikge1xuICAgICAgICAgICAgY29kZVVuaXRzLnB1c2goY29kZVBvaW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwO1xuICAgICAgICAgICAgY29kZVVuaXRzLnB1c2goKGNvZGVQb2ludCA+PiAxMCkgKyAweGQ4MDAsIGNvZGVQb2ludCAlIDB4NDAwICsgMHhkYzAwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggKyAxID09PSBsZW5ndGggfHwgY29kZVVuaXRzLmxlbmd0aCA+IDB4NDAwMCkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoLi4uY29kZVVuaXRzKTtcbiAgICAgICAgICAgIGNvZGVVbml0cy5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5jb25zdCBjaGFycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJztcblxuLy8gVXNlIGEgbG9va3VwIHRhYmxlIHRvIGZpbmQgdGhlIGluZGV4LlxuY29uc3QgbG9va3VwID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gW10gOiBuZXcgVWludDhBcnJheSgyNTYpO1xuZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7XG59XG5cbmV4cG9ydCBjb25zdCBkZWNvZGUgPSAoYmFzZTY0OiBzdHJpbmcpOiBBcnJheUJ1ZmZlciB8IG51bWJlcltdID0+IHtcbiAgICBsZXQgYnVmZmVyTGVuZ3RoID0gYmFzZTY0Lmxlbmd0aCAqIDAuNzUsXG4gICAgICAgIGxlbiA9IGJhc2U2NC5sZW5ndGgsXG4gICAgICAgIGksXG4gICAgICAgIHAgPSAwLFxuICAgICAgICBlbmNvZGVkMSxcbiAgICAgICAgZW5jb2RlZDIsXG4gICAgICAgIGVuY29kZWQzLFxuICAgICAgICBlbmNvZGVkNDtcblxuICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDFdID09PSAnPScpIHtcbiAgICAgICAgYnVmZmVyTGVuZ3RoLS07XG4gICAgICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDJdID09PSAnPScpIHtcbiAgICAgICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYnVmZmVyID1cbiAgICAgICAgdHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNsaWNlICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyBuZXcgQXJyYXlCdWZmZXIoYnVmZmVyTGVuZ3RoKVxuICAgICAgICAgICAgOiBuZXcgQXJyYXkoYnVmZmVyTGVuZ3RoKTtcbiAgICBjb25zdCBieXRlcyA9IEFycmF5LmlzQXJyYXkoYnVmZmVyKSA/IGJ1ZmZlciA6IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgZW5jb2RlZDEgPSBsb29rdXBbYmFzZTY0LmNoYXJDb2RlQXQoaSldO1xuICAgICAgICBlbmNvZGVkMiA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMSldO1xuICAgICAgICBlbmNvZGVkMyA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMildO1xuICAgICAgICBlbmNvZGVkNCA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMyldO1xuXG4gICAgICAgIGJ5dGVzW3ArK10gPSAoZW5jb2RlZDEgPDwgMikgfCAoZW5jb2RlZDIgPj4gNCk7XG4gICAgICAgIGJ5dGVzW3ArK10gPSAoKGVuY29kZWQyICYgMTUpIDw8IDQpIHwgKGVuY29kZWQzID4+IDIpO1xuICAgICAgICBieXRlc1twKytdID0gKChlbmNvZGVkMyAmIDMpIDw8IDYpIHwgKGVuY29kZWQ0ICYgNjMpO1xuICAgIH1cblxuICAgIHJldHVybiBidWZmZXI7XG59O1xuXG5leHBvcnQgY29uc3QgcG9seVVpbnQxNkFycmF5ID0gKGJ1ZmZlcjogbnVtYmVyW10pOiBudW1iZXJbXSA9PiB7XG4gICAgY29uc3QgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aDtcbiAgICBjb25zdCBieXRlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgYnl0ZXMucHVzaCgoYnVmZmVyW2kgKyAxXSA8PCA4KSB8IGJ1ZmZlcltpXSk7XG4gICAgfVxuICAgIHJldHVybiBieXRlcztcbn07XG5cbmV4cG9ydCBjb25zdCBwb2x5VWludDMyQXJyYXkgPSAoYnVmZmVyOiBudW1iZXJbXSk6IG51bWJlcltdID0+IHtcbiAgICBjb25zdCBsZW5ndGggPSBidWZmZXIubGVuZ3RoO1xuICAgIGNvbnN0IGJ5dGVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gNCkge1xuICAgICAgICBieXRlcy5wdXNoKChidWZmZXJbaSArIDNdIDw8IDI0KSB8IChidWZmZXJbaSArIDJdIDw8IDE2KSB8IChidWZmZXJbaSArIDFdIDw8IDgpIHwgYnVmZmVyW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzO1xufTtcbiIsImltcG9ydCB7ZGVjb2RlLCBwb2x5VWludDE2QXJyYXksIHBvbHlVaW50MzJBcnJheX0gZnJvbSAnLi9VdGlsJztcblxuZXhwb3J0IHR5cGUgaW50ID0gbnVtYmVyO1xuXG4vKiogU2hpZnQgc2l6ZSBmb3IgZ2V0dGluZyB0aGUgaW5kZXgtMiB0YWJsZSBvZmZzZXQuICovXG5leHBvcnQgY29uc3QgVVRSSUUyX1NISUZUXzIgPSA1O1xuXG4vKiogU2hpZnQgc2l6ZSBmb3IgZ2V0dGluZyB0aGUgaW5kZXgtMSB0YWJsZSBvZmZzZXQuICovXG5leHBvcnQgY29uc3QgVVRSSUUyX1NISUZUXzEgPSA2ICsgNTtcblxuLyoqXG4gKiBTaGlmdCBzaXplIGZvciBzaGlmdGluZyBsZWZ0IHRoZSBpbmRleCBhcnJheSB2YWx1ZXMuXG4gKiBJbmNyZWFzZXMgcG9zc2libGUgZGF0YSBzaXplIHdpdGggMTYtYml0IGluZGV4IHZhbHVlcyBhdCB0aGUgY29zdFxuICogb2YgY29tcGFjdGFiaWxpdHkuXG4gKiBUaGlzIHJlcXVpcmVzIGRhdGEgYmxvY2tzIHRvIGJlIGFsaWduZWQgYnkgVVRSSUUyX0RBVEFfR1JBTlVMQVJJVFkuXG4gKi9cbmV4cG9ydCBjb25zdCBVVFJJRTJfSU5ERVhfU0hJRlQgPSAyO1xuXG4vKipcbiAqIERpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvIHNoaWZ0IHNpemVzLFxuICogZm9yIGdldHRpbmcgYW4gaW5kZXgtMSBvZmZzZXQgZnJvbSBhbiBpbmRleC0yIG9mZnNldC4gNj0xMS01XG4gKi9cbmV4cG9ydCBjb25zdCBVVFJJRTJfU0hJRlRfMV8yID0gVVRSSUUyX1NISUZUXzEgLSBVVFJJRTJfU0hJRlRfMjtcblxuLyoqXG4gKiBUaGUgcGFydCBvZiB0aGUgaW5kZXgtMiB0YWJsZSBmb3IgVStEODAwLi5VK0RCRkYgc3RvcmVzIHZhbHVlcyBmb3JcbiAqIGxlYWQgc3Vycm9nYXRlIGNvZGUgX3VuaXRzXyBub3QgY29kZSBfcG9pbnRzXy5cbiAqIFZhbHVlcyBmb3IgbGVhZCBzdXJyb2dhdGUgY29kZSBfcG9pbnRzXyBhcmUgaW5kZXhlZCB3aXRoIHRoaXMgcG9ydGlvbiBvZiB0aGUgdGFibGUuXG4gKiBMZW5ndGg9MzI9MHgyMD0weDQwMD4+VVRSSUUyX1NISUZUXzIuIChUaGVyZSBhcmUgMTAyND0weDQwMCBsZWFkIHN1cnJvZ2F0ZXMuKVxuICovXG5leHBvcnQgY29uc3QgVVRSSUUyX0xTQ1BfSU5ERVhfMl9PRkZTRVQgPSAweDEwMDAwID4+IFVUUklFMl9TSElGVF8yO1xuXG4vKiogTnVtYmVyIG9mIGVudHJpZXMgaW4gYSBkYXRhIGJsb2NrLiAzMj0weDIwICovXG5leHBvcnQgY29uc3QgVVRSSUUyX0RBVEFfQkxPQ0tfTEVOR1RIID0gMSA8PCBVVFJJRTJfU0hJRlRfMjtcbi8qKiBNYXNrIGZvciBnZXR0aW5nIHRoZSBsb3dlciBiaXRzIGZvciB0aGUgaW4tZGF0YS1ibG9jayBvZmZzZXQuICovXG5leHBvcnQgY29uc3QgVVRSSUUyX0RBVEFfTUFTSyA9IFVUUklFMl9EQVRBX0JMT0NLX0xFTkdUSCAtIDE7XG5cbmV4cG9ydCBjb25zdCBVVFJJRTJfTFNDUF9JTkRFWF8yX0xFTkdUSCA9IDB4NDAwID4+IFVUUklFMl9TSElGVF8yO1xuLyoqIENvdW50IHRoZSBsZW5ndGhzIG9mIGJvdGggQk1QIHBpZWNlcy4gMjA4MD0weDgyMCAqL1xuZXhwb3J0IGNvbnN0IFVUUklFMl9JTkRFWF8yX0JNUF9MRU5HVEggPSBVVFJJRTJfTFNDUF9JTkRFWF8yX09GRlNFVCArIFVUUklFMl9MU0NQX0lOREVYXzJfTEVOR1RIO1xuLyoqXG4gKiBUaGUgMi1ieXRlIFVURi04IHZlcnNpb24gb2YgdGhlIGluZGV4LTIgdGFibGUgZm9sbG93cyBhdCBvZmZzZXQgMjA4MD0weDgyMC5cbiAqIExlbmd0aCAzMj0weDIwIGZvciBsZWFkIGJ5dGVzIEMwLi5ERiwgcmVnYXJkbGVzcyBvZiBVVFJJRTJfU0hJRlRfMi5cbiAqL1xuZXhwb3J0IGNvbnN0IFVUUklFMl9VVEY4XzJCX0lOREVYXzJfT0ZGU0VUID0gVVRSSUUyX0lOREVYXzJfQk1QX0xFTkdUSDtcbmV4cG9ydCBjb25zdCBVVFJJRTJfVVRGOF8yQl9JTkRFWF8yX0xFTkdUSCA9IDB4ODAwID4+IDY7IC8qIFUrMDgwMCBpcyB0aGUgZmlyc3QgY29kZSBwb2ludCBhZnRlciAyLWJ5dGUgVVRGLTggKi9cbi8qKlxuICogVGhlIGluZGV4LTEgdGFibGUsIG9ubHkgdXNlZCBmb3Igc3VwcGxlbWVudGFyeSBjb2RlIHBvaW50cywgYXQgb2Zmc2V0IDIxMTI9MHg4NDAuXG4gKiBWYXJpYWJsZSBsZW5ndGgsIGZvciBjb2RlIHBvaW50cyB1cCB0byBoaWdoU3RhcnQsIHdoZXJlIHRoZSBsYXN0IHNpbmdsZS12YWx1ZSByYW5nZSBzdGFydHMuXG4gKiBNYXhpbXVtIGxlbmd0aCA1MTI9MHgyMDA9MHgxMDAwMDA+PlVUUklFMl9TSElGVF8xLlxuICogKEZvciAweDEwMDAwMCBzdXBwbGVtZW50YXJ5IGNvZGUgcG9pbnRzIFUrMTAwMDAuLlUrMTBmZmZmLilcbiAqXG4gKiBUaGUgcGFydCBvZiB0aGUgaW5kZXgtMiB0YWJsZSBmb3Igc3VwcGxlbWVudGFyeSBjb2RlIHBvaW50cyBzdGFydHNcbiAqIGFmdGVyIHRoaXMgaW5kZXgtMSB0YWJsZS5cbiAqXG4gKiBCb3RoIHRoZSBpbmRleC0xIHRhYmxlIGFuZCB0aGUgZm9sbG93aW5nIHBhcnQgb2YgdGhlIGluZGV4LTIgdGFibGVcbiAqIGFyZSBvbWl0dGVkIGNvbXBsZXRlbHkgaWYgdGhlcmUgaXMgb25seSBCTVAgZGF0YS5cbiAqL1xuZXhwb3J0IGNvbnN0IFVUUklFMl9JTkRFWF8xX09GRlNFVCA9IFVUUklFMl9VVEY4XzJCX0lOREVYXzJfT0ZGU0VUICsgVVRSSUUyX1VURjhfMkJfSU5ERVhfMl9MRU5HVEg7XG5cbi8qKlxuICogTnVtYmVyIG9mIGluZGV4LTEgZW50cmllcyBmb3IgdGhlIEJNUC4gMzI9MHgyMFxuICogVGhpcyBwYXJ0IG9mIHRoZSBpbmRleC0xIHRhYmxlIGlzIG9taXR0ZWQgZnJvbSB0aGUgc2VyaWFsaXplZCBmb3JtLlxuICovXG5leHBvcnQgY29uc3QgVVRSSUUyX09NSVRURURfQk1QX0lOREVYXzFfTEVOR1RIID0gMHgxMDAwMCA+PiBVVFJJRTJfU0hJRlRfMTtcblxuLyoqIE51bWJlciBvZiBlbnRyaWVzIGluIGFuIGluZGV4LTIgYmxvY2suIDY0PTB4NDAgKi9cbmV4cG9ydCBjb25zdCBVVFJJRTJfSU5ERVhfMl9CTE9DS19MRU5HVEggPSAxIDw8IFVUUklFMl9TSElGVF8xXzI7XG4vKiogTWFzayBmb3IgZ2V0dGluZyB0aGUgbG93ZXIgYml0cyBmb3IgdGhlIGluLWluZGV4LTItYmxvY2sgb2Zmc2V0LiAqL1xuZXhwb3J0IGNvbnN0IFVUUklFMl9JTkRFWF8yX01BU0sgPSBVVFJJRTJfSU5ERVhfMl9CTE9DS19MRU5HVEggLSAxO1xuXG5jb25zdCBzbGljZTE2ID0gKHZpZXc6IG51bWJlcltdIHwgVWludDE2QXJyYXksIHN0YXJ0OiBudW1iZXIsIGVuZD86IG51bWJlcikgPT4ge1xuICAgIGlmICh2aWV3LnNsaWNlKSB7XG4gICAgICAgIHJldHVybiB2aWV3LnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVWludDE2QXJyYXkoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodmlldywgc3RhcnQsIGVuZCkpXG59O1xuXG5jb25zdCBzbGljZTMyID0gKHZpZXc6IG51bWJlcltdIHwgVWludDMyQXJyYXksIHN0YXJ0OiBudW1iZXIsIGVuZD86IG51bWJlcikgPT4ge1xuICAgIGlmICh2aWV3LnNsaWNlKSB7XG4gICAgICAgIHJldHVybiB2aWV3LnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVWludDMyQXJyYXkoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodmlldywgc3RhcnQsIGVuZCkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVRyaWVGcm9tQmFzZTY0ID0gKGJhc2U2NDogc3RyaW5nKTogVHJpZSA9PiB7XG4gICAgY29uc3QgYnVmZmVyID0gZGVjb2RlKGJhc2U2NCk7XG4gICAgY29uc3QgdmlldzMyID0gQXJyYXkuaXNBcnJheShidWZmZXIpID8gcG9seVVpbnQzMkFycmF5KGJ1ZmZlcikgOiBuZXcgVWludDMyQXJyYXkoYnVmZmVyKTtcbiAgICBjb25zdCB2aWV3MTYgPSBBcnJheS5pc0FycmF5KGJ1ZmZlcikgPyBwb2x5VWludDE2QXJyYXkoYnVmZmVyKSA6IG5ldyBVaW50MTZBcnJheShidWZmZXIpO1xuICAgIGNvbnN0IGhlYWRlckxlbmd0aCA9IDI0O1xuXG4gICAgY29uc3QgaW5kZXggPSBzbGljZTE2KHZpZXcxNiwgaGVhZGVyTGVuZ3RoIC8gMiwgdmlldzMyWzRdIC8gMik7XG4gICAgY29uc3QgZGF0YSA9XG4gICAgICAgIHZpZXczMls1XSA9PT0gMlxuICAgICAgICAgICAgPyBzbGljZTE2KHZpZXcxNiwgKGhlYWRlckxlbmd0aCArIHZpZXczMls0XSkgLyAyKVxuICAgICAgICAgICAgOiBzbGljZTMyKHZpZXczMiwgTWF0aC5jZWlsKChoZWFkZXJMZW5ndGggKyB2aWV3MzJbNF0pIC8gNCkpO1xuXG4gICAgcmV0dXJuIG5ldyBUcmllKHZpZXczMlswXSwgdmlldzMyWzFdLCB2aWV3MzJbMl0sIHZpZXczMlszXSwgaW5kZXgsIGRhdGEpO1xufTtcblxuZXhwb3J0IGNsYXNzIFRyaWUge1xuICAgIGluaXRpYWxWYWx1ZTogaW50O1xuICAgIGVycm9yVmFsdWU6IGludDtcbiAgICBoaWdoU3RhcnQ6IGludDtcbiAgICBoaWdoVmFsdWVJbmRleDogaW50O1xuICAgIGluZGV4OiBVaW50MTZBcnJheSB8IG51bWJlcltdO1xuICAgIGRhdGE6IFVpbnQzMkFycmF5IHwgVWludDE2QXJyYXkgfCBudW1iZXJbXTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBpbml0aWFsVmFsdWU6IGludCxcbiAgICAgICAgZXJyb3JWYWx1ZTogaW50LFxuICAgICAgICBoaWdoU3RhcnQ6IGludCxcbiAgICAgICAgaGlnaFZhbHVlSW5kZXg6IGludCxcbiAgICAgICAgaW5kZXg6IFVpbnQxNkFycmF5IHwgbnVtYmVyW10sXG4gICAgICAgIGRhdGE6IFVpbnQzMkFycmF5IHwgVWludDE2QXJyYXkgfCBudW1iZXJbXVxuICAgICkge1xuICAgICAgICB0aGlzLmluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgICAgICAgdGhpcy5lcnJvclZhbHVlID0gZXJyb3JWYWx1ZTtcbiAgICAgICAgdGhpcy5oaWdoU3RhcnQgPSBoaWdoU3RhcnQ7XG4gICAgICAgIHRoaXMuaGlnaFZhbHVlSW5kZXggPSBoaWdoVmFsdWVJbmRleDtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmFsdWUgZm9yIGEgY29kZSBwb2ludCBhcyBzdG9yZWQgaW4gdGhlIFRyaWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29kZVBvaW50IHRoZSBjb2RlIHBvaW50XG4gICAgICogQHJldHVybiB0aGUgdmFsdWVcbiAgICAgKi9cbiAgICBnZXQoY29kZVBvaW50OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBsZXQgaXg7XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPj0gMCkge1xuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8IDB4MGQ4MDAgfHwgKGNvZGVQb2ludCA+IDB4MGRiZmYgJiYgY29kZVBvaW50IDw9IDB4MGZmZmYpKSB7XG4gICAgICAgICAgICAgICAgLy8gT3JkaW5hcnkgQk1QIGNvZGUgcG9pbnQsIGV4Y2x1ZGluZyBsZWFkaW5nIHN1cnJvZ2F0ZXMuXG4gICAgICAgICAgICAgICAgLy8gQk1QIHVzZXMgYSBzaW5nbGUgbGV2ZWwgbG9va3VwLiAgQk1QIGluZGV4IHN0YXJ0cyBhdCBvZmZzZXQgMCBpbiB0aGUgVHJpZTIgaW5kZXguXG4gICAgICAgICAgICAgICAgLy8gMTYgYml0IGRhdGEgaXMgc3RvcmVkIGluIHRoZSBpbmRleCBhcnJheSBpdHNlbGYuXG4gICAgICAgICAgICAgICAgaXggPSB0aGlzLmluZGV4W2NvZGVQb2ludCA+PiBVVFJJRTJfU0hJRlRfMl07XG4gICAgICAgICAgICAgICAgaXggPSAoaXggPDwgVVRSSUUyX0lOREVYX1NISUZUKSArIChjb2RlUG9pbnQgJiBVVFJJRTJfREFUQV9NQVNLKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhW2l4XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8PSAweGZmZmYpIHtcbiAgICAgICAgICAgICAgICAvLyBMZWFkIFN1cnJvZ2F0ZSBDb2RlIFBvaW50LiAgQSBTZXBhcmF0ZSBpbmRleCBzZWN0aW9uIGlzIHN0b3JlZCBmb3JcbiAgICAgICAgICAgICAgICAvLyBsZWFkIHN1cnJvZ2F0ZSBjb2RlIHVuaXRzIGFuZCBjb2RlIHBvaW50cy5cbiAgICAgICAgICAgICAgICAvLyAgIFRoZSBtYWluIGluZGV4IGhhcyB0aGUgY29kZSB1bml0IGRhdGEuXG4gICAgICAgICAgICAgICAgLy8gICBGb3IgdGhpcyBmdW5jdGlvbiwgd2UgbmVlZCB0aGUgY29kZSBwb2ludCBkYXRhLlxuICAgICAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgZXhwcmVzc2lvbiBjb3VsZCBiZSByZWZhY3RvcmVkIGZvciBzbGlnaHRseSBpbXByb3ZlZCBlZmZpY2llbmN5LCBidXRcbiAgICAgICAgICAgICAgICAvLyAgICAgICBzdXJyb2dhdGUgY29kZSBwb2ludHMgd2lsbCBiZSBzbyByYXJlIGluIHByYWN0aWNlIHRoYXQgaXQncyBub3Qgd29ydGggaXQuXG4gICAgICAgICAgICAgICAgaXggPSB0aGlzLmluZGV4W1VUUklFMl9MU0NQX0lOREVYXzJfT0ZGU0VUICsgKChjb2RlUG9pbnQgLSAweGQ4MDApID4+IFVUUklFMl9TSElGVF8yKV07XG4gICAgICAgICAgICAgICAgaXggPSAoaXggPDwgVVRSSUUyX0lOREVYX1NISUZUKSArIChjb2RlUG9pbnQgJiBVVFJJRTJfREFUQV9NQVNLKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhW2l4XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8IHRoaXMuaGlnaFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgLy8gU3VwcGxlbWVudGFsIGNvZGUgcG9pbnQsIHVzZSB0d28tbGV2ZWwgbG9va3VwLlxuICAgICAgICAgICAgICAgIGl4ID0gVVRSSUUyX0lOREVYXzFfT0ZGU0VUIC0gVVRSSUUyX09NSVRURURfQk1QX0lOREVYXzFfTEVOR1RIICsgKGNvZGVQb2ludCA+PiBVVFJJRTJfU0hJRlRfMSk7XG4gICAgICAgICAgICAgICAgaXggPSB0aGlzLmluZGV4W2l4XTtcbiAgICAgICAgICAgICAgICBpeCArPSAoY29kZVBvaW50ID4+IFVUUklFMl9TSElGVF8yKSAmIFVUUklFMl9JTkRFWF8yX01BU0s7XG4gICAgICAgICAgICAgICAgaXggPSB0aGlzLmluZGV4W2l4XTtcbiAgICAgICAgICAgICAgICBpeCA9IChpeCA8PCBVVFJJRTJfSU5ERVhfU0hJRlQpICsgKGNvZGVQb2ludCAmIFVUUklFMl9EQVRBX01BU0spO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbaXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8PSAweDEwZmZmZikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbdGhpcy5oaWdoVmFsdWVJbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGYWxsIHRocm91Z2guICBUaGUgY29kZSBwb2ludCBpcyBvdXRzaWRlIG9mIHRoZSBsZWdhbCByYW5nZSBvZiAwLi4weDEwZmZmZi5cbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JWYWx1ZTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgYmFzZTY0ID1cbiAgICAnS3dBQUFBQUFBQUFBQ0E0QUlEb0FBUEFmQUFBQ0FBQUFBQUFJQUJBQUdBQkFBRWdBVUFCWUFGNEFaZ0JlQUdZQVlBQm9BSEFBZUFCZUFHWUFmQUNFQUlBQWlBQ1FBSmdBb0FDb0FLMEF0UUM5QU1VQVhnQm1BRjRBWmdCZUFHWUF6UURWQUY0QVpnRFJBTmtBM2dEbUFPd0E5QUQ4QUFRQkRBRVVBUm9CSWdHQUFJZ0FKd0V2QVRjQlB3RkZBVTBCVEFGVUFWd0JaQUZzQVhNQmV3R0RBVEFBaXdHVEFac0JvZ0drQWF3QnRBRzhBY0lCeWdIU0Fkb0I0QUhvQWZBQitBSCtBUVlDRGdJV0F2NEJIZ0ltQWk0Q05nSStBa1VDVFFKVEFsc0NZd0pyQW5FQ2VRS0JBazBDaVFLUkFwa0NvUUtvQXJBQ3VBTEFBc1FDekFJd0FOUUMzQUxrQWpBQTdBTDBBdndDQVFNSkF4QURHQU13QUNBREpnTXVBellEUGdPQUFFWURTZ05TQTFJRFVnTmFBMW9EWUFOaUEySURnQUNBQUdvRGdBQnlBM1lEZmdPQUFJUURnQUNLQTVJRG1nT0FBSUFBb2dPcUE0QUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFLOER0d09BQUlBQXZ3UEhBODhEMXdQZkF5QUQ1d1BzQS9RRC9BT0FBSUFBQkFRTUJCSUVnQUFXQkI0RUpnUXVCRE1FSUFNN0JFRUVYZ0JKQkNBRFVRUlpCR0VFYVFRd0FEQUFjUVErQVhrRWdRU0pCSkVFZ0FDWUJJQUFvQVNvQks4RXR3UXdBTDhFeFFTQUFJQUFnQUNBQUlBQWdBQ2dBTTBFWGdCZUFGNEFYZ0JlQUY0QVhnQmVBTlVFWGdEWkJPRUVYZ0RwQlBFRStRUUJCUWtGRVFVWkJTRUZLUVV4QlRVRlBRVkZCVXdGVkFWY0JWNEFZd1ZlQUdzRmN3VjdCWU1GaXdXU0JWNEFtZ1dnQmFjRlhnQmVBRjRBWGdCZUFLc0ZYZ0N5QmJFRnVnVzdCY0lGd2dYSUJjSUZ3Z1hRQmRRRjNBWGtCZXNGOHdYN0JRTUdDd1lUQmhzR0l3WXJCak1HT3daZUFEOEdSd1pOQmw0QVZBWmJCbDRBWGdCZUFGNEFYZ0JlQUY0QVhnQmVBRjRBWGdCZUFHTUdYZ0JxQm5FR1hnQmVBRjRBWGdCZUFGNEFYZ0JlQUY0QVhnQjVCb0FHNHdTR0JvNEdrd2FBQUlBREhnUjVBRjRBWGdCZUFKc0dnQUJHQTRBQW93YXJCck1Hc3dhZ0FMc0d3d2JMQmpBQTB3YmFCdG9HM1FiYUJ0b0cyZ2JhQnRvRzJnYmxCdXNHOHdiN0JnTUhDd2NUQnhzSEN3Y2pCeXNITUFjMUJ6VUhPZ2RDQjlvR1NnZFNCMW9IWUFmYUJsb0hhQWZhQmxJSDJnYmFCdG9HMmdiYUJ0b0cyZ2JhQmpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhiUWRlQUY0QU5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWQxQjMwSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQjRNSDJnYUtCNjhFZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSThIbHdkZUFKOEhwd2VBQUlBQXJ3ZTNCMTRBWGdDL0I4VUh5Z2N3QU5BSDJBZmdCNEFBNkFmd0J6NEIrQWNBQ0Z3QkNBZ1BDQmNJb2dFWUFSOElKd2lBQUM4SU53Zy9DQ0FEUndoUENGY0lYd2huQ0VvREdnU0FBSUFBZ0FCdkNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJaEFpTENJNElNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2d3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCNTRJTlFjMUI2SUkyZ2FxQ0xJSXVnaUFBSUFBdmdqR0NJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUF5d2lIQVlBQTB3aUFBTmtJM1FqbENPMEk5QWo4Q0lBQWdBQ0FBQUlKQ2drU0NSb0pJZ2tuQ1RZSEx3azNDWllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lBQUlBQUFBRkFBWGdCZUFHQUFjQUJlQUh3QVFBQ1FBS0FBclFDOUFKNEFYZ0JlQUUwQTNnQlJBTjRBN0FEOEFNd0JHZ0VBQUtjQk53RUZBVXdCWEFGNFFraENtRUtuQXJjQ2dBSEhBc0FCejRMQUFjQUJ3QUhBQWQrQzZBQm9BRytDLzRMQUFjQUJ3QUhBQWMrREY0TUFBY0FCNTRNM2d3ZURWNE5uZzNlRGFBQm9BR2dBYUFCb0FHZ0FhQUJvQUdnQWFBQm9BR2dBYUFCb0FHZ0FhQUJvQUdnQWFBQm9BRWVEcUFCVmc2V0RxQUJvUTZnQWFBQm9BSFhEdmNPTncvM0R2Y085dzczRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRG5jUEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUI3Y1BQd2xHQ1U0Sk1BQ0FBSUFBZ0FCV0NWNEpZUW1BQUdrSmNBbDRDWHdKZ0Frd0FEQUFNQUF3QUlnSmdBQ0xDWk1KZ0FDWkNaOEpvd21yQ1lBQXN3a3dBRjRBWGdCOEFJQUF1d2tBQk1NSnlRbUFBTTRKZ0FEVkNUQUFNQUF3QURBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQXF3WVdCTmtJTUFBd0FEQUFNQURkQ2VBSjZBbnVDUjRFOWdrd0FQNEpCUW9OQ2pBQU1BQ0FBQlVLMHdpQUFCMEtKQW9zQ2pRS2dBQXdBRHdLUXdxQUFFc0t2UW1kQ1ZNS1d3b3dBREFBZ0FDQUFMY0VNQUNBQUdNS2dBQnJDakFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBZUJEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QUlrRVBRRnpDbm9LaVFTQ0Nvb0trQXFKQkpnS29BcWtDb2tFR0FHc0NyUUt2QXJCQ2pBQU1BREpDdEVLRlFIWkN1RUsvZ0hwQ3ZFS01BQXdBREFBTUFDQUFJd0UrUW93QUlBQVB3RUJDekFBTUFBd0FEQUFNQUNBQUFrTEVRc3dBSUFBUHdFWkN5RUxnQUFPQ0NrTE1BQXhDemtMTUFBd0FEQUFNQUF3QURBQVhnQmVBRUVMTUFBd0FEQUFNQUF3QURBQU1BQXdBRWtMVFF0VkM0QUFYQXRrQzRBQWlRa3dBREFBTUFBd0FEQUFNQUF3QURBQWJBdHhDM2tMZ0F1RkM0c0xNQUF3QUpNTGx3dWZDekFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFwd3N3QURBQU1BQ0FBSUFBZ0FDdkM0QUFnQUNBQUlBQWdBQ0FBTGNMTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUF2d3VBQU1jTGdBQ0FBSUFBZ0FDQUFJQUF5Z3VBQUlBQWdBQ0FBSUFBMFFzd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFOa0xnQUNBQUlBQTRBc3dBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDSkNSNEU2QXN3QURBQWh3SHdDNEFBK0FzQURBZ01FQXd3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUNBQUlBQUdBd2REQ1VNTUFBd0FDME1OUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUXcxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVIUFF3d0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURVSE5RYzFCelVITlFjMUJ6VUhOUWMyQnpBQU1BQTVERFVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFkRkREQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQWdBQ0FBSUFBVFF4U0RGb01NQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FGNEFYZ0JlQUY0QVhnQmVBRjRBWWd4ZUFHb01YZ0J4REhrTWZ3eGVBSVVNWGdCZUFJME1NQUF3QURBQU1BQXdBRjRBWGdDVkRKME1NQUF3QURBQU1BQmVBRjRBcFF4ZUFLc01zd3k3REY0QXdneTlETW9NWGdCZUFGNEFYZ0JlQUY0QVhnQmVBRjRBWGdEUkROa01lUUJxQ2VBTTNBeDhBT1lNN0F6MERQZ01YZ0JlQUY0QVhnQmVBRjRBWGdCZUFGNEFYZ0JlQUY0QVhnQmVBRjRBWGdDZ0FBQU5vQUFIRFE0TkZnMHdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUFlRFNZTk1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QUlBQWdBQ0FBSUFBZ0FDQUFDNE5NQUJlQUY0QU5nMHdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBRDROUmcxT0RWWU5YZzFtRFRBQWJRMHdBREFBTUFBd0FEQUFNQUF3QURBQTJnYmFCdG9HMmdiYUJ0b0cyZ2JhQm5VTmVnM0NCWUFOd2dXRkRkb0dqQTNhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYVVEWndOcEEyb0Rkb0cyZ2F3RGJjTnZ3M0hEZG9HMmdiUERkWU4zQTNmRGVZTjJnYnNEZk1OMmdiYUJ2b04vZzNhQmdZT0RnN2FCbDRBWGdCZUFCWU9YZ0JlQUNVRzJnWWVEbDRBSkE1ZUFDd08ydzNhQnRvR01RNDVEdG9HMmdiYUJ0b0dRUTdhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnWkpEalVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCMUVPMmdZMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWRaRGpVSE5RYzFCelVITlFjMUIyRU9OUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhhQTQxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCM0FPMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdZMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCMkVPMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdaSkR0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJra09lQTZnQUtBQW9BQXdBREFBTUFBd0FLQUFvQUNnQUtBQW9BQ2dBS0FBZ0E0d0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUQvL3dRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUEwQUF3QUJBQUVBQWdBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBS0FCTUFGd0FlQUJzQUdnQWVBQmNBRmdBU0FCNEFHd0FZQUE4QUdBQWNBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBR0FBWUFCNEFIZ0FlQUJNQUhnQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUZnQWJBQklBSGdBZUFCNEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCWUFEUUFSQUI0QUJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUFFQUFVQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFrQUZnQWFBQnNBR3dBYkFCNEFIUUFkQUI0QVR3QVhBQjRBRFFBZUFCNEFHZ0FiQUU4QVR3QU9BRkFBSFFBZEFCMEFUd0JQQUJjQVR3QlBBRThBRmdCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCMEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBQjRBSGdBZUFCNEFVQUJRQUZBQVVBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQWVBQjRBSGdBZUFGQUFUd0JBQUU4QVR3QlBBRUFBVHdCUUFGQUFUd0JRQUI0QUhnQWVBQjRBSGdBZUFCMEFIUUFkQUIwQUhnQWRBQjRBRGdCUUFGQUFVQUJRQUZBQUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUI0QVVBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBSkFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFrQUNRQUpBQWtBQ1FBSkFBa0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQWVBQjRBSGdBZUFGQUFIZ0FlQUI0QUt3QXJBRkFBVUFCUUFGQUFHQUJRQUNzQUt3QXJBQ3NBSGdBZUFGQUFIZ0JRQUZBQVVBQXJBRkFBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBQkFBRUFBUUFCQUFFQUFRQUJBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBVUFBZUFCNEFIZ0FlQUI0QUhnQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FZQUEwQUt3QXJBQjRBSGdBYkFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFEUUFFQUI0QUJBQUVBQjRBQkFBRUFCTUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFLd0FyQUNzQUt3QXJBRllBVmdCV0FCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUdnQWFBQm9BR0FBWUFCNEFIZ0FFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUV3QUVBQ3NBRXdBVEFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUJMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUJvQUdRQVpBQjRBVUFCUUFBUUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQk1BVUFBRUFBUUFCQUFFQUFRQUJBQUVBQjRBSGdBRUFBUUFCQUFFQUFRQUJBQlFBRkFBQkFBRUFCNEFCQUFFQUFRQUJBQlFBRkFBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCUUFGQUFVQUFlQUI0QVVBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FlQUZBQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBVUFCUUFCNEFIZ0FZQUJNQVVBQXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFGQUFCQUFFQUFRQUJBQUVBRkFBQkFBRUFBUUFVQUFFQUFRQUJBQUVBQVFBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBckFDc0FIZ0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFlQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUJRQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQU5BQTBBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBZUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQUt3QXJBQ3NBVUFCUUFGQUFVQUFyQUNzQUJBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUt3QXJBQVFBQkFBckFDc0FCQUFFQUFRQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQXJBQ3NBS3dBckFGQUFVQUFyQUZBQVVBQlFBQVFBQkFBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JRQUZBQUdnQWFBRkFBVUFCUUFGQUFVQUJNQUI0QUd3QlFBQjRBS3dBckFDc0FCQUFFQUFRQUt3QlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBRkFBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFBckFGQUFVQUFyQUZBQVVBQXJBQ3NBQkFBckFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBckFBUUFCQUFyQUNzQUJBQUVBQVFBS3dBckFDc0FCQUFyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQUt3QlFBQ3NBS3dBckFDc0FLd0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QUVBQVFBVUFCUUFGQUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQUVBQVFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUFyQUZBQVVBQlFBRkFBVUFBckFDc0FCQUJRQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQUVBQ3NBQkFBRUFBUUFLd0FyQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUFRQUJBQXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBZUFCc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFBUUFCQUFFQUFRQUJBQUVBQ3NBQkFBRUFBUUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBS3dBckFBUUFCQUFyQUNzQUJBQUVBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQVFBQkFBckFDc0FLd0FyQUZBQVVBQXJBRkFBVUFCUUFBUUFCQUFyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QWVBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QUVBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dCUUFGQUFVQUFyQUZBQVVBQlFBRkFBS3dBckFDc0FVQUJRQUNzQVVBQXJBRkFBVUFBckFDc0FLd0JRQUZBQUt3QXJBQ3NBVUFCUUFGQUFLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FFQUFRQUJBQUVBQVFBS3dBckFDc0FCQUFFQUFRQUt3QUVBQVFBQkFBRUFDc0FLd0JRQUNzQUt3QXJBQ3NBS3dBckFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUZBQVVBQlFBQjRBSGdBZUFCNEFIZ0FlQUJzQUhnQXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFFQUNzQUJBQUVBQVFBQkFBckFDc0FLd0FyQUNzQUt3QXJBQVFBQkFBckFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dCUUFGQUFCQUFFQUNzQUt3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUI0QVVBQUVBQVFBQkFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFDc0FLd0FFQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQUVBQ3NBQkFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFGQUFLd0JRQUZBQUJBQUVBQ3NBS3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFDc0FVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFFQUNzQUJBQUVBQVFBQkFCUUFCNEFLd0FyQUNzQUt3QlFBRkFBVUFBRUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUNzQUt3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQm9BVUFCUUFGQUFVQUJRQUZBQUt3QXJBQVFBQkFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FFQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUFFQUFRQUt3QUVBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQVFBQkFBZUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFBcUFGd0FYQUFxQUNvQUtnQXFBQ29BS2dBcUFDc0FLd0FyQUNzQUd3QmNBRndBWEFCY0FGd0FYQUJjQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FlQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQURRQU5BQ3NBS3dBckFDc0FLd0JjQUZ3QUt3QmNBQ3NBS3dCY0FGd0FLd0JjQUNzQUt3QmNBQ3NBS3dBckFDc0FLd0FyQUZ3QVhBQmNBRndBS3dCY0FGd0FYQUJjQUZ3QVhBQmNBQ3NBWEFCY0FGd0FLd0JjQUNzQVhBQXJBQ3NBWEFCY0FDc0FYQUJjQUZ3QVhBQXFBRndBWEFBcUFDb0FLZ0FxQUNvQUtnQXJBQ29BS2dCY0FDc0FLd0JjQUZ3QVhBQmNBRndBS3dCY0FDc0FLZ0FxQUNvQUtnQXFBQ29BS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLd0FyQUZ3QVhBQmNBRndBVUFBT0FBNEFEZ0FPQUI0QURnQU9BQWtBRGdBT0FBMEFDUUFUQUJNQUV3QVRBQk1BQ1FBZUFCTUFIZ0FlQUI0QUJBQUVBQjRBSGdBZUFCNEFIZ0FlQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQU5BQVFBSGdBRUFCNEFCQUFXQUJFQUZnQVJBQVFBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQU5BQVFBQkFBRUFBUUFCQUFOQUFRQUJBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FEUUFOQUI0QUhnQWVBQjRBSGdBZUFBUUFIZ0FlQUI0QUhnQWVBQjRBS3dBZUFCNEFEZ0FPQUEwQURnQWVBQjRBSGdBZUFCNEFDUUFKQUNzQUt3QXJBQ3NBS3dCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFGd0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FOQUEwQUhnQWVBQjRBSGdCY0FGd0FYQUJjQUZ3QVhBQXFBQ29BS2dBcUFGd0FYQUJjQUZ3QUtnQXFBQ29BWEFBcUFDb0FLZ0JjQUZ3QUtnQXFBQ29BS2dBcUFDb0FLZ0JjQUZ3QVhBQXFBQ29BS2dBcUFGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BWEFBcUFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLZ0FxQUNvQUtnQXFBQ29BVUFCUUFGQUFVQUJRQUZBQUt3QlFBQ3NBS3dBckFDc0FLd0JRQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQWVBRkFBVUFCUUFGQUFXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQXJBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBS3dCUUFGQUFVQUJRQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FFQUFRQUJBQWVBQTBBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FOQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBZUFCNEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBMEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCWUFFUUFyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBRFFBTkFBMEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFCQUFFQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBMEFEUUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBQ3NBQkFBRUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BRFFBTkFCVUFYQUFOQUI0QURRQWJBRndBS2dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQjRBSGdBVEFCTUFEUUFOQUE0QUhnQVRBQk1BSGdBRUFBUUFCQUFKQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQlFBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUt3QXJBQ3NBS3dBZUFDc0FLd0FyQUJNQUV3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBQ3NBS3dCY0FGd0FYQUJjQUZ3QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FDc0FLd0FyQUNzQVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QUt3QXJBQ3NBS3dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JjQUNzQUt3QXJBQ29BS2dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFDc0FLd0FlQUI0QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBckFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FyQUNzQUJBQkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBQ3NBS3dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQ3NBS3dBckFDc0FLZ0FxQUNvQUtnQXFBQ29BS2dCY0FDb0FLZ0FxQUNvQUtnQXFBQ3NBS3dBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFBUUFCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FEUUFOQUI0QURRQU5BQTBBRFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDc0FLd0FyQUFRQUJBQUVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQVVBQlFBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FIZ0FlQUI0QUhnQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUNzQUt3QU5BQTBBRFFBTkFBMEFTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QlFBRkFBVUFCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQU5BQTBBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUhnQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFGQUFVQUJRQUZBQUJBQlFBRkFBVUFCUUFBUUFCQUFFQUZBQVVBQUVBQVFBQkFBckFDc0FLd0FyQUNzQUt3QUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUt3QUVBQVFBQkFBRUFBUUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBS3dCUUFDc0FVQUFyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUZBQUhnQWVBQjRBVUFCUUFGQUFLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUZBQVVBQlFBRkFBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFDc0FVQUJRQUZBQUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUE0QUhnQXJBQTBBRFFBTkFBMEFEUUFOQUEwQUNRQU5BQTBBRFFBSUFBUUFDd0FFQUFRQURRQUpBQTBBRFFBTUFCMEFIUUFlQUJjQUZ3QVdBQmNBRndBWEFCWUFGd0FkQUIwQUhnQWVBQlFBRkFBVUFBMEFBUUFCQUFRQUJBQUVBQVFBQkFBSkFCb0FHZ0FhQUJvQUdnQWFBQm9BR2dBZUFCY0FGd0FkQUJVQUZRQWVBQjRBSGdBZUFCNEFIZ0FZQUJZQUVRQVZBQlVBRlFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FOQUI0QURRQU5BQTBBRFFBZUFBMEFEUUFOQUFjQUhnQWVBQjRBSGdBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFVQUJRQUNzQUt3QlBBRkFBVUFCUUFGQUFVQUFlQUI0QUhnQVdBQkVBVHdCUUFFOEFUd0JQQUU4QVVBQlFBRkFBVUFCUUFCNEFIZ0FlQUJZQUVRQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUd3QWJBQnNBR3dBYkFCc0FHd0FhQUJzQUd3QWJBQnNBR3dBYkFCc0FHd0FiQUJzQUd3QWJBQnNBR3dBYUFCc0FHd0FiQUJzQUdnQWJBQnNBR2dBYkFCc0FHd0FiQUJzQUd3QWJBQnNBR3dBYkFCc0FHd0FiQUJzQUd3QWJBQnNBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUI0QUhnQlFBQm9BSGdBZEFCNEFVQUFlQUJvQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QVR3QWVBRkFBR3dBZUFCNEFVQUJRQUZBQVVBQlFBQjRBSGdBZUFCMEFIUUFlQUZBQUhnQlFBQjRBVUFBZUFGQUFUd0JRQUZBQUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUZBQVVBQlFBRkFBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBQjRBVUFCUUFGQUFVQUJQQUU4QVVBQlFBRkFBVUFCUUFFOEFVQUJRQUU4QVVBQlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUUFGQUFVQUJRQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUhnQWVBRkFBVUFCUUFGQUFUd0FlQUI0QUt3QXJBQ3NBS3dBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FkQUI0QUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSFFBZUFCMEFIUUFlQUI0QUhnQWRBQjBBSGdBZUFCMEFIZ0FlQUI0QUhRQWVBQjBBR3dBYkFCNEFIUUFlQUI0QUhnQWVBQjBBSGdBZUFCMEFIUUFkQUIwQUhnQWVBQjBBSGdBZEFCNEFIUUFkQUIwQUhRQWRBQjBBSGdBZEFCNEFIZ0FlQUI0QUhnQWRBQjBBSFFBZEFCNEFIZ0FlQUI0QUhRQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSFFBZUFCNEFIZ0FkQUI0QUhnQWVBQjRBSGdBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhRQWRBQjRBSGdBZEFCMEFIUUFkQUI0QUhnQWRBQjBBSGdBZUFCMEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FkQUIwQUhnQWVBQjBBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUIwQUhnQWVBQjRBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjBBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUJRQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FXQUJFQUZnQVJBQjRBSGdBZUFCNEFIZ0FlQUIwQUhnQWVBQjRBSGdBZUFCNEFIZ0FsQUNVQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUZnQVJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDVUFKUUFsQUNVQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUJQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlFBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCNEFIZ0FlQUI0QUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSGdBZUFCMEFIUUFkQUIwQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjBBSGdBZEFCMEFIUUFkQUIwQUhRQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjBBSGdBZUFCMEFIUUFlQUI0QUhnQWVBQjBBSFFBZUFCNEFIZ0FlQUIwQUhRQWRBQjRBSGdBZEFCNEFIZ0FkQUIwQUhRQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhRQWRBQjBBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSlFBbEFDVUFKUUFlQUIwQUhRQWVBQjRBSFFBZUFCNEFIZ0FlQUIwQUhRQWVBQjRBSGdBZUFDVUFKUUFkQUIwQUpRQWVBQ1VBSlFBbEFDQUFKUUFsQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUhnQWVBQjRBSGdBZEFCNEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhRQWRBQjRBSFFBZEFCMEFIZ0FkQUNVQUhRQWRBQjRBSFFBZEFCNEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBbEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUIwQUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFIUUFkQUIwQUhRQWxBQjRBSlFBbEFDVUFIUUFsQUNVQUhRQWRBQjBBSlFBbEFCMEFIUUFsQUIwQUhRQWxBQ1VBSlFBZUFCMEFIZ0FlQUI0QUhnQWRBQjBBSlFBZEFCMEFIUUFkQUIwQUhRQWxBQ1VBSlFBbEFDVUFIUUFsQUNVQUlBQWxBQjBBSFFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSGdBZUFCNEFKUUFsQUNBQUlBQWdBQ0FBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjRBSGdBZUFCY0FGd0FYQUJjQUZ3QVhBQjRBRXdBVEFDVUFIZ0FlQUI0QUZnQVJBQllBRVFBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBRmdBUkFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBV0FCRUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFGZ0FSQUJZQUVRQVdBQkVBRmdBUkFCWUFFUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUJZQUVRQVdBQkVBRmdBUkFCWUFFUUFXQUJFQUZnQVJBQllBRVFBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBRmdBUkFCWUFFUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUJZQUVRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIUUFkQUIwQUhRQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBSGdBZUFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQUVBQVFBQkFBZUFCNEFLd0FyQUNzQUt3QXJBQk1BRFFBTkFBMEFVQUFUQUEwQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUFOQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBRUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFDc0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQTBBRFFBTkFBMEFEUUFOQUEwQURRQWVBQTBBRmdBTkFCNEFIZ0FYQUJjQUhnQWVBQmNBRndBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBRFFBTkFBMEFEUUFUQUZBQURRQU5BQjRBRFFBTkFCNEFIZ0FlQUI0QUhnQU1BQXdBRFFBTkFBMEFIZ0FOQUEwQUZnQU5BQTBBRFFBTkFBMEFEUUFOQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ3NBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQXJBQ3NBS3dBckFBMEFFUUFSQUNVQUpRQkhBRmNBVndBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBRmdBUkFDVUFKUUFXQUJFQUZnQVJBQllBRVFBV0FCRUFGUUFXQUJFQUVRQWxBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQVFBQkFBRUFBUUFCQUFFQUNVQVZ3QlhBRmNBVndBMkFDVUFKUUJYQUZjQVZ3QkhBRWNBSlFBbEFDVUFLd0JSQUZjQVVRQlhBRkVBVndCUkFGY0FVUUJYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGRUFWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlJBRmNBVVFCWEFGRUFWd0JYQUZjQVZ3QlhBRmNBVVFCWEFGY0FWd0JYQUZjQVZ3QlJBRkVBS3dBckFBUUFCQUFWQUJVQVJ3QkhBRmNBRlFCUkFGY0FVUUJYQUZFQVZ3QlJBRmNBVVFCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRkVBVndCUkFGY0FVUUJYQUZjQVZ3QlhBRmNBVndCUkFGY0FWd0JYQUZjQVZ3QlhBRkVBVVFCWEFGY0FWd0JYQUJVQVVRQkhBRWNBVndBckFDc0FLd0FyQUNzQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBS3dBckFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0FyQUNVQUpRQlhBRmNBVndCWEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FLd0FyQUNzQUt3QXJBQ1VBSlFBbEFDVUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVRQlJBRkVBVVFCUkFGRUFVUUJSQUZFQVVRQlJBRkVBVVFCUkFGRUFVUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ3NBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUU4QVR3QlBBRThBVHdCUEFFOEFUd0FsQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRWNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUt3QXJBQ3NBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBRFFBVEFBMEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFGQUFCQUFFQUFRQUJBQWVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBSGdCUUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFVQUJRQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQWVBQTBBRFFBTkFBMEFEUUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QVVBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUI0QUhnQWVBQjRBSGdBZUFGQUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFVQUJRQUZBQUJBQlFBRkFBVUFCUUFBUUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFlQUI0QUhnQWVBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBSGdBZUFCb0FIZ0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFEZ0FPQUJNQUV3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQUVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QU5BQTBBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFDc0FLd0FyQUNzQUt3QUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUFlQUI0QUhnQlFBQTRBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQTBBRFFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFDc0FLd0FyQUFRQUhnQWVBQjRBSGdBZUFCNEFEUUFOQUEwQUhnQWVBQjRBSGdBckFGQUFTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQjRBSGdCY0FGd0FYQUJjQUZ3QUtnQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBWEFCY0FGd0FYQUJjQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUFRQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFDc0FIZ0FOQUEwQURRQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FLZ0FxQUNvQVhBQXFBQ29BS2dCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFBcUFGd0FLZ0FxQUNvQVhBQmNBQ29BS2dCY0FGd0FYQUJjQUZ3QUtnQXFBRndBS2dCY0FDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRndBWEFCY0FDb0FLZ0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFBMEFEUUJRQUZBQVVBQUVBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFEUUFFQUFRQUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBS3dBckFDc0FLd0FyQUNzQVZBQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlVBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FLd0FyQUNzQUt3QmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BS3dBckFDc0FLd0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUNVQUpRQlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUpRQWxBQ1VBSlFBbEFDVUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUZZQUJBQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBQjRBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0FyQUZZQVZnQldBRllBVmdBckFGWUFLd0JXQUZZQUt3QldBRllBS3dCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFFUUFXQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBYUFCNEFLd0FyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFHQUFSQUJFQUdBQVlBQk1BRXdBV0FCRUFGQUFyQUNzQUt3QXJBQ3NBS3dBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ1VBSlFBbEFDVUFKUUFXQUJFQUZnQVJBQllBRVFBV0FCRUFGZ0FSQUJZQUVRQWxBQ1VBRmdBUkFDVUFKUUFsQUNVQUpRQWxBQ1VBRVFBbEFCRUFLd0FWQUJVQUV3QVRBQ1VBRmdBUkFCWUFFUUFXQUJFQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNzQUpRQWJBQm9BSlFBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQWNBS3dBVEFDVUFKUUFiQUJvQUpRQWxBQllBRVFBbEFDVUFFUUFsQUJFQUpRQlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQlVBRlFBbEFDVUFKUUFUQUNVQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUJZQUpRQVJBQ1VBSlFBbEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndBV0FDVUFFUUFsQUJZQUVRQVJBQllBRVFBUkFCVUFWd0JSQUZFQVVRQlJBRkVBVVFCUkFGRUFVUUJSQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFFY0FSd0FyQUNzQVZ3QlhBRmNBVndCWEFGY0FLd0FyQUZjQVZ3QlhBRmNBVndCWEFDc0FLd0JYQUZjQVZ3QlhBRmNBVndBckFDc0FWd0JYQUZjQUt3QXJBQ3NBR2dBYkFDVUFKUUFsQUJzQUd3QXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QUVBQVFBQkFBUUFCMEFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FEUUFOQUEwQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUZBQUhnQWVBQjRBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQUt3QXJBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUJBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQVFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBRFFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQTBBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUFyQUNzQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBQ3NBS3dBckFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFBMEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQjRBSGdCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBRFFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUI0QVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFCQUFFQUFRQUt3QUVBQVFBS3dBckFDc0FLd0FyQUFRQUJBQUVBQVFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBQkFBRUFBUUFLd0FyQUNzQUt3QUVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQURRQU5BQTBBRFFBTkFBMEFEUUFOQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQjRBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQjRBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBQTBBRFFBTkFBMEFEUUFOQUJRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FOQUEwQURRQU5BQTBBRFFBTkFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBSGdBZUFCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBMEFEUUFlQUI0QUhnQWVBQjRBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBZUFCNEFIZ0FOQUEwQURRQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FOQUEwQURRQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFlQUE0QVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QUVBRkFBVUFCUUFGQUFEUUFOQUI0QURRQWVBQVFBQkFBRUFCNEFLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVVBQU9BRkFBRFFBTkFBMEFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQU5BQTBBSGdBTkFBMEFIZ0FFQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQUt3QlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBMEFLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBS3dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBVUFCUUFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFyQUNzQUJBQUVBQ3NBS3dBRUFBUUFCQUFyQUNzQVVBQXJBQ3NBS3dBckFDc0FLd0FFQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQUJBQUVBQ3NBS3dBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQlFBRkFBVUFCUUFBMEFEUUFOQUEwQUhnQkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBQ3NBRFFBckFCNEFLd0FyQUFRQUJBQUVBQVFBVUFCUUFCNEFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQU9BQTBBRFFBVEFCTUFIZ0FlQUI0QURRQU5BQTBBRFFBTkFBMEFEUUFOQUEwQURRQU5BQTBBRFFBTkFBMEFVQUJRQUZBQVVBQUVBQVFBS3dBckFBUUFEUUFOQUI0QVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFDc0FLd0FyQUNzQUt3QU9BQTRBRGdBT0FBNEFEZ0FPQUE0QURnQU9BQTRBRGdBT0FDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQXJBQ3NBS3dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXJBQ3NBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FYQUJjQUEwQURRQU5BQ29BU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFGQUFCQUFFQUFRQUJBQU9BQjRBRFFBTkFBMEFEUUFPQUI0QUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBVUFCUUFGQUFVQUFyQUNzQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQTBBRFFBTkFDc0FEZ0FPQUE0QURRQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQUVBRkFBRFFBTkFBMEFEUUFOQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QU9BQk1BVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBRUFDc0FCQUFFQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUJRQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQURRQU5BQTBBRFFBTkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVNBQklBRWdBUXdCREFFTUFVQUJRQUZBQVVBQkRBRkFBVUFCUUFFZ0FRd0JJQUVNQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVNBQkRBRU1BVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCSUFFTUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLd0FyQUNzQUt3QU5BQTBBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUFRQUJBQUVBQVFBQkFBTkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQTBBRFFBTkFCNEFIZ0FlQUI0QUhnQWVBRkFBVUFCUUFGQUFEUUFlQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRWNBUndBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FlQUFRQUJBQU5BQVFBQkFBRUFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUJBQUVBQVFBQkFBRUFCNEFIZ0FlQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBSGdBZUFBUUFCQUFFQUFRQUJBQUVBQVFBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FFQUFRQUJBQUVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUI0QUhnQUVBQVFBQkFBZUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFGQUFVQUFyQUNzQVVBQXJBQ3NBVUFCUUFDc0FLd0JRQUZBQVVBQlFBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0JRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FlQUI0QVVBQlFBRkFBVUFCUUFDc0FVQUFyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFlQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFCNEFIZ0FlQUI0QUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBRUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFCQUFlQUI0QURRQU5BQTBBRFFBZUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBckFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUhnQWVBQjRBSGdBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FLd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUNzQUt3QXJBQ3NBRmdBV0FGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFBckFGQUFLd0FyQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUFyQUZBQUt3QlFBQ3NBS3dBckFDc0FLd0FyQUZBQUt3QXJBQ3NBS3dCUUFDc0FVQUFyQUZBQUt3QlFBRkFBVUFBckFGQUFVQUFyQUZBQUt3QXJBRkFBS3dCUUFDc0FVQUFyQUZBQUt3QlFBQ3NBVUFCUUFDc0FVQUFyQUNzQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFBckFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBSGdBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdBbEFDVUFKUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFlQUNVQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhnQWVBQ1VBSlFBbEFDVUFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNrQUtRQXBBQ2tBS1FBcEFDa0FLUUFwQUNrQUtRQXBBQ2tBS1FBcEFDa0FLUUFwQUNrQUtRQXBBQ2tBS1FBcEFDa0FLUUFsQUNVQUpRQWxBQ1VBSUFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUI0QUhnQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFIZ0FlQUNVQUpRQWxBQ1VBSlFBZUFDVUFKUUFsQUNVQUpRQWdBQ0FBSUFBbEFDVUFJQUFsQUNVQUlBQWdBQ0FBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFJUUFoQUNFQUlRQWhBQ1VBSlFBZ0FDQUFKUUFsQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUlBQWdBQ0FBSUFBbEFDVUFKUUFsQUNBQUpRQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWxBQ1VBSlFBZ0FDVUFKUUFsQUNVQUlBQWdBQ0FBSlFBZ0FDQUFJQUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBZUFDVUFIZ0FsQUI0QUpRQWxBQ1VBSlFBbEFDQUFKUUFsQUNVQUpRQWVBQ1VBSGdBZUFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUhnQWVBQjRBSGdBZUFCNEFIZ0FsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSUFBZ0FDVUFKUUFsQUNVQUlBQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUlBQWxBQ1VBSlFBbEFDQUFJQUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQjRBSGdBZUFCNEFIZ0FlQUNVQUpRQWxBQ1VBSlFBbEFDVUFJQUFnQUNBQUpRQWxBQ1VBSUFBZ0FDQUFJQUFnQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBRndBWEFCY0FGUUFWQUJVQUhnQWVBQjRBSGdBbEFDVUFKUUFnQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFJQUFnQUNBQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUlBQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSUFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBbEFDVUFKUUFsQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUpRQWxBQ1VBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ0FBSUFBZ0FDQUFJQUFsQUNBQUlBQWxBQ1VBSlFBbEFDVUFKUUFnQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUpRQWxBQ1VBSUFBZ0FDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDc0FLd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUJYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQXJBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0EnO1xuIiwiLyogQGZsb3cgKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtjcmVhdGVUcmllRnJvbUJhc2U2NH0gZnJvbSAnLi9UcmllJztcbmltcG9ydCB7YmFzZTY0fSBmcm9tICcuL2xpbmVicmVhay10cmllJztcbmltcG9ydCB7ZnJvbUNvZGVQb2ludCwgdG9Db2RlUG9pbnRzfSBmcm9tICcuL1V0aWwnO1xuXG5leHBvcnQgY29uc3QgTEVUVEVSX05VTUJFUl9NT0RJRklFUiA9IDUwO1xuXG4vLyBOb24tdGFpbG9yYWJsZSBMaW5lIEJyZWFraW5nIENsYXNzZXNcbmNvbnN0IEJLID0gMTsgLy8gIENhdXNlIGEgbGluZSBicmVhayAoYWZ0ZXIpXG5jb25zdCBDUiA9IDI7IC8vICBDYXVzZSBhIGxpbmUgYnJlYWsgKGFmdGVyKSwgZXhjZXB0IGJldHdlZW4gQ1IgYW5kIExGXG5jb25zdCBMRiA9IDM7IC8vICBDYXVzZSBhIGxpbmUgYnJlYWsgKGFmdGVyKVxuY29uc3QgQ00gPSA0OyAvLyAgUHJvaGliaXQgYSBsaW5lIGJyZWFrIGJldHdlZW4gdGhlIGNoYXJhY3RlciBhbmQgdGhlIHByZWNlZGluZyBjaGFyYWN0ZXJcbmNvbnN0IE5MID0gNTsgLy8gIENhdXNlIGEgbGluZSBicmVhayAoYWZ0ZXIpXG5jb25zdCBTRyA9IDY7IC8vICBEbyBub3Qgb2NjdXIgaW4gd2VsbC1mb3JtZWQgdGV4dFxuY29uc3QgV0ogPSA3OyAvLyAgUHJvaGliaXQgbGluZSBicmVha3MgYmVmb3JlIGFuZCBhZnRlclxuY29uc3QgWlcgPSA4OyAvLyAgUHJvdmlkZSBhIGJyZWFrIG9wcG9ydHVuaXR5XG5jb25zdCBHTCA9IDk7IC8vICBQcm9oaWJpdCBsaW5lIGJyZWFrcyBiZWZvcmUgYW5kIGFmdGVyXG5jb25zdCBTUCA9IDEwOyAvLyBFbmFibGUgaW5kaXJlY3QgbGluZSBicmVha3NcbmNvbnN0IFpXSiA9IDExOyAvLyBQcm9oaWJpdCBsaW5lIGJyZWFrcyB3aXRoaW4gam9pbmVyIHNlcXVlbmNlc1xuLy8gQnJlYWsgT3Bwb3J0dW5pdGllc1xuY29uc3QgQjIgPSAxMjsgLy8gIFByb3ZpZGUgYSBsaW5lIGJyZWFrIG9wcG9ydHVuaXR5IGJlZm9yZSBhbmQgYWZ0ZXIgdGhlIGNoYXJhY3RlclxuY29uc3QgQkEgPSAxMzsgLy8gIEdlbmVyYWxseSBwcm92aWRlIGEgbGluZSBicmVhayBvcHBvcnR1bml0eSBhZnRlciB0aGUgY2hhcmFjdGVyXG5jb25zdCBCQiA9IDE0OyAvLyAgR2VuZXJhbGx5IHByb3ZpZGUgYSBsaW5lIGJyZWFrIG9wcG9ydHVuaXR5IGJlZm9yZSB0aGUgY2hhcmFjdGVyXG5jb25zdCBIWSA9IDE1OyAvLyAgUHJvdmlkZSBhIGxpbmUgYnJlYWsgb3Bwb3J0dW5pdHkgYWZ0ZXIgdGhlIGNoYXJhY3RlciwgZXhjZXB0IGluIG51bWVyaWMgY29udGV4dFxuY29uc3QgQ0IgPSAxNjsgLy8gICBQcm92aWRlIGEgbGluZSBicmVhayBvcHBvcnR1bml0eSBjb250aW5nZW50IG9uIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbi8vIENoYXJhY3RlcnMgUHJvaGliaXRpbmcgQ2VydGFpbiBCcmVha3NcbmNvbnN0IENMID0gMTc7IC8vICBQcm9oaWJpdCBsaW5lIGJyZWFrcyBiZWZvcmVcbmNvbnN0IENQID0gMTg7IC8vICBQcm9oaWJpdCBsaW5lIGJyZWFrcyBiZWZvcmVcbmNvbnN0IEVYID0gMTk7IC8vICBQcm9oaWJpdCBsaW5lIGJyZWFrcyBiZWZvcmVcbmNvbnN0IElOID0gMjA7IC8vICBBbGxvdyBvbmx5IGluZGlyZWN0IGxpbmUgYnJlYWtzIGJldHdlZW4gcGFpcnNcbmNvbnN0IE5TID0gMjE7IC8vICBBbGxvdyBvbmx5IGluZGlyZWN0IGxpbmUgYnJlYWtzIGJlZm9yZVxuY29uc3QgT1AgPSAyMjsgLy8gIFByb2hpYml0IGxpbmUgYnJlYWtzIGFmdGVyXG5jb25zdCBRVSA9IDIzOyAvLyAgQWN0IGxpa2UgdGhleSBhcmUgYm90aCBvcGVuaW5nIGFuZCBjbG9zaW5nXG4vLyBOdW1lcmljIENvbnRleHRcbmNvbnN0IElTID0gMjQ7IC8vICBQcmV2ZW50IGJyZWFrcyBhZnRlciBhbnkgYW5kIGJlZm9yZSBudW1lcmljXG5jb25zdCBOVSA9IDI1OyAvLyAgRm9ybSBudW1lcmljIGV4cHJlc3Npb25zIGZvciBsaW5lIGJyZWFraW5nIHB1cnBvc2VzXG5jb25zdCBQTyA9IDI2OyAvLyAgRG8gbm90IGJyZWFrIGZvbGxvd2luZyBhIG51bWVyaWMgZXhwcmVzc2lvblxuY29uc3QgUFIgPSAyNzsgLy8gIERvIG5vdCBicmVhayBpbiBmcm9udCBvZiBhIG51bWVyaWMgZXhwcmVzc2lvblxuY29uc3QgU1kgPSAyODsgLy8gIFByZXZlbnQgYSBicmVhayBiZWZvcmU7IGFuZCBhbGxvdyBhIGJyZWFrIGFmdGVyXG4vLyBPdGhlciBDaGFyYWN0ZXJzXG5jb25zdCBBSSA9IDI5OyAvLyAgQWN0IGxpa2UgQUwgd2hlbiB0aGUgcmVzb2x2ZWRFQVcgaXMgTjsgb3RoZXJ3aXNlOyBhY3QgYXMgSURcbmNvbnN0IEFMID0gMzA7IC8vICBBcmUgYWxwaGFiZXRpYyBjaGFyYWN0ZXJzIG9yIHN5bWJvbHMgdGhhdCBhcmUgdXNlZCB3aXRoIGFscGhhYmV0aWMgY2hhcmFjdGVyc1xuY29uc3QgQ0ogPSAzMTsgLy8gIFRyZWF0IGFzIE5TIG9yIElEIGZvciBzdHJpY3Qgb3Igbm9ybWFsIGJyZWFraW5nLlxuY29uc3QgRUIgPSAzMjsgLy8gIERvIG5vdCBicmVhayBmcm9tIGZvbGxvd2luZyBFbW9qaSBNb2RpZmllclxuY29uc3QgRU0gPSAzMzsgLy8gIERvIG5vdCBicmVhayBmcm9tIHByZWNlZGluZyBFbW9qaSBCYXNlXG5jb25zdCBIMiA9IDM0OyAvLyAgRm9ybSBLb3JlYW4gc3lsbGFibGUgYmxvY2tzXG5jb25zdCBIMyA9IDM1OyAvLyAgRm9ybSBLb3JlYW4gc3lsbGFibGUgYmxvY2tzXG5jb25zdCBITCA9IDM2OyAvLyAgRG8gbm90IGJyZWFrIGFyb3VuZCBhIGZvbGxvd2luZyBoeXBoZW47IG90aGVyd2lzZSBhY3QgYXMgQWxwaGFiZXRpY1xuY29uc3QgSUQgPSAzNzsgLy8gIEJyZWFrIGJlZm9yZSBvciBhZnRlcjsgZXhjZXB0IGluIHNvbWUgbnVtZXJpYyBjb250ZXh0XG5jb25zdCBKTCA9IDM4OyAvLyAgRm9ybSBLb3JlYW4gc3lsbGFibGUgYmxvY2tzXG5jb25zdCBKViA9IDM5OyAvLyAgRm9ybSBLb3JlYW4gc3lsbGFibGUgYmxvY2tzXG5jb25zdCBKVCA9IDQwOyAvLyAgRm9ybSBLb3JlYW4gc3lsbGFibGUgYmxvY2tzXG5jb25zdCBSSSA9IDQxOyAvLyAgS2VlcCBwYWlycyB0b2dldGhlci4gRm9yIHBhaXJzOyBicmVhayBiZWZvcmUgYW5kIGFmdGVyIG90aGVyIGNsYXNzZXNcbmNvbnN0IFNBID0gNDI7IC8vICBQcm92aWRlIGEgbGluZSBicmVhayBvcHBvcnR1bml0eSBjb250aW5nZW50IG9uIGFkZGl0aW9uYWwsIGxhbmd1YWdlLXNwZWNpZmljIGNvbnRleHQgYW5hbHlzaXNcbmNvbnN0IFhYID0gNDM7IC8vICBIYXZlIGFzIHlldCB1bmtub3duIGxpbmUgYnJlYWtpbmcgYmVoYXZpb3Igb3IgdW5hc3NpZ25lZCBjb2RlIHBvc2l0aW9uc1xuXG5leHBvcnQgY29uc3QgY2xhc3Nlczoge1trZXk6IHN0cmluZ106IG51bWJlcn0gPSB7XG4gICAgQkssXG4gICAgQ1IsXG4gICAgTEYsXG4gICAgQ00sXG4gICAgTkwsXG4gICAgU0csXG4gICAgV0osXG4gICAgWlcsXG4gICAgR0wsXG4gICAgU1AsXG4gICAgWldKLFxuICAgIEIyLFxuICAgIEJBLFxuICAgIEJCLFxuICAgIEhZLFxuICAgIENCLFxuICAgIENMLFxuICAgIENQLFxuICAgIEVYLFxuICAgIElOLFxuICAgIE5TLFxuICAgIE9QLFxuICAgIFFVLFxuICAgIElTLFxuICAgIE5VLFxuICAgIFBPLFxuICAgIFBSLFxuICAgIFNZLFxuICAgIEFJLFxuICAgIEFMLFxuICAgIENKLFxuICAgIEVCLFxuICAgIEVNLFxuICAgIEgyLFxuICAgIEgzLFxuICAgIEhMLFxuICAgIElELFxuICAgIEpMLFxuICAgIEpWLFxuICAgIEpULFxuICAgIFJJLFxuICAgIFNBLFxuICAgIFhYLFxufTtcblxuZXhwb3J0IGNvbnN0IEJSRUFLX01BTkRBVE9SWSA9ICchJztcbmV4cG9ydCBjb25zdCBCUkVBS19OT1RfQUxMT1dFRCA9ICfDlyc7XG5leHBvcnQgY29uc3QgQlJFQUtfQUxMT1dFRCA9ICfDtyc7XG5leHBvcnQgY29uc3QgVW5pY29kZVRyaWUgPSBjcmVhdGVUcmllRnJvbUJhc2U2NChiYXNlNjQpO1xuXG5jb25zdCBBTFBIQUJFVElDUyA9IFtBTCwgSExdO1xuY29uc3QgSEFSRF9MSU5FX0JSRUFLUyA9IFtCSywgQ1IsIExGLCBOTF07XG5jb25zdCBTUEFDRSA9IFtTUCwgWlddO1xuY29uc3QgUFJFRklYX1BPU1RGSVggPSBbUFIsIFBPXTtcbmNvbnN0IExJTkVfQlJFQUtTID0gSEFSRF9MSU5FX0JSRUFLUy5jb25jYXQoU1BBQ0UpO1xuY29uc3QgS09SRUFOX1NZTExBQkxFX0JMT0NLID0gW0pMLCBKViwgSlQsIEgyLCBIM107XG5jb25zdCBIWVBIRU4gPSBbSFksIEJBXTtcblxuZXhwb3J0IGNvbnN0IGNvZGVQb2ludHNUb0NoYXJhY3RlckNsYXNzZXMgPSAoXG4gICAgY29kZVBvaW50czogbnVtYmVyW10sXG4gICAgbGluZUJyZWFrOiBzdHJpbmcgPSAnc3RyaWN0J1xuKTogW251bWJlcltdLCBudW1iZXJbXSwgYm9vbGVhbltdXSA9PiB7XG4gICAgY29uc3QgdHlwZXM6IG51bWJlcltdID0gW107XG4gICAgY29uc3QgaW5kaWNpZXM6IG51bWJlcltdID0gW107XG4gICAgY29uc3QgY2F0ZWdvcmllczogYm9vbGVhbltdID0gW107XG4gICAgY29kZVBvaW50cy5mb3JFYWNoKChjb2RlUG9pbnQsIGluZGV4KSA9PiB7XG4gICAgICAgIGxldCBjbGFzc1R5cGUgPSBVbmljb2RlVHJpZS5nZXQoY29kZVBvaW50KTtcbiAgICAgICAgaWYgKGNsYXNzVHlwZSA+IExFVFRFUl9OVU1CRVJfTU9ESUZJRVIpIHtcbiAgICAgICAgICAgIGNhdGVnb3JpZXMucHVzaCh0cnVlKTtcbiAgICAgICAgICAgIGNsYXNzVHlwZSAtPSBMRVRURVJfTlVNQkVSX01PRElGSUVSO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2F0ZWdvcmllcy5wdXNoKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChbJ25vcm1hbCcsICdhdXRvJywgJ2xvb3NlJ10uaW5kZXhPZihsaW5lQnJlYWspICE9PSAtMSkge1xuICAgICAgICAgICAgLy8gVSsyMDEwLCDigJMgVSsyMDEzLCDjgJwgVSszMDFDLCDjgqAgVSszMEEwXG4gICAgICAgICAgICBpZiAoWzB4MjAxMCwgMHgyMDEzLCAweDMwMWMsIDB4MzBhMF0uaW5kZXhPZihjb2RlUG9pbnQpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGluZGljaWVzLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKENCKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbGFzc1R5cGUgPT09IENNIHx8IGNsYXNzVHlwZSA9PT0gWldKKSB7XG4gICAgICAgICAgICAvLyBMQjEwIFRyZWF0IGFueSByZW1haW5pbmcgY29tYmluaW5nIG1hcmsgb3IgWldKIGFzIEFMLlxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaW5kaWNpZXMucHVzaChpbmRleCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2goQUwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBMQjkgRG8gbm90IGJyZWFrIGEgY29tYmluaW5nIGNoYXJhY3RlciBzZXF1ZW5jZTsgdHJlYXQgaXQgYXMgaWYgaXQgaGFzIHRoZSBsaW5lIGJyZWFraW5nIGNsYXNzIG9mXG4gICAgICAgICAgICAvLyB0aGUgYmFzZSBjaGFyYWN0ZXIgaW4gYWxsIG9mIHRoZSBmb2xsb3dpbmcgcnVsZXMuIFRyZWF0IFpXSiBhcyBpZiBpdCB3ZXJlIENNLlxuICAgICAgICAgICAgY29uc3QgcHJldiA9IHR5cGVzW2luZGV4IC0gMV07XG4gICAgICAgICAgICBpZiAoTElORV9CUkVBS1MuaW5kZXhPZihwcmV2KSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpbmRpY2llcy5wdXNoKGluZGljaWVzW2luZGV4IC0gMV0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKHByZXYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5kaWNpZXMucHVzaChpbmRleCk7XG4gICAgICAgICAgICByZXR1cm4gdHlwZXMucHVzaChBTCk7XG4gICAgICAgIH1cblxuICAgICAgICBpbmRpY2llcy5wdXNoKGluZGV4KTtcblxuICAgICAgICBpZiAoY2xhc3NUeXBlID09PSBDSikge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2gobGluZUJyZWFrID09PSAnc3RyaWN0JyA/IE5TIDogSUQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNsYXNzVHlwZSA9PT0gU0EpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKEFMKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjbGFzc1R5cGUgPT09IEFJKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZXMucHVzaChBTCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3Igc3VwcGxlbWVudGFyeSBjaGFyYWN0ZXJzLCBhIHVzZWZ1bCBkZWZhdWx0IGlzIHRvIHRyZWF0IGNoYXJhY3RlcnMgaW4gdGhlIHJhbmdlIDEwMDAwLi4xRkZGRCBhcyBBTFxuICAgICAgICAvLyBhbmQgY2hhcmFjdGVycyBpbiB0aGUgcmFuZ2VzIDIwMDAwLi4yRkZGRCBhbmQgMzAwMDAuLjNGRkZEIGFzIElELCB1bnRpbCB0aGUgaW1wbGVtZW50YXRpb24gY2FuIGJlIHJldmlzZWRcbiAgICAgICAgLy8gdG8gdGFrZSBpbnRvIGFjY291bnQgdGhlIGFjdHVhbCBsaW5lIGJyZWFraW5nIHByb3BlcnRpZXMgZm9yIHRoZXNlIGNoYXJhY3RlcnMuXG4gICAgICAgIGlmIChjbGFzc1R5cGUgPT09IFhYKSB7XG4gICAgICAgICAgICBpZiAoKGNvZGVQb2ludCA+PSAweDIwMDAwICYmIGNvZGVQb2ludCA8PSAweDJmZmZkKSB8fCAoY29kZVBvaW50ID49IDB4MzAwMDAgJiYgY29kZVBvaW50IDw9IDB4M2ZmZmQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2goSUQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXMucHVzaChBTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0eXBlcy5wdXNoKGNsYXNzVHlwZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gW2luZGljaWVzLCB0eXBlcywgY2F0ZWdvcmllc107XG59O1xuXG5jb25zdCBpc0FkamFjZW50V2l0aFNwYWNlSWdub3JlZCA9IChcbiAgICBhOiBudW1iZXJbXSB8IG51bWJlcixcbiAgICBiOiBudW1iZXIsXG4gICAgY3VycmVudEluZGV4OiBudW1iZXIsXG4gICAgY2xhc3NUeXBlczogbnVtYmVyW11cbik6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IGN1cnJlbnQgPSBjbGFzc1R5cGVzW2N1cnJlbnRJbmRleF07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYSkgPyBhLmluZGV4T2YoY3VycmVudCkgIT09IC0xIDogYSA9PT0gY3VycmVudCkge1xuICAgICAgICBsZXQgaSA9IGN1cnJlbnRJbmRleDtcbiAgICAgICAgd2hpbGUgKGkgPD0gY2xhc3NUeXBlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIGxldCBuZXh0ID0gY2xhc3NUeXBlc1tpXTtcblxuICAgICAgICAgICAgaWYgKG5leHQgPT09IGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5leHQgIT09IFNQKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY3VycmVudCA9PT0gU1ApIHtcbiAgICAgICAgbGV0IGkgPSBjdXJyZW50SW5kZXg7XG5cbiAgICAgICAgd2hpbGUgKGkgPiAwKSB7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgICAgICBjb25zdCBwcmV2ID0gY2xhc3NUeXBlc1tpXTtcblxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYSkgPyBhLmluZGV4T2YocHJldikgIT09IC0xIDogYSA9PT0gcHJldikge1xuICAgICAgICAgICAgICAgIGxldCBuID0gY3VycmVudEluZGV4O1xuICAgICAgICAgICAgICAgIHdoaWxlIChuIDw9IGNsYXNzVHlwZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIG4rKztcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5leHQgPSBjbGFzc1R5cGVzW25dO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID09PSBiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSBTUCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcmV2ICE9PSBTUCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbmNvbnN0IHByZXZpb3VzTm9uU3BhY2VDbGFzc1R5cGUgPSAoY3VycmVudEluZGV4OiBudW1iZXIsIGNsYXNzVHlwZXM6IG51bWJlcltdKTogbnVtYmVyID0+IHtcbiAgICBsZXQgaSA9IGN1cnJlbnRJbmRleDtcbiAgICB3aGlsZSAoaSA+PSAwKSB7XG4gICAgICAgIGxldCB0eXBlID0gY2xhc3NUeXBlc1tpXTtcbiAgICAgICAgaWYgKHR5cGUgPT09IFNQKSB7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gMDtcbn07XG5cbmNvbnN0IF9saW5lQnJlYWtBdEluZGV4ID0gKFxuICAgIGNvZGVQb2ludHM6IG51bWJlcltdLFxuICAgIGNsYXNzVHlwZXM6IG51bWJlcltdLFxuICAgIGluZGljaWVzOiBudW1iZXJbXSxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGZvcmJpZGRlbkJyZWFrcz86IGJvb2xlYW5bXVxuKSA9PiB7XG4gICAgaWYgKGluZGljaWVzW2luZGV4XSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgbGV0IGN1cnJlbnRJbmRleCA9IGluZGV4IC0gMTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmb3JiaWRkZW5CcmVha3MpICYmIGZvcmJpZGRlbkJyZWFrc1tjdXJyZW50SW5kZXhdID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICBsZXQgYmVmb3JlSW5kZXggPSBjdXJyZW50SW5kZXggLSAxO1xuICAgIGxldCBhZnRlckluZGV4ID0gY3VycmVudEluZGV4ICsgMTtcbiAgICBsZXQgY3VycmVudCA9IGNsYXNzVHlwZXNbY3VycmVudEluZGV4XTtcblxuICAgIC8vIExCNCBBbHdheXMgYnJlYWsgYWZ0ZXIgaGFyZCBsaW5lIGJyZWFrcy5cbiAgICAvLyBMQjUgVHJlYXQgQ1IgZm9sbG93ZWQgYnkgTEYsIGFzIHdlbGwgYXMgQ1IsIExGLCBhbmQgTkwgYXMgaGFyZCBsaW5lIGJyZWFrcy5cbiAgICBsZXQgYmVmb3JlID0gYmVmb3JlSW5kZXggPj0gMCA/IGNsYXNzVHlwZXNbYmVmb3JlSW5kZXhdIDogMDtcbiAgICBsZXQgbmV4dCA9IGNsYXNzVHlwZXNbYWZ0ZXJJbmRleF07XG5cbiAgICBpZiAoY3VycmVudCA9PT0gQ1IgJiYgbmV4dCA9PT0gTEYpIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgIH1cblxuICAgIGlmIChIQVJEX0xJTkVfQlJFQUtTLmluZGV4T2YoY3VycmVudCkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19NQU5EQVRPUlk7XG4gICAgfVxuXG4gICAgLy8gTEI2IERvIG5vdCBicmVhayBiZWZvcmUgaGFyZCBsaW5lIGJyZWFrcy5cbiAgICBpZiAoSEFSRF9MSU5FX0JSRUFLUy5pbmRleE9mKG5leHQpICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEI3IERvIG5vdCBicmVhayBiZWZvcmUgc3BhY2VzIG9yIHplcm8gd2lkdGggc3BhY2UuXG4gICAgaWYgKFNQQUNFLmluZGV4T2YobmV4dCkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjggQnJlYWsgYmVmb3JlIGFueSBjaGFyYWN0ZXIgZm9sbG93aW5nIGEgemVyby13aWR0aCBzcGFjZSwgZXZlbiBpZiBvbmUgb3IgbW9yZSBzcGFjZXMgaW50ZXJ2ZW5lLlxuICAgIGlmIChwcmV2aW91c05vblNwYWNlQ2xhc3NUeXBlKGN1cnJlbnRJbmRleCwgY2xhc3NUeXBlcykgPT09IFpXKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19BTExPV0VEO1xuICAgIH1cblxuICAgIC8vIExCOGEgRG8gbm90IGJyZWFrIGJldHdlZW4gYSB6ZXJvIHdpZHRoIGpvaW5lciBhbmQgYW4gaWRlb2dyYXBoLCBlbW9qaSBiYXNlIG9yIGVtb2ppIG1vZGlmaWVyLlxuICAgIGlmIChVbmljb2RlVHJpZS5nZXQoY29kZVBvaW50c1tjdXJyZW50SW5kZXhdKSA9PT0gWldKICYmIChuZXh0ID09PSBJRCB8fCBuZXh0ID09PSBFQiB8fCBuZXh0ID09PSBFTSkpIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgIH1cblxuICAgIC8vIExCMTEgRG8gbm90IGJyZWFrIGJlZm9yZSBvciBhZnRlciBXb3JkIGpvaW5lciBhbmQgcmVsYXRlZCBjaGFyYWN0ZXJzLlxuICAgIGlmIChjdXJyZW50ID09PSBXSiB8fCBuZXh0ID09PSBXSikge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIxMiBEbyBub3QgYnJlYWsgYWZ0ZXIgTkJTUCBhbmQgcmVsYXRlZCBjaGFyYWN0ZXJzLlxuICAgIGlmIChjdXJyZW50ID09PSBHTCkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIxMmEgRG8gbm90IGJyZWFrIGJlZm9yZSBOQlNQIGFuZCByZWxhdGVkIGNoYXJhY3RlcnMsIGV4Y2VwdCBhZnRlciBzcGFjZXMgYW5kIGh5cGhlbnMuXG4gICAgaWYgKFtTUCwgQkEsIEhZXS5pbmRleE9mKGN1cnJlbnQpID09PSAtMSAmJiBuZXh0ID09PSBHTCkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIxMyBEbyBub3QgYnJlYWsgYmVmb3JlIOKAmF3igJkgb3Ig4oCYIeKAmSBvciDigJg74oCZIG9yIOKAmC/igJksIGV2ZW4gYWZ0ZXIgc3BhY2VzLlxuICAgIGlmIChbQ0wsIENQLCBFWCwgSVMsIFNZXS5pbmRleE9mKG5leHQpICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIxNCBEbyBub3QgYnJlYWsgYWZ0ZXIg4oCYW+KAmSwgZXZlbiBhZnRlciBzcGFjZXMuXG4gICAgaWYgKHByZXZpb3VzTm9uU3BhY2VDbGFzc1R5cGUoY3VycmVudEluZGV4LCBjbGFzc1R5cGVzKSA9PT0gT1ApIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgIH1cblxuICAgIC8vIExCMTUgRG8gbm90IGJyZWFrIHdpdGhpbiDigJjigJ1b4oCZLCBldmVuIHdpdGggaW50ZXJ2ZW5pbmcgc3BhY2VzLlxuICAgIGlmIChpc0FkamFjZW50V2l0aFNwYWNlSWdub3JlZChRVSwgT1AsIGN1cnJlbnRJbmRleCwgY2xhc3NUeXBlcykpIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgIH1cblxuICAgIC8vIExCMTYgRG8gbm90IGJyZWFrIGJldHdlZW4gY2xvc2luZyBwdW5jdHVhdGlvbiBhbmQgYSBub25zdGFydGVyIChsYj1OUyksIGV2ZW4gd2l0aCBpbnRlcnZlbmluZyBzcGFjZXMuXG4gICAgaWYgKGlzQWRqYWNlbnRXaXRoU3BhY2VJZ25vcmVkKFtDTCwgQ1BdLCBOUywgY3VycmVudEluZGV4LCBjbGFzc1R5cGVzKSkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIxNyBEbyBub3QgYnJlYWsgd2l0aGluIOKAmOKAlOKAlOKAmSwgZXZlbiB3aXRoIGludGVydmVuaW5nIHNwYWNlcy5cbiAgICBpZiAoaXNBZGphY2VudFdpdGhTcGFjZUlnbm9yZWQoQjIsIEIyLCBjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjE4IEJyZWFrIGFmdGVyIHNwYWNlcy5cbiAgICBpZiAoY3VycmVudCA9PT0gU1ApIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIxOSBEbyBub3QgYnJlYWsgYmVmb3JlIG9yIGFmdGVyIHF1b3RhdGlvbiBtYXJrcywgc3VjaCBhcyDigJgg4oCdIOKAmS5cbiAgICBpZiAoY3VycmVudCA9PT0gUVUgfHwgbmV4dCA9PT0gUVUpIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgIH1cblxuICAgIC8vIExCMjAgQnJlYWsgYmVmb3JlIGFuZCBhZnRlciB1bnJlc29sdmVkIENCLlxuICAgIGlmIChuZXh0ID09PSBDQiB8fCBjdXJyZW50ID09PSBDQikge1xuICAgICAgICByZXR1cm4gQlJFQUtfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjIxIERvIG5vdCBicmVhayBiZWZvcmUgaHlwaGVuLW1pbnVzLCBvdGhlciBoeXBoZW5zLCBmaXhlZC13aWR0aCBzcGFjZXMsIHNtYWxsIGthbmEsIGFuZCBvdGhlciBub24tc3RhcnRlcnMsIG9yIGFmdGVyIGFjdXRlIGFjY2VudHMuXG4gICAgaWYgKFtCQSwgSFksIE5TXS5pbmRleE9mKG5leHQpICE9PSAtMSB8fCBjdXJyZW50ID09PSBCQikge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIyMWEgRG9uJ3QgYnJlYWsgYWZ0ZXIgSGVicmV3ICsgSHlwaGVuLlxuICAgIGlmIChiZWZvcmUgPT09IEhMICYmIEhZUEhFTi5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIyMWIgRG9u4oCZdCBicmVhayBiZXR3ZWVuIFNvbGlkdXMgYW5kIEhlYnJldyBsZXR0ZXJzLlxuICAgIGlmIChjdXJyZW50ID09PSBTWSAmJiBuZXh0ID09PSBITCkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIyMiBEbyBub3QgYnJlYWsgYmV0d2VlbiB0d28gZWxsaXBzZXMsIG9yIGJldHdlZW4gbGV0dGVycywgbnVtYmVycyBvciBleGNsYW1hdGlvbnMgYW5kIGVsbGlwc2lzLlxuICAgIGlmIChuZXh0ID09PSBJTiAmJiBBTFBIQUJFVElDUy5jb25jYXQoSU4sIEVYLCBOVSwgSUQsIEVCLCBFTSkuaW5kZXhPZihjdXJyZW50KSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgIH1cblxuICAgIC8vIExCMjMgRG8gbm90IGJyZWFrIGJldHdlZW4gZGlnaXRzIGFuZCBsZXR0ZXJzLlxuICAgIGlmICgoQUxQSEFCRVRJQ1MuaW5kZXhPZihuZXh0KSAhPT0gLTEgJiYgY3VycmVudCA9PT0gTlUpIHx8IChBTFBIQUJFVElDUy5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJiBuZXh0ID09PSBOVSkpIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgIH1cblxuICAgIC8vIExCMjNhIERvIG5vdCBicmVhayBiZXR3ZWVuIG51bWVyaWMgcHJlZml4ZXMgYW5kIGlkZW9ncmFwaHMsIG9yIGJldHdlZW4gaWRlb2dyYXBocyBhbmQgbnVtZXJpYyBwb3N0Zml4ZXMuXG4gICAgaWYgKFxuICAgICAgICAoY3VycmVudCA9PT0gUFIgJiYgW0lELCBFQiwgRU1dLmluZGV4T2YobmV4dCkgIT09IC0xKSB8fFxuICAgICAgICAoW0lELCBFQiwgRU1dLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIG5leHQgPT09IFBPKVxuICAgICkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIyNCBEbyBub3QgYnJlYWsgYmV0d2VlbiBudW1lcmljIHByZWZpeC9wb3N0Zml4IGFuZCBsZXR0ZXJzLCBvciBiZXR3ZWVuIGxldHRlcnMgYW5kIHByZWZpeC9wb3N0Zml4LlxuICAgIGlmIChcbiAgICAgICAgKEFMUEhBQkVUSUNTLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIFBSRUZJWF9QT1NURklYLmluZGV4T2YobmV4dCkgIT09IC0xKSB8fFxuICAgICAgICAoUFJFRklYX1BPU1RGSVguaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgQUxQSEFCRVRJQ1MuaW5kZXhPZihuZXh0KSAhPT0gLTEpXG4gICAgKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjI1IERvIG5vdCBicmVhayBiZXR3ZWVuIHRoZSBmb2xsb3dpbmcgcGFpcnMgb2YgY2xhc3NlcyByZWxldmFudCB0byBudW1iZXJzOlxuICAgIGlmIChcbiAgICAgICAgLy8gKFBSIHwgUE8pIMOXICggT1AgfCBIWSApPyBOVVxuICAgICAgICAoW1BSLCBQT10uaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiZcbiAgICAgICAgICAgIChuZXh0ID09PSBOVSB8fCAoW09QLCBIWV0uaW5kZXhPZihuZXh0KSAhPT0gLTEgJiYgY2xhc3NUeXBlc1thZnRlckluZGV4ICsgMV0gPT09IE5VKSkpIHx8XG4gICAgICAgIC8vICggT1AgfCBIWSApIMOXIE5VXG4gICAgICAgIChbT1AsIEhZXS5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJiBuZXh0ID09PSBOVSkgfHxcbiAgICAgICAgLy8gTlUgw5dcdChOVSB8IFNZIHwgSVMpXG4gICAgICAgIChjdXJyZW50ID09PSBOVSAmJiBbTlUsIFNZLCBJU10uaW5kZXhPZihuZXh0KSAhPT0gLTEpXG4gICAgKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBOVSAoTlUgfCBTWSB8IElTKSogw5cgKE5VIHwgU1kgfCBJUyB8IENMIHwgQ1ApXG4gICAgaWYgKFtOVSwgU1ksIElTLCBDTCwgQ1BdLmluZGV4T2YobmV4dCkgIT09IC0xKSB7XG4gICAgICAgIGxldCBwcmV2SW5kZXggPSBjdXJyZW50SW5kZXg7XG4gICAgICAgIHdoaWxlIChwcmV2SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgbGV0IHR5cGUgPSBjbGFzc1R5cGVzW3ByZXZJbmRleF07XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gTlUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFtTWSwgSVNdLmluZGV4T2YodHlwZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcHJldkluZGV4LS07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTlUgKE5VIHwgU1kgfCBJUykqIChDTCB8IENQKT8gw5cgKFBPIHwgUFIpKVxuICAgIGlmIChbUFIsIFBPXS5pbmRleE9mKG5leHQpICE9PSAtMSkge1xuICAgICAgICBsZXQgcHJldkluZGV4ID0gW0NMLCBDUF0uaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgPyBiZWZvcmVJbmRleCA6IGN1cnJlbnRJbmRleDtcbiAgICAgICAgd2hpbGUgKHByZXZJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IGNsYXNzVHlwZXNbcHJldkluZGV4XTtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBOVSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoW1NZLCBJU10uaW5kZXhPZih0eXBlKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBwcmV2SW5kZXgtLTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBMQjI2IERvIG5vdCBicmVhayBhIEtvcmVhbiBzeWxsYWJsZS5cbiAgICBpZiAoXG4gICAgICAgIChKTCA9PT0gY3VycmVudCAmJiBbSkwsIEpWLCBIMiwgSDNdLmluZGV4T2YobmV4dCkgIT09IC0xKSB8fFxuICAgICAgICAoW0pWLCBIMl0uaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgW0pWLCBKVF0uaW5kZXhPZihuZXh0KSAhPT0gLTEpIHx8XG4gICAgICAgIChbSlQsIEgzXS5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJiBuZXh0ID09PSBKVClcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgIH1cblxuICAgIC8vIExCMjcgVHJlYXQgYSBLb3JlYW4gU3lsbGFibGUgQmxvY2sgdGhlIHNhbWUgYXMgSUQuXG4gICAgaWYgKFxuICAgICAgICAoS09SRUFOX1NZTExBQkxFX0JMT0NLLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIFtJTiwgUE9dLmluZGV4T2YobmV4dCkgIT09IC0xKSB8fFxuICAgICAgICAoS09SRUFOX1NZTExBQkxFX0JMT0NLLmluZGV4T2YobmV4dCkgIT09IC0xICYmIGN1cnJlbnQgPT09IFBSKVxuICAgICkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIyOCBEbyBub3QgYnJlYWsgYmV0d2VlbiBhbHBoYWJldGljcyAo4oCcYXTigJ0pLlxuICAgIGlmIChBTFBIQUJFVElDUy5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJiBBTFBIQUJFVElDUy5pbmRleE9mKG5leHQpICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgfVxuXG4gICAgLy8gTEIyOSBEbyBub3QgYnJlYWsgYmV0d2VlbiBudW1lcmljIHB1bmN0dWF0aW9uIGFuZCBhbHBoYWJldGljcyAo4oCcZS5nLuKAnSkuXG4gICAgaWYgKGN1cnJlbnQgPT09IElTICYmIEFMUEhBQkVUSUNTLmluZGV4T2YobmV4dCkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjMwIERvIG5vdCBicmVhayBiZXR3ZWVuIGxldHRlcnMsIG51bWJlcnMsIG9yIG9yZGluYXJ5IHN5bWJvbHMgYW5kIG9wZW5pbmcgb3IgY2xvc2luZyBwYXJlbnRoZXNlcy5cbiAgICBpZiAoXG4gICAgICAgIChBTFBIQUJFVElDUy5jb25jYXQoTlUpLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIG5leHQgPT09IE9QKSB8fFxuICAgICAgICAoQUxQSEFCRVRJQ1MuY29uY2F0KE5VKS5pbmRleE9mKG5leHQpICE9PSAtMSAmJiBjdXJyZW50ID09PSBDUClcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgIH1cblxuICAgIC8vIExCMzBhIEJyZWFrIGJldHdlZW4gdHdvIHJlZ2lvbmFsIGluZGljYXRvciBzeW1ib2xzIGlmIGFuZCBvbmx5IGlmIHRoZXJlIGFyZSBhbiBldmVuIG51bWJlciBvZiByZWdpb25hbFxuICAgIC8vIGluZGljYXRvcnMgcHJlY2VkaW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgYnJlYWsuXG4gICAgaWYgKGN1cnJlbnQgPT09IFJJICYmIG5leHQgPT09IFJJKSB7XG4gICAgICAgIGxldCBpID0gaW5kaWNpZXNbY3VycmVudEluZGV4XTtcbiAgICAgICAgbGV0IGNvdW50ID0gMTtcbiAgICAgICAgd2hpbGUgKGkgPiAwKSB7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgICAgICBpZiAoY2xhc3NUeXBlc1tpXSA9PT0gUkkpIHtcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY291bnQgJSAyICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBMQjMwYiBEbyBub3QgYnJlYWsgYmV0d2VlbiBhbiBlbW9qaSBiYXNlIGFuZCBhbiBlbW9qaSBtb2RpZmllci5cbiAgICBpZiAoY3VycmVudCA9PT0gRUIgJiYgbmV4dCA9PT0gRU0pIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xuICAgIH1cblxuICAgIHJldHVybiBCUkVBS19BTExPV0VEO1xufTtcblxuZXhwb3J0IGNvbnN0IGxpbmVCcmVha0F0SW5kZXggPSAoY29kZVBvaW50czogbnVtYmVyW10sIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAvLyBMQjIgTmV2ZXIgYnJlYWsgYXQgdGhlIHN0YXJ0IG9mIHRleHQuXG4gICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcbiAgICB9XG5cbiAgICAvLyBMQjMgQWx3YXlzIGJyZWFrIGF0IHRoZSBlbmQgb2YgdGV4dC5cbiAgICBpZiAoaW5kZXggPj0gY29kZVBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIEJSRUFLX01BTkRBVE9SWTtcbiAgICB9XG5cbiAgICBjb25zdCBbaW5kaWNpZXMsIGNsYXNzVHlwZXNdID0gY29kZVBvaW50c1RvQ2hhcmFjdGVyQ2xhc3Nlcyhjb2RlUG9pbnRzKTtcblxuICAgIHJldHVybiBfbGluZUJyZWFrQXRJbmRleChjb2RlUG9pbnRzLCBjbGFzc1R5cGVzLCBpbmRpY2llcywgaW5kZXgpO1xufTtcblxuZXhwb3J0IHR5cGUgTElORV9CUkVBSyA9ICdhdXRvJyB8ICdub3JtYWwnIHwgJ3N0cmljdCc7XG5leHBvcnQgdHlwZSBXT1JEX0JSRUFLID0gJ25vcm1hbCcgfCAnYnJlYWstYWxsJyB8ICdicmVhay13b3JkJyB8ICdrZWVwLWFsbCc7XG5cbmludGVyZmFjZSBJT3B0aW9ucyB7XG4gICAgbGluZUJyZWFrPzogTElORV9CUkVBSztcbiAgICB3b3JkQnJlYWs/OiBXT1JEX0JSRUFLO1xufVxuXG5jb25zdCBjc3NGb3JtYXR0ZWRDbGFzc2VzID0gKFxuICAgIGNvZGVQb2ludHM6IG51bWJlcltdLFxuICAgIG9wdGlvbnM/OiBJT3B0aW9uc1xuKTogW251bWJlcltdLCBudW1iZXJbXSwgYm9vbGVhbltdIHwgdW5kZWZpbmVkXSA9PiB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7bGluZUJyZWFrOiAnbm9ybWFsJywgd29yZEJyZWFrOiAnbm9ybWFsJ307XG4gICAgfVxuICAgIGxldCBbaW5kaWNpZXMsIGNsYXNzVHlwZXMsIGlzTGV0dGVyTnVtYmVyXSA9IGNvZGVQb2ludHNUb0NoYXJhY3RlckNsYXNzZXMoY29kZVBvaW50cywgb3B0aW9ucy5saW5lQnJlYWspO1xuXG4gICAgaWYgKG9wdGlvbnMud29yZEJyZWFrID09PSAnYnJlYWstYWxsJyB8fCBvcHRpb25zLndvcmRCcmVhayA9PT0gJ2JyZWFrLXdvcmQnKSB7XG4gICAgICAgIGNsYXNzVHlwZXMgPSBjbGFzc1R5cGVzLm1hcCh0eXBlID0+IChbTlUsIEFMLCBTQV0uaW5kZXhPZih0eXBlKSAhPT0gLTEgPyBJRCA6IHR5cGUpKTtcbiAgICB9XG5cbiAgICBjb25zdCBmb3JiaWRkZW5CcmVha3BvaW50cyA9XG4gICAgICAgIG9wdGlvbnMud29yZEJyZWFrID09PSAna2VlcC1hbGwnXG4gICAgICAgICAgICA/IGlzTGV0dGVyTnVtYmVyLm1hcCgobGV0dGVyTnVtYmVyLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyTnVtYmVyICYmIGNvZGVQb2ludHNbaV0gPj0gMHg0ZTAwICYmIGNvZGVQb2ludHNbaV0gPD0gMHg5ZmZmO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICByZXR1cm4gW2luZGljaWVzLCBjbGFzc1R5cGVzLCBmb3JiaWRkZW5CcmVha3BvaW50c107XG59O1xuXG5leHBvcnQgY29uc3QgaW5saW5lQnJlYWtPcHBvcnR1bml0aWVzID0gKHN0cjogc3RyaW5nLCBvcHRpb25zPzogSU9wdGlvbnMpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGNvZGVQb2ludHMgPSB0b0NvZGVQb2ludHMoc3RyKTtcbiAgICBsZXQgb3V0cHV0ID0gQlJFQUtfTk9UX0FMTE9XRUQ7XG4gICAgY29uc3QgW2luZGljaWVzLCBjbGFzc1R5cGVzLCBmb3JiaWRkZW5CcmVha3BvaW50c10gPSBjc3NGb3JtYXR0ZWRDbGFzc2VzKGNvZGVQb2ludHMsIG9wdGlvbnMpO1xuXG4gICAgY29kZVBvaW50cy5mb3JFYWNoKChjb2RlUG9pbnQsIGkpID0+IHtcbiAgICAgICAgb3V0cHV0ICs9XG4gICAgICAgICAgICBmcm9tQ29kZVBvaW50KGNvZGVQb2ludCkgK1xuICAgICAgICAgICAgKGkgPj0gY29kZVBvaW50cy5sZW5ndGggLSAxXG4gICAgICAgICAgICAgICAgPyBCUkVBS19NQU5EQVRPUllcbiAgICAgICAgICAgICAgICA6IF9saW5lQnJlYWtBdEluZGV4KGNvZGVQb2ludHMsIGNsYXNzVHlwZXMsIGluZGljaWVzLCBpICsgMSwgZm9yYmlkZGVuQnJlYWtwb2ludHMpKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvdXRwdXQ7XG59O1xuXG5jbGFzcyBCcmVhayB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBjb2RlUG9pbnRzOiBudW1iZXJbXTtcbiAgICByZWFkb25seSByZXF1aXJlZDogYm9vbGVhbjtcbiAgICByZWFkb25seSBzdGFydDogbnVtYmVyO1xuICAgIHJlYWRvbmx5IGVuZDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoY29kZVBvaW50czogbnVtYmVyW10sIGxpbmVCcmVhazogc3RyaW5nLCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNvZGVQb2ludHMgPSBjb2RlUG9pbnRzO1xuICAgICAgICB0aGlzLnJlcXVpcmVkID0gbGluZUJyZWFrID09PSBCUkVBS19NQU5EQVRPUlk7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgdGhpcy5lbmQgPSBlbmQ7XG4gICAgfVxuXG4gICAgc2xpY2UoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGZyb21Db2RlUG9pbnQoLi4udGhpcy5jb2RlUG9pbnRzLnNsaWNlKHRoaXMuc3RhcnQsIHRoaXMuZW5kKSk7XG4gICAgfVxufVxuXG5leHBvcnQgdHlwZSBMaW5lQnJlYWsgPVxuICAgIHwge1xuICAgICAgICAgIGRvbmU6IHRydWU7XG4gICAgICAgICAgdmFsdWU6IG51bGw7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgICAgZG9uZTogZmFsc2U7XG4gICAgICAgICAgdmFsdWU6IEJyZWFrO1xuICAgICAgfTtcblxuaW50ZXJmYWNlIElMaW5lQnJlYWtJdGVyYXRvciB7XG4gICAgbmV4dDogKCkgPT4gTGluZUJyZWFrO1xufVxuXG5leHBvcnQgY29uc3QgTGluZUJyZWFrZXIgPSAoc3RyOiBzdHJpbmcsIG9wdGlvbnM/OiBJT3B0aW9ucyk6IElMaW5lQnJlYWtJdGVyYXRvciA9PiB7XG4gICAgY29uc3QgY29kZVBvaW50cyA9IHRvQ29kZVBvaW50cyhzdHIpO1xuICAgIGNvbnN0IFtpbmRpY2llcywgY2xhc3NUeXBlcywgZm9yYmlkZGVuQnJlYWtwb2ludHNdID0gY3NzRm9ybWF0dGVkQ2xhc3Nlcyhjb2RlUG9pbnRzLCBvcHRpb25zKTtcbiAgICBjb25zdCBsZW5ndGggPSBjb2RlUG9pbnRzLmxlbmd0aDtcbiAgICBsZXQgbGFzdEVuZCA9IDA7XG4gICAgbGV0IG5leHRJbmRleCA9IDA7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAobmV4dEluZGV4ID49IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7ZG9uZTogdHJ1ZSwgdmFsdWU6IG51bGx9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGxpbmVCcmVhayA9IEJSRUFLX05PVF9BTExPV0VEO1xuICAgICAgICAgICAgd2hpbGUgKFxuICAgICAgICAgICAgICAgIG5leHRJbmRleCA8IGxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIChsaW5lQnJlYWsgPSBfbGluZUJyZWFrQXRJbmRleChjb2RlUG9pbnRzLCBjbGFzc1R5cGVzLCBpbmRpY2llcywgKytuZXh0SW5kZXgsIGZvcmJpZGRlbkJyZWFrcG9pbnRzKSkgPT09XG4gICAgICAgICAgICAgICAgICAgIEJSRUFLX05PVF9BTExPV0VEXG4gICAgICAgICAgICApIHt9XG5cbiAgICAgICAgICAgIGlmIChsaW5lQnJlYWsgIT09IEJSRUFLX05PVF9BTExPV0VEIHx8IG5leHRJbmRleCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBuZXcgQnJlYWsoY29kZVBvaW50cywgbGluZUJyZWFrLCBsYXN0RW5kLCBuZXh0SW5kZXgpO1xuICAgICAgICAgICAgICAgIGxhc3RFbmQgPSBuZXh0SW5kZXg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZSwgZG9uZTogZmFsc2V9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge2RvbmU6IHRydWUsIHZhbHVlOiBudWxsfTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbiIsIi8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3Mtc3ludGF4LTNcblxuaW1wb3J0IHtmcm9tQ29kZVBvaW50LCB0b0NvZGVQb2ludHN9IGZyb20gJ2Nzcy1saW5lLWJyZWFrJztcblxuZXhwb3J0IGVudW0gVG9rZW5UeXBlIHtcbiAgICBTVFJJTkdfVE9LRU4sXG4gICAgQkFEX1NUUklOR19UT0tFTixcbiAgICBMRUZUX1BBUkVOVEhFU0lTX1RPS0VOLFxuICAgIFJJR0hUX1BBUkVOVEhFU0lTX1RPS0VOLFxuICAgIENPTU1BX1RPS0VOLFxuICAgIEhBU0hfVE9LRU4sXG4gICAgREVMSU1fVE9LRU4sXG4gICAgQVRfS0VZV09SRF9UT0tFTixcbiAgICBQUkVGSVhfTUFUQ0hfVE9LRU4sXG4gICAgREFTSF9NQVRDSF9UT0tFTixcbiAgICBJTkNMVURFX01BVENIX1RPS0VOLFxuICAgIExFRlRfQ1VSTFlfQlJBQ0tFVF9UT0tFTixcbiAgICBSSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOLFxuICAgIFNVRkZJWF9NQVRDSF9UT0tFTixcbiAgICBTVUJTVFJJTkdfTUFUQ0hfVE9LRU4sXG4gICAgRElNRU5TSU9OX1RPS0VOLFxuICAgIFBFUkNFTlRBR0VfVE9LRU4sXG4gICAgTlVNQkVSX1RPS0VOLFxuICAgIEZVTkNUSU9OLFxuICAgIEZVTkNUSU9OX1RPS0VOLFxuICAgIElERU5UX1RPS0VOLFxuICAgIENPTFVNTl9UT0tFTixcbiAgICBVUkxfVE9LRU4sXG4gICAgQkFEX1VSTF9UT0tFTixcbiAgICBDRENfVE9LRU4sXG4gICAgQ0RPX1RPS0VOLFxuICAgIENPTE9OX1RPS0VOLFxuICAgIFNFTUlDT0xPTl9UT0tFTixcbiAgICBMRUZUX1NRVUFSRV9CUkFDS0VUX1RPS0VOLFxuICAgIFJJR0hUX1NRVUFSRV9CUkFDS0VUX1RPS0VOLFxuICAgIFVOSUNPREVfUkFOR0VfVE9LRU4sXG4gICAgV0hJVEVTUEFDRV9UT0tFTixcbiAgICBFT0ZfVE9LRU5cbn1cblxuaW50ZXJmYWNlIElUb2tlbiB7XG4gICAgdHlwZTogVG9rZW5UeXBlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRva2VuIGV4dGVuZHMgSVRva2VuIHtcbiAgICB0eXBlOlxuICAgICAgICB8IFRva2VuVHlwZS5CQURfVVJMX1RPS0VOXG4gICAgICAgIHwgVG9rZW5UeXBlLkJBRF9TVFJJTkdfVE9LRU5cbiAgICAgICAgfCBUb2tlblR5cGUuTEVGVF9QQVJFTlRIRVNJU19UT0tFTlxuICAgICAgICB8IFRva2VuVHlwZS5SSUdIVF9QQVJFTlRIRVNJU19UT0tFTlxuICAgICAgICB8IFRva2VuVHlwZS5DT01NQV9UT0tFTlxuICAgICAgICB8IFRva2VuVHlwZS5TVUJTVFJJTkdfTUFUQ0hfVE9LRU5cbiAgICAgICAgfCBUb2tlblR5cGUuUFJFRklYX01BVENIX1RPS0VOXG4gICAgICAgIHwgVG9rZW5UeXBlLlNVRkZJWF9NQVRDSF9UT0tFTlxuICAgICAgICB8IFRva2VuVHlwZS5DT0xPTl9UT0tFTlxuICAgICAgICB8IFRva2VuVHlwZS5TRU1JQ09MT05fVE9LRU5cbiAgICAgICAgfCBUb2tlblR5cGUuTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTlxuICAgICAgICB8IFRva2VuVHlwZS5SSUdIVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTlxuICAgICAgICB8IFRva2VuVHlwZS5MRUZUX0NVUkxZX0JSQUNLRVRfVE9LRU5cbiAgICAgICAgfCBUb2tlblR5cGUuUklHSFRfQ1VSTFlfQlJBQ0tFVF9UT0tFTlxuICAgICAgICB8IFRva2VuVHlwZS5EQVNIX01BVENIX1RPS0VOXG4gICAgICAgIHwgVG9rZW5UeXBlLklOQ0xVREVfTUFUQ0hfVE9LRU5cbiAgICAgICAgfCBUb2tlblR5cGUuQ09MVU1OX1RPS0VOXG4gICAgICAgIHwgVG9rZW5UeXBlLldISVRFU1BBQ0VfVE9LRU5cbiAgICAgICAgfCBUb2tlblR5cGUuQ0RDX1RPS0VOXG4gICAgICAgIHwgVG9rZW5UeXBlLkNET19UT0tFTlxuICAgICAgICB8IFRva2VuVHlwZS5FT0ZfVE9LRU47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaW5nVmFsdWVUb2tlbiBleHRlbmRzIElUb2tlbiB7XG4gICAgdHlwZTpcbiAgICAgICAgfCBUb2tlblR5cGUuU1RSSU5HX1RPS0VOXG4gICAgICAgIHwgVG9rZW5UeXBlLkRFTElNX1RPS0VOXG4gICAgICAgIHwgVG9rZW5UeXBlLkZVTkNUSU9OX1RPS0VOXG4gICAgICAgIHwgVG9rZW5UeXBlLklERU5UX1RPS0VOXG4gICAgICAgIHwgVG9rZW5UeXBlLlVSTF9UT0tFTlxuICAgICAgICB8IFRva2VuVHlwZS5BVF9LRVlXT1JEX1RPS0VOO1xuICAgIHZhbHVlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGFzaFRva2VuIGV4dGVuZHMgSVRva2VuIHtcbiAgICB0eXBlOiBUb2tlblR5cGUuSEFTSF9UT0tFTjtcbiAgICBmbGFnczogbnVtYmVyO1xuICAgIHZhbHVlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTnVtYmVyVmFsdWVUb2tlbiBleHRlbmRzIElUb2tlbiB7XG4gICAgdHlwZTogVG9rZW5UeXBlLlBFUkNFTlRBR0VfVE9LRU4gfCBUb2tlblR5cGUuTlVNQkVSX1RPS0VOO1xuICAgIGZsYWdzOiBudW1iZXI7XG4gICAgbnVtYmVyOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGltZW5zaW9uVG9rZW4gZXh0ZW5kcyBJVG9rZW4ge1xuICAgIHR5cGU6IFRva2VuVHlwZS5ESU1FTlNJT05fVE9LRU47XG4gICAgZmxhZ3M6IG51bWJlcjtcbiAgICB1bml0OiBzdHJpbmc7XG4gICAgbnVtYmVyOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVW5pY29kZVJhbmdlVG9rZW4gZXh0ZW5kcyBJVG9rZW4ge1xuICAgIHR5cGU6IFRva2VuVHlwZS5VTklDT0RFX1JBTkdFX1RPS0VOO1xuICAgIHN0YXJ0OiBudW1iZXI7XG4gICAgZW5kOiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIENTU1Rva2VuID0gVG9rZW4gfCBTdHJpbmdWYWx1ZVRva2VuIHwgTnVtYmVyVmFsdWVUb2tlbiB8IERpbWVuc2lvblRva2VuIHwgVW5pY29kZVJhbmdlVG9rZW4gfCBIYXNoVG9rZW47XG5cbmV4cG9ydCBjb25zdCBGTEFHX1VOUkVTVFJJQ1RFRCA9IDEgPDwgMDtcbmV4cG9ydCBjb25zdCBGTEFHX0lEID0gMSA8PCAxO1xuZXhwb3J0IGNvbnN0IEZMQUdfSU5URUdFUiA9IDEgPDwgMjtcbmV4cG9ydCBjb25zdCBGTEFHX05VTUJFUiA9IDEgPDwgMztcblxuY29uc3QgTElORV9GRUVEID0gMHgwMDBhO1xuY29uc3QgU09MSURVUyA9IDB4MDAyZjtcbmNvbnN0IFJFVkVSU0VfU09MSURVUyA9IDB4MDA1YztcbmNvbnN0IENIQVJBQ1RFUl9UQUJVTEFUSU9OID0gMHgwMDA5O1xuY29uc3QgU1BBQ0UgPSAweDAwMjA7XG5jb25zdCBRVU9UQVRJT05fTUFSSyA9IDB4MDAyMjtcbmNvbnN0IEVRVUFMU19TSUdOID0gMHgwMDNkO1xuY29uc3QgTlVNQkVSX1NJR04gPSAweDAwMjM7XG5jb25zdCBET0xMQVJfU0lHTiA9IDB4MDAyNDtcbmNvbnN0IFBFUkNFTlRBR0VfU0lHTiA9IDB4MDAyNTtcbmNvbnN0IEFQT1NUUk9QSEUgPSAweDAwMjc7XG5jb25zdCBMRUZUX1BBUkVOVEhFU0lTID0gMHgwMDI4O1xuY29uc3QgUklHSFRfUEFSRU5USEVTSVMgPSAweDAwMjk7XG5jb25zdCBMT1dfTElORSA9IDB4MDA1ZjtcbmNvbnN0IEhZUEhFTl9NSU5VUyA9IDB4MDAyZDtcbmNvbnN0IEVYQ0xBTUFUSU9OX01BUksgPSAweDAwMjE7XG5jb25zdCBMRVNTX1RIQU5fU0lHTiA9IDB4MDAzYztcbmNvbnN0IEdSRUFURVJfVEhBTl9TSUdOID0gMHgwMDNlO1xuY29uc3QgQ09NTUVSQ0lBTF9BVCA9IDB4MDA0MDtcbmNvbnN0IExFRlRfU1FVQVJFX0JSQUNLRVQgPSAweDAwNWI7XG5jb25zdCBSSUdIVF9TUVVBUkVfQlJBQ0tFVCA9IDB4MDA1ZDtcbmNvbnN0IENJUkNVTUZMRVhfQUNDRU5UID0gMHgwMDNkO1xuY29uc3QgTEVGVF9DVVJMWV9CUkFDS0VUID0gMHgwMDdiO1xuY29uc3QgUVVFU1RJT05fTUFSSyA9IDB4MDAzZjtcbmNvbnN0IFJJR0hUX0NVUkxZX0JSQUNLRVQgPSAweDAwN2Q7XG5jb25zdCBWRVJUSUNBTF9MSU5FID0gMHgwMDdjO1xuY29uc3QgVElMREUgPSAweDAwN2U7XG5jb25zdCBDT05UUk9MID0gMHgwMDgwO1xuY29uc3QgUkVQTEFDRU1FTlRfQ0hBUkFDVEVSID0gMHhmZmZkO1xuY29uc3QgQVNURVJJU0sgPSAweDAwMmE7XG5jb25zdCBQTFVTX1NJR04gPSAweDAwMmI7XG5jb25zdCBDT01NQSA9IDB4MDAyYztcbmNvbnN0IENPTE9OID0gMHgwMDNhO1xuY29uc3QgU0VNSUNPTE9OID0gMHgwMDNiO1xuY29uc3QgRlVMTF9TVE9QID0gMHgwMDJlO1xuY29uc3QgTlVMTCA9IDB4MDAwMDtcbmNvbnN0IEJBQ0tTUEFDRSA9IDB4MDAwODtcbmNvbnN0IExJTkVfVEFCVUxBVElPTiA9IDB4MDAwYjtcbmNvbnN0IFNISUZUX09VVCA9IDB4MDAwZTtcbmNvbnN0IElORk9STUFUSU9OX1NFUEFSQVRPUl9PTkUgPSAweDAwMWY7XG5jb25zdCBERUxFVEUgPSAweDAwN2Y7XG5jb25zdCBFT0YgPSAtMTtcbmNvbnN0IFpFUk8gPSAweDAwMzA7XG5jb25zdCBhID0gMHgwMDYxO1xuY29uc3QgZSA9IDB4MDA2NTtcbmNvbnN0IGYgPSAweDAwNjY7XG5jb25zdCB1ID0gMHgwMDc1O1xuY29uc3QgeiA9IDB4MDA3YTtcbmNvbnN0IEEgPSAweDAwNDE7XG5jb25zdCBFID0gMHgwMDQ1O1xuY29uc3QgRiA9IDB4MDA0NjtcbmNvbnN0IFUgPSAweDAwNTU7XG5jb25zdCBaID0gMHgwMDVhO1xuXG5jb25zdCBpc0RpZ2l0ID0gKGNvZGVQb2ludDogbnVtYmVyKSA9PiBjb2RlUG9pbnQgPj0gWkVSTyAmJiBjb2RlUG9pbnQgPD0gMHgwMDM5O1xuY29uc3QgaXNTdXJyb2dhdGVDb2RlUG9pbnQgPSAoY29kZVBvaW50OiBudW1iZXIpID0+IGNvZGVQb2ludCA+PSAweGQ4MDAgJiYgY29kZVBvaW50IDw9IDB4ZGZmZjtcbmNvbnN0IGlzSGV4ID0gKGNvZGVQb2ludDogbnVtYmVyKSA9PlxuICAgIGlzRGlnaXQoY29kZVBvaW50KSB8fCAoY29kZVBvaW50ID49IEEgJiYgY29kZVBvaW50IDw9IEYpIHx8IChjb2RlUG9pbnQgPj0gYSAmJiBjb2RlUG9pbnQgPD0gZik7XG5jb25zdCBpc0xvd2VyQ2FzZUxldHRlciA9IChjb2RlUG9pbnQ6IG51bWJlcikgPT4gY29kZVBvaW50ID49IGEgJiYgY29kZVBvaW50IDw9IHo7XG5jb25zdCBpc1VwcGVyQ2FzZUxldHRlciA9IChjb2RlUG9pbnQ6IG51bWJlcikgPT4gY29kZVBvaW50ID49IEEgJiYgY29kZVBvaW50IDw9IFo7XG5jb25zdCBpc0xldHRlciA9IChjb2RlUG9pbnQ6IG51bWJlcikgPT4gaXNMb3dlckNhc2VMZXR0ZXIoY29kZVBvaW50KSB8fCBpc1VwcGVyQ2FzZUxldHRlcihjb2RlUG9pbnQpO1xuY29uc3QgaXNOb25BU0NJSUNvZGVQb2ludCA9IChjb2RlUG9pbnQ6IG51bWJlcikgPT4gY29kZVBvaW50ID49IENPTlRST0w7XG5jb25zdCBpc1doaXRlU3BhY2UgPSAoY29kZVBvaW50OiBudW1iZXIpOiBib29sZWFuID0+XG4gICAgY29kZVBvaW50ID09PSBMSU5FX0ZFRUQgfHwgY29kZVBvaW50ID09PSBDSEFSQUNURVJfVEFCVUxBVElPTiB8fCBjb2RlUG9pbnQgPT09IFNQQUNFO1xuY29uc3QgaXNOYW1lU3RhcnRDb2RlUG9pbnQgPSAoY29kZVBvaW50OiBudW1iZXIpOiBib29sZWFuID0+XG4gICAgaXNMZXR0ZXIoY29kZVBvaW50KSB8fCBpc05vbkFTQ0lJQ29kZVBvaW50KGNvZGVQb2ludCkgfHwgY29kZVBvaW50ID09PSBMT1dfTElORTtcbmNvbnN0IGlzTmFtZUNvZGVQb2ludCA9IChjb2RlUG9pbnQ6IG51bWJlcik6IGJvb2xlYW4gPT5cbiAgICBpc05hbWVTdGFydENvZGVQb2ludChjb2RlUG9pbnQpIHx8IGlzRGlnaXQoY29kZVBvaW50KSB8fCBjb2RlUG9pbnQgPT09IEhZUEhFTl9NSU5VUztcbmNvbnN0IGlzTm9uUHJpbnRhYmxlQ29kZVBvaW50ID0gKGNvZGVQb2ludDogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgKGNvZGVQb2ludCA+PSBOVUxMICYmIGNvZGVQb2ludCA8PSBCQUNLU1BBQ0UpIHx8XG4gICAgICAgIGNvZGVQb2ludCA9PT0gTElORV9UQUJVTEFUSU9OIHx8XG4gICAgICAgIChjb2RlUG9pbnQgPj0gU0hJRlRfT1VUICYmIGNvZGVQb2ludCA8PSBJTkZPUk1BVElPTl9TRVBBUkFUT1JfT05FKSB8fFxuICAgICAgICBjb2RlUG9pbnQgPT09IERFTEVURVxuICAgICk7XG59O1xuY29uc3QgaXNWYWxpZEVzY2FwZSA9IChjMTogbnVtYmVyLCBjMjogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKGMxICE9PSBSRVZFUlNFX1NPTElEVVMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBjMiAhPT0gTElORV9GRUVEO1xufTtcbmNvbnN0IGlzSWRlbnRpZmllclN0YXJ0ID0gKGMxOiBudW1iZXIsIGMyOiBudW1iZXIsIGMzOiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgICBpZiAoYzEgPT09IEhZUEhFTl9NSU5VUykge1xuICAgICAgICByZXR1cm4gaXNOYW1lU3RhcnRDb2RlUG9pbnQoYzIpIHx8IGlzVmFsaWRFc2NhcGUoYzIsIGMzKTtcbiAgICB9IGVsc2UgaWYgKGlzTmFtZVN0YXJ0Q29kZVBvaW50KGMxKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGMxID09PSBSRVZFUlNFX1NPTElEVVMgJiYgaXNWYWxpZEVzY2FwZShjMSwgYzIpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb25zdCBpc051bWJlclN0YXJ0ID0gKGMxOiBudW1iZXIsIGMyOiBudW1iZXIsIGMzOiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgICBpZiAoYzEgPT09IFBMVVNfU0lHTiB8fCBjMSA9PT0gSFlQSEVOX01JTlVTKSB7XG4gICAgICAgIGlmIChpc0RpZ2l0KGMyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYzIgPT09IEZVTExfU1RPUCAmJiBpc0RpZ2l0KGMzKTtcbiAgICB9XG5cbiAgICBpZiAoYzEgPT09IEZVTExfU1RPUCkge1xuICAgICAgICByZXR1cm4gaXNEaWdpdChjMik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzRGlnaXQoYzEpO1xufTtcblxuY29uc3Qgc3RyaW5nVG9OdW1iZXIgPSAoY29kZVBvaW50czogbnVtYmVyW10pOiBudW1iZXIgPT4ge1xuICAgIGxldCBjID0gMDtcbiAgICBsZXQgc2lnbiA9IDE7XG4gICAgaWYgKGNvZGVQb2ludHNbY10gPT09IFBMVVNfU0lHTiB8fCBjb2RlUG9pbnRzW2NdID09PSBIWVBIRU5fTUlOVVMpIHtcbiAgICAgICAgaWYgKGNvZGVQb2ludHNbY10gPT09IEhZUEhFTl9NSU5VUykge1xuICAgICAgICAgICAgc2lnbiA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGMrKztcbiAgICB9XG5cbiAgICBjb25zdCBpbnRlZ2VycyA9IFtdO1xuXG4gICAgd2hpbGUgKGlzRGlnaXQoY29kZVBvaW50c1tjXSkpIHtcbiAgICAgICAgaW50ZWdlcnMucHVzaChjb2RlUG9pbnRzW2MrK10pO1xuICAgIH1cblxuICAgIGNvbnN0IGludCA9IGludGVnZXJzLmxlbmd0aCA/IHBhcnNlSW50KGZyb21Db2RlUG9pbnQoLi4uaW50ZWdlcnMpLCAxMCkgOiAwO1xuXG4gICAgaWYgKGNvZGVQb2ludHNbY10gPT09IEZVTExfU1RPUCkge1xuICAgICAgICBjKys7XG4gICAgfVxuXG4gICAgY29uc3QgZnJhY3Rpb24gPSBbXTtcbiAgICB3aGlsZSAoaXNEaWdpdChjb2RlUG9pbnRzW2NdKSkge1xuICAgICAgICBmcmFjdGlvbi5wdXNoKGNvZGVQb2ludHNbYysrXSk7XG4gICAgfVxuXG4gICAgY29uc3QgZnJhY2QgPSBmcmFjdGlvbi5sZW5ndGg7XG4gICAgY29uc3QgZnJhYyA9IGZyYWNkID8gcGFyc2VJbnQoZnJvbUNvZGVQb2ludCguLi5mcmFjdGlvbiksIDEwKSA6IDA7XG5cbiAgICBpZiAoY29kZVBvaW50c1tjXSA9PT0gRSB8fCBjb2RlUG9pbnRzW2NdID09PSBlKSB7XG4gICAgICAgIGMrKztcbiAgICB9XG5cbiAgICBsZXQgZXhwc2lnbiA9IDE7XG5cbiAgICBpZiAoY29kZVBvaW50c1tjXSA9PT0gUExVU19TSUdOIHx8IGNvZGVQb2ludHNbY10gPT09IEhZUEhFTl9NSU5VUykge1xuICAgICAgICBpZiAoY29kZVBvaW50c1tjXSA9PT0gSFlQSEVOX01JTlVTKSB7XG4gICAgICAgICAgICBleHBzaWduID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgYysrO1xuICAgIH1cblxuICAgIGNvbnN0IGV4cG9uZW50ID0gW107XG5cbiAgICB3aGlsZSAoaXNEaWdpdChjb2RlUG9pbnRzW2NdKSkge1xuICAgICAgICBleHBvbmVudC5wdXNoKGNvZGVQb2ludHNbYysrXSk7XG4gICAgfVxuXG4gICAgY29uc3QgZXhwID0gZXhwb25lbnQubGVuZ3RoID8gcGFyc2VJbnQoZnJvbUNvZGVQb2ludCguLi5leHBvbmVudCksIDEwKSA6IDA7XG5cbiAgICByZXR1cm4gc2lnbiAqIChpbnQgKyBmcmFjICogTWF0aC5wb3coMTAsIC1mcmFjZCkpICogTWF0aC5wb3coMTAsIGV4cHNpZ24gKiBleHApO1xufTtcblxuY29uc3QgTEVGVF9QQVJFTlRIRVNJU19UT0tFTjogVG9rZW4gPSB7XG4gICAgdHlwZTogVG9rZW5UeXBlLkxFRlRfUEFSRU5USEVTSVNfVE9LRU5cbn07XG5jb25zdCBSSUdIVF9QQVJFTlRIRVNJU19UT0tFTjogVG9rZW4gPSB7XG4gICAgdHlwZTogVG9rZW5UeXBlLlJJR0hUX1BBUkVOVEhFU0lTX1RPS0VOXG59O1xuY29uc3QgQ09NTUFfVE9LRU46IFRva2VuID0ge3R5cGU6IFRva2VuVHlwZS5DT01NQV9UT0tFTn07XG5jb25zdCBTVUZGSVhfTUFUQ0hfVE9LRU46IFRva2VuID0ge3R5cGU6IFRva2VuVHlwZS5TVUZGSVhfTUFUQ0hfVE9LRU59O1xuY29uc3QgUFJFRklYX01BVENIX1RPS0VOOiBUb2tlbiA9IHt0eXBlOiBUb2tlblR5cGUuUFJFRklYX01BVENIX1RPS0VOfTtcbmNvbnN0IENPTFVNTl9UT0tFTjogVG9rZW4gPSB7dHlwZTogVG9rZW5UeXBlLkNPTFVNTl9UT0tFTn07XG5jb25zdCBEQVNIX01BVENIX1RPS0VOOiBUb2tlbiA9IHt0eXBlOiBUb2tlblR5cGUuREFTSF9NQVRDSF9UT0tFTn07XG5jb25zdCBJTkNMVURFX01BVENIX1RPS0VOOiBUb2tlbiA9IHt0eXBlOiBUb2tlblR5cGUuSU5DTFVERV9NQVRDSF9UT0tFTn07XG5jb25zdCBMRUZUX0NVUkxZX0JSQUNLRVRfVE9LRU46IFRva2VuID0ge1xuICAgIHR5cGU6IFRva2VuVHlwZS5MRUZUX0NVUkxZX0JSQUNLRVRfVE9LRU5cbn07XG5jb25zdCBSSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOOiBUb2tlbiA9IHtcbiAgICB0eXBlOiBUb2tlblR5cGUuUklHSFRfQ1VSTFlfQlJBQ0tFVF9UT0tFTlxufTtcbmNvbnN0IFNVQlNUUklOR19NQVRDSF9UT0tFTjogVG9rZW4gPSB7dHlwZTogVG9rZW5UeXBlLlNVQlNUUklOR19NQVRDSF9UT0tFTn07XG5jb25zdCBCQURfVVJMX1RPS0VOOiBUb2tlbiA9IHt0eXBlOiBUb2tlblR5cGUuQkFEX1VSTF9UT0tFTn07XG5jb25zdCBCQURfU1RSSU5HX1RPS0VOOiBUb2tlbiA9IHt0eXBlOiBUb2tlblR5cGUuQkFEX1NUUklOR19UT0tFTn07XG5jb25zdCBDRE9fVE9LRU46IFRva2VuID0ge3R5cGU6IFRva2VuVHlwZS5DRE9fVE9LRU59O1xuY29uc3QgQ0RDX1RPS0VOOiBUb2tlbiA9IHt0eXBlOiBUb2tlblR5cGUuQ0RDX1RPS0VOfTtcbmNvbnN0IENPTE9OX1RPS0VOOiBUb2tlbiA9IHt0eXBlOiBUb2tlblR5cGUuQ09MT05fVE9LRU59O1xuY29uc3QgU0VNSUNPTE9OX1RPS0VOOiBUb2tlbiA9IHt0eXBlOiBUb2tlblR5cGUuU0VNSUNPTE9OX1RPS0VOfTtcbmNvbnN0IExFRlRfU1FVQVJFX0JSQUNLRVRfVE9LRU46IFRva2VuID0ge1xuICAgIHR5cGU6IFRva2VuVHlwZS5MRUZUX1NRVUFSRV9CUkFDS0VUX1RPS0VOXG59O1xuY29uc3QgUklHSFRfU1FVQVJFX0JSQUNLRVRfVE9LRU46IFRva2VuID0ge1xuICAgIHR5cGU6IFRva2VuVHlwZS5SSUdIVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTlxufTtcbmNvbnN0IFdISVRFU1BBQ0VfVE9LRU46IFRva2VuID0ge3R5cGU6IFRva2VuVHlwZS5XSElURVNQQUNFX1RPS0VOfTtcbmV4cG9ydCBjb25zdCBFT0ZfVE9LRU46IFRva2VuID0ge3R5cGU6IFRva2VuVHlwZS5FT0ZfVE9LRU59O1xuXG5leHBvcnQgY2xhc3MgVG9rZW5pemVyIHtcbiAgICBwcml2YXRlIF92YWx1ZTogbnVtYmVyW107XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBbXTtcbiAgICB9XG5cbiAgICB3cml0ZShjaHVuazogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5fdmFsdWUuY29uY2F0KHRvQ29kZVBvaW50cyhjaHVuaykpO1xuICAgIH1cblxuICAgIHJlYWQoKTogQ1NTVG9rZW5bXSB7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IFtdO1xuICAgICAgICBsZXQgdG9rZW4gPSB0aGlzLmNvbnN1bWVUb2tlbigpO1xuICAgICAgICB3aGlsZSAodG9rZW4gIT09IEVPRl9UT0tFTikge1xuICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgdG9rZW4gPSB0aGlzLmNvbnN1bWVUb2tlbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25zdW1lVG9rZW4oKTogQ1NTVG9rZW4ge1xuICAgICAgICBjb25zdCBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcblxuICAgICAgICBzd2l0Y2ggKGNvZGVQb2ludCkge1xuICAgICAgICAgICAgY2FzZSBRVU9UQVRJT05fTUFSSzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lU3RyaW5nVG9rZW4oUVVPVEFUSU9OX01BUkspO1xuICAgICAgICAgICAgY2FzZSBOVU1CRVJfU0lHTjpcbiAgICAgICAgICAgICAgICBjb25zdCBjMSA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjMiA9IHRoaXMucGVla0NvZGVQb2ludCgxKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjMyA9IHRoaXMucGVla0NvZGVQb2ludCgyKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNOYW1lQ29kZVBvaW50KGMxKSB8fCBpc1ZhbGlkRXNjYXBlKGMyLCBjMykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmxhZ3MgPSBpc0lkZW50aWZpZXJTdGFydChjMSwgYzIsIGMzKSA/IEZMQUdfSUQgOiBGTEFHX1VOUkVTVFJJQ1RFRDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmNvbnN1bWVOYW1lKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBUb2tlblR5cGUuSEFTSF9UT0tFTiwgdmFsdWUsIGZsYWdzfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIERPTExBUl9TSUdOOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVRVUFMU19TSUdOKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1VGRklYX01BVENIX1RPS0VOO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQVBPU1RST1BIRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lU3RyaW5nVG9rZW4oQVBPU1RST1BIRSk7XG4gICAgICAgICAgICBjYXNlIExFRlRfUEFSRU5USEVTSVM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExFRlRfUEFSRU5USEVTSVNfVE9LRU47XG4gICAgICAgICAgICBjYXNlIFJJR0hUX1BBUkVOVEhFU0lTOlxuICAgICAgICAgICAgICAgIHJldHVybiBSSUdIVF9QQVJFTlRIRVNJU19UT0tFTjtcbiAgICAgICAgICAgIGNhc2UgQVNURVJJU0s6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gRVFVQUxTX1NJR04pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTVUJTVFJJTkdfTUFUQ0hfVE9LRU47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBQTFVTX1NJR046XG4gICAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyU3RhcnQoY29kZVBvaW50LCB0aGlzLnBlZWtDb2RlUG9pbnQoMCksIHRoaXMucGVla0NvZGVQb2ludCgxKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZU51bWVyaWNUb2tlbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ09NTUE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIENPTU1BX1RPS0VOO1xuICAgICAgICAgICAgY2FzZSBIWVBIRU5fTUlOVVM6XG4gICAgICAgICAgICAgICAgY29uc3QgZTEgPSBjb2RlUG9pbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZTIgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZTMgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNOdW1iZXJTdGFydChlMSwgZTIsIGUzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3VtZUNvZGVQb2ludChjb2RlUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lTnVtZXJpY1Rva2VuKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRpZmllclN0YXJ0KGUxLCBlMiwgZTMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdW1lQ29kZVBvaW50KGNvZGVQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJZGVudExpa2VUb2tlbigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChlMiA9PT0gSFlQSEVOX01JTlVTICYmIGUzID09PSBHUkVBVEVSX1RIQU5fU0lHTikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDRENfVE9LRU47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEZVTExfU1RPUDpcbiAgICAgICAgICAgICAgICBpZiAoaXNOdW1iZXJTdGFydChjb2RlUG9pbnQsIHRoaXMucGVla0NvZGVQb2ludCgwKSwgdGhpcy5wZWVrQ29kZVBvaW50KDEpKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3VtZUNvZGVQb2ludChjb2RlUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lTnVtZXJpY1Rva2VuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTT0xJRFVTOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEFTVEVSSVNLKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGMgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjID09PSBBU1RFUklTSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA9PT0gU09MSURVUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lVG9rZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA9PT0gRU9GKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZVRva2VuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENPTE9OOlxuICAgICAgICAgICAgICAgIHJldHVybiBDT0xPTl9UT0tFTjtcbiAgICAgICAgICAgIGNhc2UgU0VNSUNPTE9OOlxuICAgICAgICAgICAgICAgIHJldHVybiBTRU1JQ09MT05fVE9LRU47XG4gICAgICAgICAgICBjYXNlIExFU1NfVEhBTl9TSUdOOlxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFWENMQU1BVElPTl9NQVJLICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVla0NvZGVQb2ludCgxKSA9PT0gSFlQSEVOX01JTlVTICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVla0NvZGVQb2ludCgyKSA9PT0gSFlQSEVOX01JTlVTXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENET19UT0tFTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENPTU1FUkNJQUxfQVQ6XG4gICAgICAgICAgICAgICAgY29uc3QgYTEgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYTIgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYTMgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMik7XG4gICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRpZmllclN0YXJ0KGExLCBhMiwgYTMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5jb25zdW1lTmFtZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge3R5cGU6IFRva2VuVHlwZS5BVF9LRVlXT1JEX1RPS0VOLCB2YWx1ZX07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBMRUZUX1NRVUFSRV9CUkFDS0VUOlxuICAgICAgICAgICAgICAgIHJldHVybiBMRUZUX1NRVUFSRV9CUkFDS0VUX1RPS0VOO1xuICAgICAgICAgICAgY2FzZSBSRVZFUlNFX1NPTElEVVM6XG4gICAgICAgICAgICAgICAgaWYgKGlzVmFsaWRFc2NhcGUoY29kZVBvaW50LCB0aGlzLnBlZWtDb2RlUG9pbnQoMCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdW1lQ29kZVBvaW50KGNvZGVQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJZGVudExpa2VUb2tlbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUklHSFRfU1FVQVJFX0JSQUNLRVQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJJR0hUX1NRVUFSRV9CUkFDS0VUX1RPS0VOO1xuICAgICAgICAgICAgY2FzZSBDSVJDVU1GTEVYX0FDQ0VOVDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFUVVBTFNfU0lHTikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBSRUZJWF9NQVRDSF9UT0tFTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIExFRlRfQ1VSTFlfQlJBQ0tFVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gTEVGVF9DVVJMWV9CUkFDS0VUX1RPS0VOO1xuICAgICAgICAgICAgY2FzZSBSSUdIVF9DVVJMWV9CUkFDS0VUOlxuICAgICAgICAgICAgICAgIHJldHVybiBSSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOO1xuICAgICAgICAgICAgY2FzZSB1OlxuICAgICAgICAgICAgY2FzZSBVOlxuICAgICAgICAgICAgICAgIGNvbnN0IHUxID0gdGhpcy5wZWVrQ29kZVBvaW50KDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHUyID0gdGhpcy5wZWVrQ29kZVBvaW50KDEpO1xuICAgICAgICAgICAgICAgIGlmICh1MSA9PT0gUExVU19TSUdOICYmIChpc0hleCh1MikgfHwgdTIgPT09IFFVRVNUSU9OX01BUkspKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVVbmljb2RlUmFuZ2VUb2tlbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3VtZUNvZGVQb2ludChjb2RlUG9pbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJZGVudExpa2VUb2tlbigpO1xuICAgICAgICAgICAgY2FzZSBWRVJUSUNBTF9MSU5FOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVRVUFMU19TSUdOKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gREFTSF9NQVRDSF9UT0tFTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gVkVSVElDQUxfTElORSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENPTFVNTl9UT0tFTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRJTERFOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVRVUFMU19TSUdOKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5DTFVERV9NQVRDSF9UT0tFTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVPRjpcbiAgICAgICAgICAgICAgICByZXR1cm4gRU9GX1RPS0VOO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzV2hpdGVTcGFjZShjb2RlUG9pbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVXaGl0ZVNwYWNlKCk7XG4gICAgICAgICAgICByZXR1cm4gV0hJVEVTUEFDRV9UT0tFTjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RpZ2l0KGNvZGVQb2ludCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb25zdW1lQ29kZVBvaW50KGNvZGVQb2ludCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lTnVtZXJpY1Rva2VuKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNOYW1lU3RhcnRDb2RlUG9pbnQoY29kZVBvaW50KSkge1xuICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJZGVudExpa2VUb2tlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHt0eXBlOiBUb2tlblR5cGUuREVMSU1fVE9LRU4sIHZhbHVlOiBmcm9tQ29kZVBvaW50KGNvZGVQb2ludCl9O1xuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3VtZUNvZGVQb2ludCgpOiBudW1iZXIge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX3ZhbHVlLnNoaWZ0KCk7XG5cbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgPyAtMSA6IHZhbHVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVjb25zdW1lQ29kZVBvaW50KGNvZGVQb2ludDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlLnVuc2hpZnQoY29kZVBvaW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHBlZWtDb2RlUG9pbnQoZGVsdGE6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGlmIChkZWx0YSA+PSB0aGlzLl92YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZVtkZWx0YV07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25zdW1lVW5pY29kZVJhbmdlVG9rZW4oKTogVW5pY29kZVJhbmdlVG9rZW4ge1xuICAgICAgICBjb25zdCBkaWdpdHMgPSBbXTtcbiAgICAgICAgbGV0IGNvZGVQb2ludCA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xuICAgICAgICB3aGlsZSAoaXNIZXgoY29kZVBvaW50KSAmJiBkaWdpdHMubGVuZ3RoIDwgNikge1xuICAgICAgICAgICAgZGlnaXRzLnB1c2goY29kZVBvaW50KTtcbiAgICAgICAgICAgIGNvZGVQb2ludCA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBxdWVzdGlvbk1hcmtzID0gZmFsc2U7XG4gICAgICAgIHdoaWxlIChjb2RlUG9pbnQgPT09IFFVRVNUSU9OX01BUksgJiYgZGlnaXRzLmxlbmd0aCA8IDYpIHtcbiAgICAgICAgICAgIGRpZ2l0cy5wdXNoKGNvZGVQb2ludCk7XG4gICAgICAgICAgICBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcbiAgICAgICAgICAgIHF1ZXN0aW9uTWFya3MgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHF1ZXN0aW9uTWFya3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gcGFyc2VJbnQoZnJvbUNvZGVQb2ludCguLi5kaWdpdHMubWFwKGRpZ2l0ID0+IChkaWdpdCA9PT0gUVVFU1RJT05fTUFSSyA/IFpFUk8gOiBkaWdpdCkpKSwgMTYpO1xuICAgICAgICAgICAgY29uc3QgZW5kID0gcGFyc2VJbnQoZnJvbUNvZGVQb2ludCguLi5kaWdpdHMubWFwKGRpZ2l0ID0+IChkaWdpdCA9PT0gUVVFU1RJT05fTUFSSyA/IEYgOiBkaWdpdCkpKSwgMTYpO1xuICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBUb2tlblR5cGUuVU5JQ09ERV9SQU5HRV9UT0tFTiwgc3RhcnQsIGVuZH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGFydCA9IHBhcnNlSW50KGZyb21Db2RlUG9pbnQoLi4uZGlnaXRzKSwgMTYpO1xuICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBIWVBIRU5fTUlOVVMgJiYgaXNIZXgodGhpcy5wZWVrQ29kZVBvaW50KDEpKSkge1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XG4gICAgICAgICAgICBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcbiAgICAgICAgICAgIGNvbnN0IGVuZERpZ2l0cyA9IFtdO1xuICAgICAgICAgICAgd2hpbGUgKGlzSGV4KGNvZGVQb2ludCkgJiYgZW5kRGlnaXRzLmxlbmd0aCA8IDYpIHtcbiAgICAgICAgICAgICAgICBlbmREaWdpdHMucHVzaChjb2RlUG9pbnQpO1xuICAgICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZW5kID0gcGFyc2VJbnQoZnJvbUNvZGVQb2ludCguLi5lbmREaWdpdHMpLCAxNik7XG5cbiAgICAgICAgICAgIHJldHVybiB7dHlwZTogVG9rZW5UeXBlLlVOSUNPREVfUkFOR0VfVE9LRU4sIHN0YXJ0LCBlbmR9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBUb2tlblR5cGUuVU5JQ09ERV9SQU5HRV9UT0tFTiwgc3RhcnQsIGVuZDogc3RhcnR9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25zdW1lSWRlbnRMaWtlVG9rZW4oKTogU3RyaW5nVmFsdWVUb2tlbiB8IFRva2VuIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmNvbnN1bWVOYW1lKCk7XG4gICAgICAgIGlmICh2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAndXJsJyAmJiB0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IExFRlRfUEFSRU5USEVTSVMpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZVVybFRva2VuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBMRUZUX1BBUkVOVEhFU0lTKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcbiAgICAgICAgICAgIHJldHVybiB7dHlwZTogVG9rZW5UeXBlLkZVTkNUSU9OX1RPS0VOLCB2YWx1ZX07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge3R5cGU6IFRva2VuVHlwZS5JREVOVF9UT0tFTiwgdmFsdWV9O1xuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3VtZVVybFRva2VuKCk6IFN0cmluZ1ZhbHVlVG9rZW4gfCBUb2tlbiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gW107XG4gICAgICAgIHRoaXMuY29uc3VtZVdoaXRlU3BhY2UoKTtcblxuICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFT0YpIHtcbiAgICAgICAgICAgIHJldHVybiB7dHlwZTogVG9rZW5UeXBlLlVSTF9UT0tFTiwgdmFsdWU6ICcnfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMCk7XG4gICAgICAgIGlmIChuZXh0ID09PSBBUE9TVFJPUEhFIHx8IG5leHQgPT09IFFVT1RBVElPTl9NQVJLKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpbmdUb2tlbiA9IHRoaXMuY29uc3VtZVN0cmluZ1Rva2VuKHRoaXMuY29uc3VtZUNvZGVQb2ludCgpKTtcbiAgICAgICAgICAgIGlmIChzdHJpbmdUb2tlbi50eXBlID09PSBUb2tlblR5cGUuU1RSSU5HX1RPS0VOKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lV2hpdGVTcGFjZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gRU9GIHx8IHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gUklHSFRfUEFSRU5USEVTSVMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7dHlwZTogVG9rZW5UeXBlLlVSTF9UT0tFTiwgdmFsdWU6IHN0cmluZ1Rva2VuLnZhbHVlfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUJhZFVybFJlbW5hbnRzKCk7XG4gICAgICAgICAgICByZXR1cm4gQkFEX1VSTF9UT0tFTjtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcbiAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPT09IEVPRiB8fCBjb2RlUG9pbnQgPT09IFJJR0hUX1BBUkVOVEhFU0lTKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBUb2tlblR5cGUuVVJMX1RPS0VOLCB2YWx1ZTogZnJvbUNvZGVQb2ludCguLi52YWx1ZSl9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1doaXRlU3BhY2UoY29kZVBvaW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZVdoaXRlU3BhY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFT0YgfHwgdGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBSSUdIVF9QQVJFTlRIRVNJUykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBUb2tlblR5cGUuVVJMX1RPS0VOLCB2YWx1ZTogZnJvbUNvZGVQb2ludCguLi52YWx1ZSl9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVCYWRVcmxSZW1uYW50cygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBCQURfVVJMX1RPS0VOO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPT09IFFVT1RBVElPTl9NQVJLIHx8XG4gICAgICAgICAgICAgICAgY29kZVBvaW50ID09PSBBUE9TVFJPUEhFIHx8XG4gICAgICAgICAgICAgICAgY29kZVBvaW50ID09PSBMRUZUX1BBUkVOVEhFU0lTIHx8XG4gICAgICAgICAgICAgICAgaXNOb25QcmludGFibGVDb2RlUG9pbnQoY29kZVBvaW50KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQmFkVXJsUmVtbmFudHMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gQkFEX1VSTF9UT0tFTjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID09PSBSRVZFUlNFX1NPTElEVVMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZEVzY2FwZShjb2RlUG9pbnQsIHRoaXMucGVla0NvZGVQb2ludCgwKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUucHVzaCh0aGlzLmNvbnN1bWVFc2NhcGVkQ29kZVBvaW50KCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUJhZFVybFJlbW5hbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCQURfVVJMX1RPS0VOO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUucHVzaChjb2RlUG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25zdW1lV2hpdGVTcGFjZSgpOiB2b2lkIHtcbiAgICAgICAgd2hpbGUgKGlzV2hpdGVTcGFjZSh0aGlzLnBlZWtDb2RlUG9pbnQoMCkpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3VtZUJhZFVybFJlbW5hbnRzKCk6IHZvaWQge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgbGV0IGNvZGVQb2ludCA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA9PT0gUklHSFRfUEFSRU5USEVTSVMgfHwgY29kZVBvaW50ID09PSBFT0YpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc1ZhbGlkRXNjYXBlKGNvZGVQb2ludCwgdGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUVzY2FwZWRDb2RlUG9pbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3VtZVN0cmluZ1NsaWNlKGNvdW50OiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBTTElDRV9TVEFDS19TSVpFID0gNjAwMDA7XG4gICAgICAgIGxldCB2YWx1ZSA9ICcnO1xuICAgICAgICB3aGlsZSAoY291bnQgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBhbW91bnQgPSBNYXRoLm1pbihTTElDRV9TVEFDS19TSVpFLCBjb3VudCk7XG4gICAgICAgICAgICB2YWx1ZSArPSBmcm9tQ29kZVBvaW50KC4uLnRoaXMuX3ZhbHVlLnNwbGljZSgwLCBhbW91bnQpKTtcbiAgICAgICAgICAgIGNvdW50IC09IGFtb3VudDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92YWx1ZS5zaGlmdCgpO1xuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbnN1bWVTdHJpbmdUb2tlbihlbmRpbmdDb2RlUG9pbnQ6IG51bWJlcik6IFN0cmluZ1ZhbHVlVG9rZW4gfCBUb2tlbiB7XG4gICAgICAgIGxldCB2YWx1ZSA9ICcnO1xuICAgICAgICBsZXQgaSA9IDA7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY29uc3QgY29kZVBvaW50ID0gdGhpcy5fdmFsdWVbaV07XG4gICAgICAgICAgICBpZiAoY29kZVBvaW50ID09PSBFT0YgfHwgY29kZVBvaW50ID09PSB1bmRlZmluZWQgfHwgY29kZVBvaW50ID09PSBlbmRpbmdDb2RlUG9pbnQpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSB0aGlzLmNvbnN1bWVTdHJpbmdTbGljZShpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge3R5cGU6IFRva2VuVHlwZS5TVFJJTkdfVE9LRU4sIHZhbHVlfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA9PT0gTElORV9GRUVEKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUuc3BsaWNlKDAsIGkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBCQURfU1RSSU5HX1RPS0VOO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29kZVBvaW50ID09PSBSRVZFUlNFX1NPTElEVVMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy5fdmFsdWVbaSArIDFdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSBFT0YgJiYgbmV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID09PSBMSU5FX0ZFRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuY29uc3VtZVN0cmluZ1NsaWNlKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1ZhbGlkRXNjYXBlKGNvZGVQb2ludCwgbmV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuY29uc3VtZVN0cmluZ1NsaWNlKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gZnJvbUNvZGVQb2ludCh0aGlzLmNvbnN1bWVFc2NhcGVkQ29kZVBvaW50KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3VtZU51bWJlcigpIHtcbiAgICAgICAgbGV0IHJlcHIgPSBbXTtcbiAgICAgICAgbGV0IHR5cGUgPSBGTEFHX0lOVEVHRVI7XG4gICAgICAgIGxldCBjMSA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcbiAgICAgICAgaWYgKGMxID09PSBQTFVTX1NJR04gfHwgYzEgPT09IEhZUEhFTl9NSU5VUykge1xuICAgICAgICAgICAgcmVwci5wdXNoKHRoaXMuY29uc3VtZUNvZGVQb2ludCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChpc0RpZ2l0KHRoaXMucGVla0NvZGVQb2ludCgwKSkpIHtcbiAgICAgICAgICAgIHJlcHIucHVzaCh0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgYzEgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMCk7XG4gICAgICAgIGxldCBjMiA9IHRoaXMucGVla0NvZGVQb2ludCgxKTtcbiAgICAgICAgaWYgKGMxID09PSBGVUxMX1NUT1AgJiYgaXNEaWdpdChjMikpIHtcbiAgICAgICAgICAgIHJlcHIucHVzaCh0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKSwgdGhpcy5jb25zdW1lQ29kZVBvaW50KCkpO1xuICAgICAgICAgICAgdHlwZSA9IEZMQUdfTlVNQkVSO1xuICAgICAgICAgICAgd2hpbGUgKGlzRGlnaXQodGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xuICAgICAgICAgICAgICAgIHJlcHIucHVzaCh0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjMSA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcbiAgICAgICAgYzIgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XG4gICAgICAgIGxldCBjMyA9IHRoaXMucGVla0NvZGVQb2ludCgyKTtcbiAgICAgICAgaWYgKChjMSA9PT0gRSB8fCBjMSA9PT0gZSkgJiYgKCgoYzIgPT09IFBMVVNfU0lHTiB8fCBjMiA9PT0gSFlQSEVOX01JTlVTKSAmJiBpc0RpZ2l0KGMzKSkgfHwgaXNEaWdpdChjMikpKSB7XG4gICAgICAgICAgICByZXByLnB1c2godGhpcy5jb25zdW1lQ29kZVBvaW50KCksIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpKTtcbiAgICAgICAgICAgIHR5cGUgPSBGTEFHX05VTUJFUjtcbiAgICAgICAgICAgIHdoaWxlIChpc0RpZ2l0KHRoaXMucGVla0NvZGVQb2ludCgwKSkpIHtcbiAgICAgICAgICAgICAgICByZXByLnB1c2godGhpcy5jb25zdW1lQ29kZVBvaW50KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtzdHJpbmdUb051bWJlcihyZXByKSwgdHlwZV07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25zdW1lTnVtZXJpY1Rva2VuKCk6IE51bWJlclZhbHVlVG9rZW4gfCBEaW1lbnNpb25Ub2tlbiB7XG4gICAgICAgIGNvbnN0IFtudW1iZXIsIGZsYWdzXSA9IHRoaXMuY29uc3VtZU51bWJlcigpO1xuICAgICAgICBjb25zdCBjMSA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcbiAgICAgICAgY29uc3QgYzIgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XG4gICAgICAgIGNvbnN0IGMzID0gdGhpcy5wZWVrQ29kZVBvaW50KDIpO1xuXG4gICAgICAgIGlmIChpc0lkZW50aWZpZXJTdGFydChjMSwgYzIsIGMzKSkge1xuICAgICAgICAgICAgbGV0IHVuaXQgPSB0aGlzLmNvbnN1bWVOYW1lKCk7XG4gICAgICAgICAgICByZXR1cm4ge3R5cGU6IFRva2VuVHlwZS5ESU1FTlNJT05fVE9LRU4sIG51bWJlciwgZmxhZ3MsIHVuaXR9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMxID09PSBQRVJDRU5UQUdFX1NJR04pIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xuICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTiwgbnVtYmVyLCBmbGFnc307XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge3R5cGU6IFRva2VuVHlwZS5OVU1CRVJfVE9LRU4sIG51bWJlciwgZmxhZ3N9O1xuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3VtZUVzY2FwZWRDb2RlUG9pbnQoKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XG5cbiAgICAgICAgaWYgKGlzSGV4KGNvZGVQb2ludCkpIHtcbiAgICAgICAgICAgIGxldCBoZXggPSBmcm9tQ29kZVBvaW50KGNvZGVQb2ludCk7XG4gICAgICAgICAgICB3aGlsZSAoaXNIZXgodGhpcy5wZWVrQ29kZVBvaW50KDApKSAmJiBoZXgubGVuZ3RoIDwgNikge1xuICAgICAgICAgICAgICAgIGhleCArPSBmcm9tQ29kZVBvaW50KHRoaXMuY29uc3VtZUNvZGVQb2ludCgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzV2hpdGVTcGFjZSh0aGlzLnBlZWtDb2RlUG9pbnQoMCkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGhleENvZGVQb2ludCA9IHBhcnNlSW50KGhleCwgMTYpO1xuXG4gICAgICAgICAgICBpZiAoaGV4Q29kZVBvaW50ID09PSAwIHx8IGlzU3Vycm9nYXRlQ29kZVBvaW50KGhleENvZGVQb2ludCkgfHwgaGV4Q29kZVBvaW50ID4gMHgxMGZmZmYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUkVQTEFDRU1FTlRfQ0hBUkFDVEVSO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaGV4Q29kZVBvaW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvZGVQb2ludCA9PT0gRU9GKSB7XG4gICAgICAgICAgICByZXR1cm4gUkVQTEFDRU1FTlRfQ0hBUkFDVEVSO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvZGVQb2ludDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbnN1bWVOYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIGxldCByZXN1bHQgPSAnJztcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvZGVQb2ludCA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xuICAgICAgICAgICAgaWYgKGlzTmFtZUNvZGVQb2ludChjb2RlUG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGZyb21Db2RlUG9pbnQoY29kZVBvaW50KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNWYWxpZEVzY2FwZShjb2RlUG9pbnQsIHRoaXMucGVla0NvZGVQb2ludCgwKSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gZnJvbUNvZGVQb2ludCh0aGlzLmNvbnN1bWVFc2NhcGVkQ29kZVBvaW50KCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3VtZUNvZGVQb2ludChjb2RlUG9pbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge1xuICAgIENTU1Rva2VuLFxuICAgIERpbWVuc2lvblRva2VuLFxuICAgIEVPRl9UT0tFTixcbiAgICBOdW1iZXJWYWx1ZVRva2VuLFxuICAgIFN0cmluZ1ZhbHVlVG9rZW4sXG4gICAgVG9rZW5pemVyLFxuICAgIFRva2VuVHlwZVxufSBmcm9tICcuL3Rva2VuaXplcic7XG5cbmV4cG9ydCB0eXBlIENTU0Jsb2NrVHlwZSA9XG4gICAgfCBUb2tlblR5cGUuTEVGVF9QQVJFTlRIRVNJU19UT0tFTlxuICAgIHwgVG9rZW5UeXBlLkxFRlRfU1FVQVJFX0JSQUNLRVRfVE9LRU5cbiAgICB8IFRva2VuVHlwZS5MRUZUX0NVUkxZX0JSQUNLRVRfVE9LRU47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ1NTQmxvY2sge1xuICAgIHR5cGU6IENTU0Jsb2NrVHlwZTtcbiAgICB2YWx1ZXM6IENTU1ZhbHVlW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ1NTRnVuY3Rpb24ge1xuICAgIHR5cGU6IFRva2VuVHlwZS5GVU5DVElPTjtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdmFsdWVzOiBDU1NWYWx1ZVtdO1xufVxuXG5leHBvcnQgdHlwZSBDU1NWYWx1ZSA9IENTU0Z1bmN0aW9uIHwgQ1NTVG9rZW4gfCBDU1NCbG9jaztcblxuZXhwb3J0IGNsYXNzIFBhcnNlciB7XG4gICAgcHJpdmF0ZSBfdG9rZW5zOiBDU1NUb2tlbltdO1xuXG4gICAgY29uc3RydWN0b3IodG9rZW5zOiBDU1NUb2tlbltdKSB7XG4gICAgICAgIHRoaXMuX3Rva2VucyA9IHRva2VucztcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlKHZhbHVlOiBzdHJpbmcpOiBQYXJzZXIge1xuICAgICAgICBjb25zdCB0b2tlbml6ZXIgPSBuZXcgVG9rZW5pemVyKCk7XG4gICAgICAgIHRva2VuaXplci53cml0ZSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgUGFyc2VyKHRva2VuaXplci5yZWFkKCkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZVZhbHVlKHZhbHVlOiBzdHJpbmcpOiBDU1NWYWx1ZSB7XG4gICAgICAgIHJldHVybiBQYXJzZXIuY3JlYXRlKHZhbHVlKS5wYXJzZUNvbXBvbmVudFZhbHVlKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlVmFsdWVzKHZhbHVlOiBzdHJpbmcpOiBDU1NWYWx1ZVtdIHtcbiAgICAgICAgcmV0dXJuIFBhcnNlci5jcmVhdGUodmFsdWUpLnBhcnNlQ29tcG9uZW50VmFsdWVzKCk7XG4gICAgfVxuXG4gICAgcGFyc2VDb21wb25lbnRWYWx1ZSgpOiBDU1NWYWx1ZSB7XG4gICAgICAgIGxldCB0b2tlbiA9IHRoaXMuY29uc3VtZVRva2VuKCk7XG4gICAgICAgIHdoaWxlICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuV0hJVEVTUEFDRV9UT0tFTikge1xuICAgICAgICAgICAgdG9rZW4gPSB0aGlzLmNvbnN1bWVUb2tlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5FT0ZfVE9LRU4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgRXJyb3IgcGFyc2luZyBDU1MgY29tcG9uZW50IHZhbHVlLCB1bmV4cGVjdGVkIEVPRmApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWNvbnN1bWVUb2tlbih0b2tlbik7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5jb25zdW1lQ29tcG9uZW50VmFsdWUoKTtcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgICB0b2tlbiA9IHRoaXMuY29uc3VtZVRva2VuKCk7XG4gICAgICAgIH0gd2hpbGUgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5XSElURVNQQUNFX1RPS0VOKTtcblxuICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLkVPRl9UT0tFTikge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGBFcnJvciBwYXJzaW5nIENTUyBjb21wb25lbnQgdmFsdWUsIG11bHRpcGxlIHZhbHVlcyBmb3VuZCB3aGVuIGV4cGVjdGluZyBvbmx5IG9uZWApO1xuICAgIH1cblxuICAgIHBhcnNlQ29tcG9uZW50VmFsdWVzKCk6IENTU1ZhbHVlW10ge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuY29uc3VtZUNvbXBvbmVudFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAodmFsdWUudHlwZSA9PT0gVG9rZW5UeXBlLkVPRl9UT0tFTikge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25zdW1lQ29tcG9uZW50VmFsdWUoKTogQ1NTVmFsdWUge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHRoaXMuY29uc3VtZVRva2VuKCk7XG5cbiAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5MRUZUX0NVUkxZX0JSQUNLRVRfVE9LRU46XG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5MRUZUX1NRVUFSRV9CUkFDS0VUX1RPS0VOOlxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuTEVGVF9QQVJFTlRIRVNJU19UT0tFTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lU2ltcGxlQmxvY2sodG9rZW4udHlwZSk7XG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5GVU5DVElPTl9UT0tFTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lRnVuY3Rpb24odG9rZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3VtZVNpbXBsZUJsb2NrKHR5cGU6IENTU0Jsb2NrVHlwZSk6IENTU0Jsb2NrIHtcbiAgICAgICAgY29uc3QgYmxvY2s6IENTU0Jsb2NrID0ge3R5cGUsIHZhbHVlczogW119O1xuXG4gICAgICAgIGxldCB0b2tlbiA9IHRoaXMuY29uc3VtZVRva2VuKCk7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLkVPRl9UT0tFTiB8fCBpc0VuZGluZ1Rva2VuRm9yKHRva2VuLCB0eXBlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBibG9jaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVUb2tlbih0b2tlbik7XG4gICAgICAgICAgICBibG9jay52YWx1ZXMucHVzaCh0aGlzLmNvbnN1bWVDb21wb25lbnRWYWx1ZSgpKTtcbiAgICAgICAgICAgIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3VtZUZ1bmN0aW9uKGZ1bmN0aW9uVG9rZW46IFN0cmluZ1ZhbHVlVG9rZW4pOiBDU1NGdW5jdGlvbiB7XG4gICAgICAgIGNvbnN0IGNzc0Z1bmN0aW9uOiBDU1NGdW5jdGlvbiA9IHtcbiAgICAgICAgICAgIG5hbWU6IGZ1bmN0aW9uVG9rZW4udmFsdWUsXG4gICAgICAgICAgICB2YWx1ZXM6IFtdLFxuICAgICAgICAgICAgdHlwZTogVG9rZW5UeXBlLkZVTkNUSU9OXG4gICAgICAgIH07XG5cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRU9GX1RPS0VOIHx8IHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5SSUdIVF9QQVJFTlRIRVNJU19UT0tFTikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjc3NGdW5jdGlvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVUb2tlbih0b2tlbik7XG4gICAgICAgICAgICBjc3NGdW5jdGlvbi52YWx1ZXMucHVzaCh0aGlzLmNvbnN1bWVDb21wb25lbnRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3VtZVRva2VuKCk6IENTU1Rva2VuIHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSB0aGlzLl90b2tlbnMuc2hpZnQoKTtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0b2tlbiA9PT0gJ3VuZGVmaW5lZCcgPyBFT0ZfVE9LRU4gOiB0b2tlbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlY29uc3VtZVRva2VuKHRva2VuOiBDU1NUb2tlbik6IHZvaWQge1xuICAgICAgICB0aGlzLl90b2tlbnMudW5zaGlmdCh0b2tlbik7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgaXNEaW1lbnNpb25Ub2tlbiA9ICh0b2tlbjogQ1NTVmFsdWUpOiB0b2tlbiBpcyBEaW1lbnNpb25Ub2tlbiA9PiB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRElNRU5TSU9OX1RPS0VOO1xuZXhwb3J0IGNvbnN0IGlzTnVtYmVyVG9rZW4gPSAodG9rZW46IENTU1ZhbHVlKTogdG9rZW4gaXMgTnVtYmVyVmFsdWVUb2tlbiA9PiB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOO1xuZXhwb3J0IGNvbnN0IGlzSWRlbnRUb2tlbiA9ICh0b2tlbjogQ1NTVmFsdWUpOiB0b2tlbiBpcyBTdHJpbmdWYWx1ZVRva2VuID0+IHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTjtcbmV4cG9ydCBjb25zdCBpc1N0cmluZ1Rva2VuID0gKHRva2VuOiBDU1NWYWx1ZSk6IHRva2VuIGlzIFN0cmluZ1ZhbHVlVG9rZW4gPT4gdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlNUUklOR19UT0tFTjtcbmV4cG9ydCBjb25zdCBpc0lkZW50V2l0aFZhbHVlID0gKHRva2VuOiBDU1NWYWx1ZSwgdmFsdWU6IHN0cmluZyk6IGJvb2xlYW4gPT5cbiAgICBpc0lkZW50VG9rZW4odG9rZW4pICYmIHRva2VuLnZhbHVlID09PSB2YWx1ZTtcblxuZXhwb3J0IGNvbnN0IG5vbldoaXRlU3BhY2UgPSAodG9rZW46IENTU1ZhbHVlKSA9PiB0b2tlbi50eXBlICE9PSBUb2tlblR5cGUuV0hJVEVTUEFDRV9UT0tFTjtcbmV4cG9ydCBjb25zdCBub25GdW5jdGlvbkFyZ1NlcGFyYXRvciA9ICh0b2tlbjogQ1NTVmFsdWUpID0+XG4gICAgdG9rZW4udHlwZSAhPT0gVG9rZW5UeXBlLldISVRFU1BBQ0VfVE9LRU4gJiYgdG9rZW4udHlwZSAhPT0gVG9rZW5UeXBlLkNPTU1BX1RPS0VOO1xuXG5leHBvcnQgY29uc3QgcGFyc2VGdW5jdGlvbkFyZ3MgPSAodG9rZW5zOiBDU1NWYWx1ZVtdKTogQ1NTVmFsdWVbXVtdID0+IHtcbiAgICBjb25zdCBhcmdzOiBDU1NWYWx1ZVtdW10gPSBbXTtcbiAgICBsZXQgYXJnOiBDU1NWYWx1ZVtdID0gW107XG4gICAgdG9rZW5zLmZvckVhY2godG9rZW4gPT4ge1xuICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLkNPTU1BX1RPS0VOKSB7XG4gICAgICAgICAgICBpZiAoYXJnLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgcGFyc2luZyBmdW5jdGlvbiBhcmdzLCB6ZXJvIHRva2VucyBmb3IgYXJnYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcmdzLnB1c2goYXJnKTtcbiAgICAgICAgICAgIGFyZyA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRva2VuLnR5cGUgIT09IFRva2VuVHlwZS5XSElURVNQQUNFX1RPS0VOKSB7XG4gICAgICAgICAgICBhcmcucHVzaCh0b2tlbik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoYXJnLmxlbmd0aCkge1xuICAgICAgICBhcmdzLnB1c2goYXJnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJncztcbn07XG5cbmNvbnN0IGlzRW5kaW5nVG9rZW5Gb3IgPSAodG9rZW46IENTU1Rva2VuLCB0eXBlOiBDU1NCbG9ja1R5cGUpOiBib29sZWFuID0+IHtcbiAgICBpZiAodHlwZSA9PT0gVG9rZW5UeXBlLkxFRlRfQ1VSTFlfQlJBQ0tFVF9UT0tFTiAmJiB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuUklHSFRfQ1VSTFlfQlJBQ0tFVF9UT0tFTikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFRva2VuVHlwZS5MRUZUX1NRVUFSRV9CUkFDS0VUX1RPS0VOICYmIHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5SSUdIVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHlwZSA9PT0gVG9rZW5UeXBlLkxFRlRfUEFSRU5USEVTSVNfVE9LRU4gJiYgdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlJJR0hUX1BBUkVOVEhFU0lTX1RPS0VOO1xufTtcbiIsImltcG9ydCB7Q1NTVmFsdWV9IGZyb20gJy4uL3N5bnRheC9wYXJzZXInO1xuaW1wb3J0IHtEaW1lbnNpb25Ub2tlbiwgTnVtYmVyVmFsdWVUb2tlbiwgVG9rZW5UeXBlfSBmcm9tICcuLi9zeW50YXgvdG9rZW5pemVyJztcblxuZXhwb3J0IHR5cGUgTGVuZ3RoID0gRGltZW5zaW9uVG9rZW4gfCBOdW1iZXJWYWx1ZVRva2VuO1xuXG5leHBvcnQgY29uc3QgaXNMZW5ndGggPSAodG9rZW46IENTU1ZhbHVlKTogdG9rZW4gaXMgTGVuZ3RoID0+XG4gICAgdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLk5VTUJFUl9UT0tFTiB8fCB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRElNRU5TSU9OX1RPS0VOO1xuIiwiaW1wb3J0IHtEaW1lbnNpb25Ub2tlbiwgRkxBR19JTlRFR0VSLCBOdW1iZXJWYWx1ZVRva2VuLCBUb2tlblR5cGV9IGZyb20gJy4uL3N5bnRheC90b2tlbml6ZXInO1xuaW1wb3J0IHtDU1NWYWx1ZSwgaXNEaW1lbnNpb25Ub2tlbn0gZnJvbSAnLi4vc3ludGF4L3BhcnNlcic7XG5pbXBvcnQge2lzTGVuZ3RofSBmcm9tICcuL2xlbmd0aCc7XG5leHBvcnQgdHlwZSBMZW5ndGhQZXJjZW50YWdlID0gRGltZW5zaW9uVG9rZW4gfCBOdW1iZXJWYWx1ZVRva2VuO1xuZXhwb3J0IHR5cGUgTGVuZ3RoUGVyY2VudGFnZVR1cGxlID0gW0xlbmd0aFBlcmNlbnRhZ2VdIHwgW0xlbmd0aFBlcmNlbnRhZ2UsIExlbmd0aFBlcmNlbnRhZ2VdO1xuXG5leHBvcnQgY29uc3QgaXNMZW5ndGhQZXJjZW50YWdlID0gKHRva2VuOiBDU1NWYWx1ZSk6IHRva2VuIGlzIExlbmd0aFBlcmNlbnRhZ2UgPT5cbiAgICB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTiB8fCBpc0xlbmd0aCh0b2tlbik7XG5leHBvcnQgY29uc3QgcGFyc2VMZW5ndGhQZXJjZW50YWdlVHVwbGUgPSAodG9rZW5zOiBMZW5ndGhQZXJjZW50YWdlW10pOiBMZW5ndGhQZXJjZW50YWdlVHVwbGUgPT5cbiAgICB0b2tlbnMubGVuZ3RoID4gMSA/IFt0b2tlbnNbMF0sIHRva2Vuc1sxXV0gOiBbdG9rZW5zWzBdXTtcbmV4cG9ydCBjb25zdCBaRVJPX0xFTkdUSDogTnVtYmVyVmFsdWVUb2tlbiA9IHtcbiAgICB0eXBlOiBUb2tlblR5cGUuTlVNQkVSX1RPS0VOLFxuICAgIG51bWJlcjogMCxcbiAgICBmbGFnczogRkxBR19JTlRFR0VSXG59O1xuXG5leHBvcnQgY29uc3QgRklGVFlfUEVSQ0VOVDogTnVtYmVyVmFsdWVUb2tlbiA9IHtcbiAgICB0eXBlOiBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTixcbiAgICBudW1iZXI6IDUwLFxuICAgIGZsYWdzOiBGTEFHX0lOVEVHRVJcbn07XG5cbmV4cG9ydCBjb25zdCBIVU5EUkVEX1BFUkNFTlQ6IE51bWJlclZhbHVlVG9rZW4gPSB7XG4gICAgdHlwZTogVG9rZW5UeXBlLlBFUkNFTlRBR0VfVE9LRU4sXG4gICAgbnVtYmVyOiAxMDAsXG4gICAgZmxhZ3M6IEZMQUdfSU5URUdFUlxufTtcblxuZXhwb3J0IGNvbnN0IGdldEFic29sdXRlVmFsdWVGb3JUdXBsZSA9IChcbiAgICB0dXBsZTogTGVuZ3RoUGVyY2VudGFnZVR1cGxlLFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXJcbik6IFtudW1iZXIsIG51bWJlcl0gPT4ge1xuICAgIGxldCBbeCwgeV0gPSB0dXBsZTtcbiAgICByZXR1cm4gW2dldEFic29sdXRlVmFsdWUoeCwgd2lkdGgpLCBnZXRBYnNvbHV0ZVZhbHVlKHR5cGVvZiB5ICE9PSAndW5kZWZpbmVkJyA/IHkgOiB4LCBoZWlnaHQpXTtcbn07XG5leHBvcnQgY29uc3QgZ2V0QWJzb2x1dGVWYWx1ZSA9ICh0b2tlbjogTGVuZ3RoUGVyY2VudGFnZSwgcGFyZW50OiBudW1iZXIpID0+IHtcbiAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlBFUkNFTlRBR0VfVE9LRU4pIHtcbiAgICAgICAgcmV0dXJuICh0b2tlbi5udW1iZXIgLyAxMDApICogcGFyZW50O1xuICAgIH1cblxuICAgIGlmIChpc0RpbWVuc2lvblRva2VuKHRva2VuKSkge1xuICAgICAgICBzd2l0Y2ggKHRva2VuLnVuaXQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JlbSc6XG4gICAgICAgICAgICBjYXNlICdlbSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE2ICogdG9rZW4ubnVtYmVyOyAvLyBUT0RPIHVzZSBjb3JyZWN0IGZvbnQtc2l6ZVxuICAgICAgICAgICAgY2FzZSAncHgnOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4ubnVtYmVyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRva2VuLm51bWJlcjtcbn07XG4iLCJpbXBvcnQge0NTU1ZhbHVlLCBpc0lkZW50VG9rZW59IGZyb20gJy4uL3N5bnRheC9wYXJzZXInO1xuaW1wb3J0IHtUb2tlblR5cGV9IGZyb20gJy4uL3N5bnRheC90b2tlbml6ZXInO1xuaW1wb3J0IHtJVHlwZURlc2NyaXB0b3J9IGZyb20gJy4uL0lUeXBlRGVzY3JpcHRvcic7XG5pbXBvcnQge0hVTkRSRURfUEVSQ0VOVCwgWkVST19MRU5HVEh9IGZyb20gJy4vbGVuZ3RoLXBlcmNlbnRhZ2UnO1xuaW1wb3J0IHtHcmFkaWVudENvcm5lcn0gZnJvbSAnLi9pbWFnZSc7XG5cbmNvbnN0IERFRyA9ICdkZWcnO1xuY29uc3QgR1JBRCA9ICdncmFkJztcbmNvbnN0IFJBRCA9ICdyYWQnO1xuY29uc3QgVFVSTiA9ICd0dXJuJztcblxuZXhwb3J0IGNvbnN0IGFuZ2xlOiBJVHlwZURlc2NyaXB0b3I8bnVtYmVyPiA9IHtcbiAgICBuYW1lOiAnYW5nbGUnLFxuICAgIHBhcnNlOiAodmFsdWU6IENTU1ZhbHVlKTogbnVtYmVyID0+IHtcbiAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IFRva2VuVHlwZS5ESU1FTlNJT05fVE9LRU4pIHtcbiAgICAgICAgICAgIHN3aXRjaCAodmFsdWUudW5pdCkge1xuICAgICAgICAgICAgICAgIGNhc2UgREVHOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKE1hdGguUEkgKiB2YWx1ZS5udW1iZXIpIC8gMTgwO1xuICAgICAgICAgICAgICAgIGNhc2UgR1JBRDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChNYXRoLlBJIC8gMjAwKSAqIHZhbHVlLm51bWJlcjtcbiAgICAgICAgICAgICAgICBjYXNlIFJBRDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm51bWJlcjtcbiAgICAgICAgICAgICAgICBjYXNlIFRVUk46XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLlBJICogMiAqIHZhbHVlLm51bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgYW5nbGUgdHlwZWApO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBpc0FuZ2xlID0gKHZhbHVlOiBDU1NWYWx1ZSk6IGJvb2xlYW4gPT4ge1xuICAgIGlmICh2YWx1ZS50eXBlID09PSBUb2tlblR5cGUuRElNRU5TSU9OX1RPS0VOKSB7XG4gICAgICAgIGlmICh2YWx1ZS51bml0ID09PSBERUcgfHwgdmFsdWUudW5pdCA9PT0gR1JBRCB8fCB2YWx1ZS51bml0ID09PSBSQUQgfHwgdmFsdWUudW5pdCA9PT0gVFVSTikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlTmFtZWRTaWRlID0gKHRva2VuczogQ1NTVmFsdWVbXSk6IG51bWJlciB8IEdyYWRpZW50Q29ybmVyID0+IHtcbiAgICBjb25zdCBzaWRlT3JDb3JuZXIgPSB0b2tlbnNcbiAgICAgICAgLmZpbHRlcihpc0lkZW50VG9rZW4pXG4gICAgICAgIC5tYXAoaWRlbnQgPT4gaWRlbnQudmFsdWUpXG4gICAgICAgIC5qb2luKCcgJyk7XG5cbiAgICBzd2l0Y2ggKHNpZGVPckNvcm5lcikge1xuICAgICAgICBjYXNlICd0byBib3R0b20gcmlnaHQnOlxuICAgICAgICBjYXNlICd0byByaWdodCBib3R0b20nOlxuICAgICAgICBjYXNlICdsZWZ0IHRvcCc6XG4gICAgICAgIGNhc2UgJ3RvcCBsZWZ0JzpcbiAgICAgICAgICAgIHJldHVybiBbWkVST19MRU5HVEgsIFpFUk9fTEVOR1RIXTtcbiAgICAgICAgY2FzZSAndG8gdG9wJzpcbiAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgIHJldHVybiBkZWcoMCk7XG4gICAgICAgIGNhc2UgJ3RvIGJvdHRvbSBsZWZ0JzpcbiAgICAgICAgY2FzZSAndG8gbGVmdCBib3R0b20nOlxuICAgICAgICBjYXNlICdyaWdodCB0b3AnOlxuICAgICAgICBjYXNlICd0b3AgcmlnaHQnOlxuICAgICAgICAgICAgcmV0dXJuIFtaRVJPX0xFTkdUSCwgSFVORFJFRF9QRVJDRU5UXTtcbiAgICAgICAgY2FzZSAndG8gcmlnaHQnOlxuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgIHJldHVybiBkZWcoOTApO1xuICAgICAgICBjYXNlICd0byB0b3AgbGVmdCc6XG4gICAgICAgIGNhc2UgJ3RvIGxlZnQgdG9wJzpcbiAgICAgICAgY2FzZSAncmlnaHQgYm90dG9tJzpcbiAgICAgICAgY2FzZSAnYm90dG9tIHJpZ2h0JzpcbiAgICAgICAgICAgIHJldHVybiBbSFVORFJFRF9QRVJDRU5ULCBIVU5EUkVEX1BFUkNFTlRdO1xuICAgICAgICBjYXNlICd0byBib3R0b20nOlxuICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgcmV0dXJuIGRlZygxODApO1xuICAgICAgICBjYXNlICd0byB0b3AgcmlnaHQnOlxuICAgICAgICBjYXNlICd0byByaWdodCB0b3AnOlxuICAgICAgICBjYXNlICdsZWZ0IGJvdHRvbSc6XG4gICAgICAgIGNhc2UgJ2JvdHRvbSBsZWZ0JzpcbiAgICAgICAgICAgIHJldHVybiBbSFVORFJFRF9QRVJDRU5ULCBaRVJPX0xFTkdUSF07XG4gICAgICAgIGNhc2UgJ3RvIGxlZnQnOlxuICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICByZXR1cm4gZGVnKDI3MCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG59O1xuXG5leHBvcnQgY29uc3QgZGVnID0gKGRlZzogbnVtYmVyKTogbnVtYmVyID0+IChNYXRoLlBJICogZGVnKSAvIDE4MDtcbiIsImltcG9ydCB7Q1NTVmFsdWUsIG5vbkZ1bmN0aW9uQXJnU2VwYXJhdG9yfSBmcm9tICcuLi9zeW50YXgvcGFyc2VyJztcbmltcG9ydCB7VG9rZW5UeXBlfSBmcm9tICcuLi9zeW50YXgvdG9rZW5pemVyJztcbmltcG9ydCB7SVR5cGVEZXNjcmlwdG9yfSBmcm9tICcuLi9JVHlwZURlc2NyaXB0b3InO1xuaW1wb3J0IHthbmdsZSwgZGVnfSBmcm9tICcuL2FuZ2xlJztcbmltcG9ydCB7Z2V0QWJzb2x1dGVWYWx1ZSwgaXNMZW5ndGhQZXJjZW50YWdlfSBmcm9tICcuL2xlbmd0aC1wZXJjZW50YWdlJztcbmV4cG9ydCB0eXBlIENvbG9yID0gbnVtYmVyO1xuXG5leHBvcnQgY29uc3QgY29sb3I6IElUeXBlRGVzY3JpcHRvcjxDb2xvcj4gPSB7XG4gICAgbmFtZTogJ2NvbG9yJyxcbiAgICBwYXJzZTogKHZhbHVlOiBDU1NWYWx1ZSk6IENvbG9yID0+IHtcbiAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IFRva2VuVHlwZS5GVU5DVElPTikge1xuICAgICAgICAgICAgY29uc3QgY29sb3JGdW5jdGlvbiA9IFNVUFBPUlRFRF9DT0xPUl9GVU5DVElPTlNbdmFsdWUubmFtZV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbG9yRnVuY3Rpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdHRlbXB0aW5nIHRvIHBhcnNlIGFuIHVuc3VwcG9ydGVkIGNvbG9yIGZ1bmN0aW9uIFwiJHt2YWx1ZS5uYW1lfVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29sb3JGdW5jdGlvbih2YWx1ZS52YWx1ZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IFRva2VuVHlwZS5IQVNIX1RPS0VOKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUudmFsdWUubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZygwLCAxKTtcbiAgICAgICAgICAgICAgICBjb25zdCBnID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDEsIDIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMiwgMyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhY2socGFyc2VJbnQociArIHIsIDE2KSwgcGFyc2VJbnQoZyArIGcsIDE2KSwgcGFyc2VJbnQoYiArIGIsIDE2KSwgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZS52YWx1ZS5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDAsIDEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGcgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMSwgMik7XG4gICAgICAgICAgICAgICAgY29uc3QgYiA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZygyLCAzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDMsIDQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYWNrKHBhcnNlSW50KHIgKyByLCAxNiksIHBhcnNlSW50KGcgKyBnLCAxNiksIHBhcnNlSW50KGIgKyBiLCAxNiksIHBhcnNlSW50KGEgKyBhLCAxNikgLyAyNTUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmFsdWUudmFsdWUubGVuZ3RoID09PSA2KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZygwLCAyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBnID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDIsIDQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoNCwgNik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhY2socGFyc2VJbnQociwgMTYpLCBwYXJzZUludChnLCAxNiksIHBhcnNlSW50KGIsIDE2KSwgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZS52YWx1ZS5sZW5ndGggPT09IDgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDAsIDIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGcgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMiwgNCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYiA9IHZhbHVlLnZhbHVlLnN1YnN0cmluZyg0LCA2KTtcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDYsIDgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYWNrKHBhcnNlSW50KHIsIDE2KSwgcGFyc2VJbnQoZywgMTYpLCBwYXJzZUludChiLCAxNiksIHBhcnNlSW50KGEsIDE2KSAvIDI1NSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUudHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lZENvbG9yID0gQ09MT1JTW3ZhbHVlLnZhbHVlLnRvVXBwZXJDYXNlKCldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBuYW1lZENvbG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBuYW1lZENvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIENPTE9SUy5UUkFOU1BBUkVOVDtcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgaXNUcmFuc3BhcmVudCA9IChjb2xvcjogQ29sb3IpID0+ICgweGZmICYgY29sb3IpID09PSAwO1xuXG5leHBvcnQgY29uc3QgYXNTdHJpbmcgPSAoY29sb3I6IENvbG9yKSA9PiB7XG4gICAgY29uc3QgYWxwaGEgPSAweGZmICYgY29sb3I7XG4gICAgY29uc3QgYmx1ZSA9IDB4ZmYgJiAoY29sb3IgPj4gOCk7XG4gICAgY29uc3QgZ3JlZW4gPSAweGZmICYgKGNvbG9yID4+IDE2KTtcbiAgICBjb25zdCByZWQgPSAweGZmICYgKGNvbG9yID4+IDI0KTtcbiAgICByZXR1cm4gYWxwaGEgPCAyNTUgPyBgcmdiYSgke3JlZH0sJHtncmVlbn0sJHtibHVlfSwke2FscGhhIC8gMjU1fSlgIDogYHJnYigke3JlZH0sJHtncmVlbn0sJHtibHVlfSlgO1xufTtcblxuZXhwb3J0IGNvbnN0IHBhY2sgPSAocjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlciwgYTogbnVtYmVyKTogQ29sb3IgPT5cbiAgICAoKHIgPDwgMjQpIHwgKGcgPDwgMTYpIHwgKGIgPDwgOCkgfCAoTWF0aC5yb3VuZChhICogMjU1KSA8PCAwKSkgPj4+IDA7XG5cbmNvbnN0IGdldFRva2VuQ29sb3JWYWx1ZSA9ICh0b2tlbjogQ1NTVmFsdWUsIGk6IG51bWJlcik6IG51bWJlciA9PiB7XG4gICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5OVU1CRVJfVE9LRU4pIHtcbiAgICAgICAgcmV0dXJuIHRva2VuLm51bWJlcjtcbiAgICB9XG5cbiAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlBFUkNFTlRBR0VfVE9LRU4pIHtcbiAgICAgICAgY29uc3QgbWF4ID0gaSA9PT0gMyA/IDEgOiAyNTU7XG4gICAgICAgIHJldHVybiBpID09PSAzID8gKHRva2VuLm51bWJlciAvIDEwMCkgKiBtYXggOiBNYXRoLnJvdW5kKCh0b2tlbi5udW1iZXIgLyAxMDApICogbWF4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbn07XG5cbmNvbnN0IHJnYiA9IChhcmdzOiBDU1NWYWx1ZVtdKTogbnVtYmVyID0+IHtcbiAgICBjb25zdCB0b2tlbnMgPSBhcmdzLmZpbHRlcihub25GdW5jdGlvbkFyZ1NlcGFyYXRvcik7XG5cbiAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMykge1xuICAgICAgICBjb25zdCBbciwgZywgYl0gPSB0b2tlbnMubWFwKGdldFRva2VuQ29sb3JWYWx1ZSk7XG4gICAgICAgIHJldHVybiBwYWNrKHIsIGcsIGIsIDEpO1xuICAgIH1cblxuICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSA0KSB7XG4gICAgICAgIGNvbnN0IFtyLCBnLCBiLCBhXSA9IHRva2Vucy5tYXAoZ2V0VG9rZW5Db2xvclZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHBhY2sociwgZywgYiwgYSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG59O1xuXG5mdW5jdGlvbiBodWUycmdiKHQxOiBudW1iZXIsIHQyOiBudW1iZXIsIGh1ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAoaHVlIDwgMCkge1xuICAgICAgICBodWUgKz0gMTtcbiAgICB9XG4gICAgaWYgKGh1ZSA+PSAxKSB7XG4gICAgICAgIGh1ZSAtPSAxO1xuICAgIH1cblxuICAgIGlmIChodWUgPCAxIC8gNikge1xuICAgICAgICByZXR1cm4gKHQyIC0gdDEpICogaHVlICogNiArIHQxO1xuICAgIH0gZWxzZSBpZiAoaHVlIDwgMSAvIDIpIHtcbiAgICAgICAgcmV0dXJuIHQyO1xuICAgIH0gZWxzZSBpZiAoaHVlIDwgMiAvIDMpIHtcbiAgICAgICAgcmV0dXJuICh0MiAtIHQxKSAqIDYgKiAoMiAvIDMgLSBodWUpICsgdDE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHQxO1xuICAgIH1cbn1cblxuY29uc3QgaHNsID0gKGFyZ3M6IENTU1ZhbHVlW10pOiBudW1iZXIgPT4ge1xuICAgIGNvbnN0IHRva2VucyA9IGFyZ3MuZmlsdGVyKG5vbkZ1bmN0aW9uQXJnU2VwYXJhdG9yKTtcbiAgICBjb25zdCBbaHVlLCBzYXR1cmF0aW9uLCBsaWdodG5lc3MsIGFscGhhXSA9IHRva2VucztcblxuICAgIGNvbnN0IGggPSAoaHVlLnR5cGUgPT09IFRva2VuVHlwZS5OVU1CRVJfVE9LRU4gPyBkZWcoaHVlLm51bWJlcikgOiBhbmdsZS5wYXJzZShodWUpKSAvIChNYXRoLlBJICogMik7XG4gICAgY29uc3QgcyA9IGlzTGVuZ3RoUGVyY2VudGFnZShzYXR1cmF0aW9uKSA/IHNhdHVyYXRpb24ubnVtYmVyIC8gMTAwIDogMDtcbiAgICBjb25zdCBsID0gaXNMZW5ndGhQZXJjZW50YWdlKGxpZ2h0bmVzcykgPyBsaWdodG5lc3MubnVtYmVyIC8gMTAwIDogMDtcbiAgICBjb25zdCBhID0gdHlwZW9mIGFscGhhICE9PSAndW5kZWZpbmVkJyAmJiBpc0xlbmd0aFBlcmNlbnRhZ2UoYWxwaGEpID8gZ2V0QWJzb2x1dGVWYWx1ZShhbHBoYSwgMSkgOiAxO1xuXG4gICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHBhY2sobCAqIDI1NSwgbCAqIDI1NSwgbCAqIDI1NSwgMSk7XG4gICAgfVxuXG4gICAgY29uc3QgdDIgPSBsIDw9IDAuNSA/IGwgKiAocyArIDEpIDogbCArIHMgLSBsICogcztcblxuICAgIGNvbnN0IHQxID0gbCAqIDIgLSB0MjtcbiAgICBjb25zdCByID0gaHVlMnJnYih0MSwgdDIsIGggKyAxIC8gMyk7XG4gICAgY29uc3QgZyA9IGh1ZTJyZ2IodDEsIHQyLCBoKTtcbiAgICBjb25zdCBiID0gaHVlMnJnYih0MSwgdDIsIGggLSAxIC8gMyk7XG4gICAgcmV0dXJuIHBhY2sociAqIDI1NSwgZyAqIDI1NSwgYiAqIDI1NSwgYSk7XG59O1xuXG5jb25zdCBTVVBQT1JURURfQ09MT1JfRlVOQ1RJT05TOiB7XG4gICAgW2tleTogc3RyaW5nXTogKGFyZ3M6IENTU1ZhbHVlW10pID0+IG51bWJlcjtcbn0gPSB7XG4gICAgaHNsOiBoc2wsXG4gICAgaHNsYTogaHNsLFxuICAgIHJnYjogcmdiLFxuICAgIHJnYmE6IHJnYlxufTtcblxuZXhwb3J0IGNvbnN0IENPTE9SUzoge1trZXk6IHN0cmluZ106IENvbG9yfSA9IHtcbiAgICBBTElDRUJMVUU6IDB4ZjBmOGZmZmYsXG4gICAgQU5USVFVRVdISVRFOiAweGZhZWJkN2ZmLFxuICAgIEFRVUE6IDB4MDBmZmZmZmYsXG4gICAgQVFVQU1BUklORTogMHg3ZmZmZDRmZixcbiAgICBBWlVSRTogMHhmMGZmZmZmZixcbiAgICBCRUlHRTogMHhmNWY1ZGNmZixcbiAgICBCSVNRVUU6IDB4ZmZlNGM0ZmYsXG4gICAgQkxBQ0s6IDB4MDAwMDAwZmYsXG4gICAgQkxBTkNIRURBTE1PTkQ6IDB4ZmZlYmNkZmYsXG4gICAgQkxVRTogMHgwMDAwZmZmZixcbiAgICBCTFVFVklPTEVUOiAweDhhMmJlMmZmLFxuICAgIEJST1dOOiAweGE1MmEyYWZmLFxuICAgIEJVUkxZV09PRDogMHhkZWI4ODdmZixcbiAgICBDQURFVEJMVUU6IDB4NWY5ZWEwZmYsXG4gICAgQ0hBUlRSRVVTRTogMHg3ZmZmMDBmZixcbiAgICBDSE9DT0xBVEU6IDB4ZDI2OTFlZmYsXG4gICAgQ09SQUw6IDB4ZmY3ZjUwZmYsXG4gICAgQ09STkZMT1dFUkJMVUU6IDB4NjQ5NWVkZmYsXG4gICAgQ09STlNJTEs6IDB4ZmZmOGRjZmYsXG4gICAgQ1JJTVNPTjogMHhkYzE0M2NmZixcbiAgICBDWUFOOiAweDAwZmZmZmZmLFxuICAgIERBUktCTFVFOiAweDAwMDA4YmZmLFxuICAgIERBUktDWUFOOiAweDAwOGI4YmZmLFxuICAgIERBUktHT0xERU5ST0Q6IDB4Yjg4NmJiZmYsXG4gICAgREFSS0dSQVk6IDB4YTlhOWE5ZmYsXG4gICAgREFSS0dSRUVOOiAweDAwNjQwMGZmLFxuICAgIERBUktHUkVZOiAweGE5YTlhOWZmLFxuICAgIERBUktLSEFLSTogMHhiZGI3NmJmZixcbiAgICBEQVJLTUFHRU5UQTogMHg4YjAwOGJmZixcbiAgICBEQVJLT0xJVkVHUkVFTjogMHg1NTZiMmZmZixcbiAgICBEQVJLT1JBTkdFOiAweGZmOGMwMGZmLFxuICAgIERBUktPUkNISUQ6IDB4OTkzMmNjZmYsXG4gICAgREFSS1JFRDogMHg4YjAwMDBmZixcbiAgICBEQVJLU0FMTU9OOiAweGU5OTY3YWZmLFxuICAgIERBUktTRUFHUkVFTjogMHg4ZmJjOGZmZixcbiAgICBEQVJLU0xBVEVCTFVFOiAweDQ4M2Q4YmZmLFxuICAgIERBUktTTEFURUdSQVk6IDB4MmY0ZjRmZmYsXG4gICAgREFSS1NMQVRFR1JFWTogMHgyZjRmNGZmZixcbiAgICBEQVJLVFVSUVVPSVNFOiAweDAwY2VkMWZmLFxuICAgIERBUktWSU9MRVQ6IDB4OTQwMGQzZmYsXG4gICAgREVFUFBJTks6IDB4ZmYxNDkzZmYsXG4gICAgREVFUFNLWUJMVUU6IDB4MDBiZmZmZmYsXG4gICAgRElNR1JBWTogMHg2OTY5NjlmZixcbiAgICBESU1HUkVZOiAweDY5Njk2OWZmLFxuICAgIERPREdFUkJMVUU6IDB4MWU5MGZmZmYsXG4gICAgRklSRUJSSUNLOiAweGIyMjIyMmZmLFxuICAgIEZMT1JBTFdISVRFOiAweGZmZmFmMGZmLFxuICAgIEZPUkVTVEdSRUVOOiAweDIyOGIyMmZmLFxuICAgIEZVQ0hTSUE6IDB4ZmYwMGZmZmYsXG4gICAgR0FJTlNCT1JPOiAweGRjZGNkY2ZmLFxuICAgIEdIT1NUV0hJVEU6IDB4ZjhmOGZmZmYsXG4gICAgR09MRDogMHhmZmQ3MDBmZixcbiAgICBHT0xERU5ST0Q6IDB4ZGFhNTIwZmYsXG4gICAgR1JBWTogMHg4MDgwODBmZixcbiAgICBHUkVFTjogMHgwMDgwMDBmZixcbiAgICBHUkVFTllFTExPVzogMHhhZGZmMmZmZixcbiAgICBHUkVZOiAweDgwODA4MGZmLFxuICAgIEhPTkVZREVXOiAweGYwZmZmMGZmLFxuICAgIEhPVFBJTks6IDB4ZmY2OWI0ZmYsXG4gICAgSU5ESUFOUkVEOiAweGNkNWM1Y2ZmLFxuICAgIElORElHTzogMHg0YjAwODJmZixcbiAgICBJVk9SWTogMHhmZmZmZjBmZixcbiAgICBLSEFLSTogMHhmMGU2OGNmZixcbiAgICBMQVZFTkRFUjogMHhlNmU2ZmFmZixcbiAgICBMQVZFTkRFUkJMVVNIOiAweGZmZjBmNWZmLFxuICAgIExBV05HUkVFTjogMHg3Y2ZjMDBmZixcbiAgICBMRU1PTkNISUZGT046IDB4ZmZmYWNkZmYsXG4gICAgTElHSFRCTFVFOiAweGFkZDhlNmZmLFxuICAgIExJR0hUQ09SQUw6IDB4ZjA4MDgwZmYsXG4gICAgTElHSFRDWUFOOiAweGUwZmZmZmZmLFxuICAgIExJR0hUR09MREVOUk9EWUVMTE9XOiAweGZhZmFkMmZmLFxuICAgIExJR0hUR1JBWTogMHhkM2QzZDNmZixcbiAgICBMSUdIVEdSRUVOOiAweDkwZWU5MGZmLFxuICAgIExJR0hUR1JFWTogMHhkM2QzZDNmZixcbiAgICBMSUdIVFBJTks6IDB4ZmZiNmMxZmYsXG4gICAgTElHSFRTQUxNT046IDB4ZmZhMDdhZmYsXG4gICAgTElHSFRTRUFHUkVFTjogMHgyMGIyYWFmZixcbiAgICBMSUdIVFNLWUJMVUU6IDB4ODdjZWZhZmYsXG4gICAgTElHSFRTTEFURUdSQVk6IDB4Nzc4ODk5ZmYsXG4gICAgTElHSFRTTEFURUdSRVk6IDB4Nzc4ODk5ZmYsXG4gICAgTElHSFRTVEVFTEJMVUU6IDB4YjBjNGRlZmYsXG4gICAgTElHSFRZRUxMT1c6IDB4ZmZmZmUwZmYsXG4gICAgTElNRTogMHgwMGZmMDBmZixcbiAgICBMSU1FR1JFRU46IDB4MzJjZDMyZmYsXG4gICAgTElORU46IDB4ZmFmMGU2ZmYsXG4gICAgTUFHRU5UQTogMHhmZjAwZmZmZixcbiAgICBNQVJPT046IDB4ODAwMDAwZmYsXG4gICAgTUVESVVNQVFVQU1BUklORTogMHg2NmNkYWFmZixcbiAgICBNRURJVU1CTFVFOiAweDAwMDBjZGZmLFxuICAgIE1FRElVTU9SQ0hJRDogMHhiYTU1ZDNmZixcbiAgICBNRURJVU1QVVJQTEU6IDB4OTM3MGRiZmYsXG4gICAgTUVESVVNU0VBR1JFRU46IDB4M2NiMzcxZmYsXG4gICAgTUVESVVNU0xBVEVCTFVFOiAweDdiNjhlZWZmLFxuICAgIE1FRElVTVNQUklOR0dSRUVOOiAweDAwZmE5YWZmLFxuICAgIE1FRElVTVRVUlFVT0lTRTogMHg0OGQxY2NmZixcbiAgICBNRURJVU1WSU9MRVRSRUQ6IDB4YzcxNTg1ZmYsXG4gICAgTUlETklHSFRCTFVFOiAweDE5MTk3MGZmLFxuICAgIE1JTlRDUkVBTTogMHhmNWZmZmFmZixcbiAgICBNSVNUWVJPU0U6IDB4ZmZlNGUxZmYsXG4gICAgTU9DQ0FTSU46IDB4ZmZlNGI1ZmYsXG4gICAgTkFWQUpPV0hJVEU6IDB4ZmZkZWFkZmYsXG4gICAgTkFWWTogMHgwMDAwODBmZixcbiAgICBPTERMQUNFOiAweGZkZjVlNmZmLFxuICAgIE9MSVZFOiAweDgwODAwMGZmLFxuICAgIE9MSVZFRFJBQjogMHg2YjhlMjNmZixcbiAgICBPUkFOR0U6IDB4ZmZhNTAwZmYsXG4gICAgT1JBTkdFUkVEOiAweGZmNDUwMGZmLFxuICAgIE9SQ0hJRDogMHhkYTcwZDZmZixcbiAgICBQQUxFR09MREVOUk9EOiAweGVlZThhYWZmLFxuICAgIFBBTEVHUkVFTjogMHg5OGZiOThmZixcbiAgICBQQUxFVFVSUVVPSVNFOiAweGFmZWVlZWZmLFxuICAgIFBBTEVWSU9MRVRSRUQ6IDB4ZGI3MDkzZmYsXG4gICAgUEFQQVlBV0hJUDogMHhmZmVmZDVmZixcbiAgICBQRUFDSFBVRkY6IDB4ZmZkYWI5ZmYsXG4gICAgUEVSVTogMHhjZDg1M2ZmZixcbiAgICBQSU5LOiAweGZmYzBjYmZmLFxuICAgIFBMVU06IDB4ZGRhMGRkZmYsXG4gICAgUE9XREVSQkxVRTogMHhiMGUwZTZmZixcbiAgICBQVVJQTEU6IDB4ODAwMDgwZmYsXG4gICAgUkVCRUNDQVBVUlBMRTogMHg2NjMzOTlmZixcbiAgICBSRUQ6IDB4ZmYwMDAwZmYsXG4gICAgUk9TWUJST1dOOiAweGJjOGY4ZmZmLFxuICAgIFJPWUFMQkxVRTogMHg0MTY5ZTFmZixcbiAgICBTQURETEVCUk9XTjogMHg4YjQ1MTNmZixcbiAgICBTQUxNT046IDB4ZmE4MDcyZmYsXG4gICAgU0FORFlCUk9XTjogMHhmNGE0NjBmZixcbiAgICBTRUFHUkVFTjogMHgyZThiNTdmZixcbiAgICBTRUFTSEVMTDogMHhmZmY1ZWVmZixcbiAgICBTSUVOTkE6IDB4YTA1MjJkZmYsXG4gICAgU0lMVkVSOiAweGMwYzBjMGZmLFxuICAgIFNLWUJMVUU6IDB4ODdjZWViZmYsXG4gICAgU0xBVEVCTFVFOiAweDZhNWFjZGZmLFxuICAgIFNMQVRFR1JBWTogMHg3MDgwOTBmZixcbiAgICBTTEFURUdSRVk6IDB4NzA4MDkwZmYsXG4gICAgU05PVzogMHhmZmZhZmFmZixcbiAgICBTUFJJTkdHUkVFTjogMHgwMGZmN2ZmZixcbiAgICBTVEVFTEJMVUU6IDB4NDY4MmI0ZmYsXG4gICAgVEFOOiAweGQyYjQ4Y2ZmLFxuICAgIFRFQUw6IDB4MDA4MDgwZmYsXG4gICAgVEhJU1RMRTogMHhkOGJmZDhmZixcbiAgICBUT01BVE86IDB4ZmY2MzQ3ZmYsXG4gICAgVFJBTlNQQVJFTlQ6IDB4MDAwMDAwMDAsXG4gICAgVFVSUVVPSVNFOiAweDQwZTBkMGZmLFxuICAgIFZJT0xFVDogMHhlZTgyZWVmZixcbiAgICBXSEVBVDogMHhmNWRlYjNmZixcbiAgICBXSElURTogMHhmZmZmZmZmZixcbiAgICBXSElURVNNT0tFOiAweGY1ZjVmNWZmLFxuICAgIFlFTExPVzogMHhmZmZmMDBmZixcbiAgICBZRUxMT1dHUkVFTjogMHg5YWNkMzJmZlxufTtcbiIsImltcG9ydCB7Q1NTVmFsdWV9IGZyb20gJy4vc3ludGF4L3BhcnNlcic7XG5pbXBvcnQge0NTU1R5cGVzfSBmcm9tICcuL3R5cGVzL2luZGV4JztcblxuZXhwb3J0IGVudW0gUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUge1xuICAgIFZBTFVFLFxuICAgIExJU1QsXG4gICAgSURFTlRfVkFMVUUsXG4gICAgVFlQRV9WQUxVRSxcbiAgICBUT0tFTl9WQUxVRVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElQcm9wZXJ0eURlc2NyaXB0b3Ige1xuICAgIG5hbWU6IHN0cmluZztcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZTtcbiAgICBpbml0aWFsVmFsdWU6IHN0cmluZztcbiAgICBwcmVmaXg6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVByb3BlcnR5SWRlbnRWYWx1ZURlc2NyaXB0b3I8VD4gZXh0ZW5kcyBJUHJvcGVydHlEZXNjcmlwdG9yIHtcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRTtcbiAgICBwYXJzZTogKHRva2VuOiBzdHJpbmcpID0+IFQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVByb3BlcnR5VHlwZVZhbHVlRGVzY3JpcHRvciBleHRlbmRzIElQcm9wZXJ0eURlc2NyaXB0b3Ige1xuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlRZUEVfVkFMVUU7XG4gICAgZm9ybWF0OiBDU1NUeXBlcztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUHJvcGVydHlWYWx1ZURlc2NyaXB0b3I8VD4gZXh0ZW5kcyBJUHJvcGVydHlEZXNjcmlwdG9yIHtcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRTtcbiAgICBwYXJzZTogKHRva2VuOiBDU1NWYWx1ZSkgPT4gVDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUHJvcGVydHlMaXN0RGVzY3JpcHRvcjxUPiBleHRlbmRzIElQcm9wZXJ0eURlc2NyaXB0b3Ige1xuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1Q7XG4gICAgcGFyc2U6ICh0b2tlbnM6IENTU1ZhbHVlW10pID0+IFQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVByb3BlcnR5VG9rZW5WYWx1ZURlc2NyaXB0b3IgZXh0ZW5kcyBJUHJvcGVydHlEZXNjcmlwdG9yIHtcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UT0tFTl9WQUxVRTtcbn1cblxuZXhwb3J0IHR5cGUgQ1NTUHJvcGVydHlEZXNjcmlwdG9yPFQ+ID1cbiAgICB8IElQcm9wZXJ0eVZhbHVlRGVzY3JpcHRvcjxUPlxuICAgIHwgSVByb3BlcnR5TGlzdERlc2NyaXB0b3I8VD5cbiAgICB8IElQcm9wZXJ0eUlkZW50VmFsdWVEZXNjcmlwdG9yPFQ+XG4gICAgfCBJUHJvcGVydHlUeXBlVmFsdWVEZXNjcmlwdG9yXG4gICAgfCBJUHJvcGVydHlUb2tlblZhbHVlRGVzY3JpcHRvcjtcbiIsImltcG9ydCB7SVByb3BlcnR5TGlzdERlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmltcG9ydCB7Q1NTVmFsdWUsIGlzSWRlbnRUb2tlbn0gZnJvbSAnLi4vc3ludGF4L3BhcnNlcic7XG5leHBvcnQgZW51bSBCQUNLR1JPVU5EX0NMSVAge1xuICAgIEJPUkRFUl9CT1ggPSAwLFxuICAgIFBBRERJTkdfQk9YID0gMSxcbiAgICBDT05URU5UX0JPWCA9IDJcbn1cblxuZXhwb3J0IHR5cGUgQmFja2dyb3VuZENsaXAgPSBCQUNLR1JPVU5EX0NMSVBbXTtcblxuZXhwb3J0IGNvbnN0IGJhY2tncm91bmRDbGlwOiBJUHJvcGVydHlMaXN0RGVzY3JpcHRvcjxCYWNrZ3JvdW5kQ2xpcD4gPSB7XG4gICAgbmFtZTogJ2JhY2tncm91bmQtY2xpcCcsXG4gICAgaW5pdGlhbFZhbHVlOiAnYm9yZGVyLWJveCcsXG4gICAgcHJlZml4OiBmYWxzZSxcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxuICAgIHBhcnNlOiAodG9rZW5zOiBDU1NWYWx1ZVtdKTogQmFja2dyb3VuZENsaXAgPT4ge1xuICAgICAgICByZXR1cm4gdG9rZW5zLm1hcCh0b2tlbiA9PiB7XG4gICAgICAgICAgICBpZiAoaXNJZGVudFRva2VuKHRva2VuKSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncGFkZGluZy1ib3gnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfQ0xJUC5QQURESU5HX0JPWDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY29udGVudC1ib3gnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfQ0xJUC5DT05URU5UX0JPWDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQkFDS0dST1VORF9DTElQLkJPUkRFUl9CT1g7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG4iLCJpbXBvcnQge0lQcm9wZXJ0eVR5cGVWYWx1ZURlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcblxuZXhwb3J0IGNvbnN0IGJhY2tncm91bmRDb2xvcjogSVByb3BlcnR5VHlwZVZhbHVlRGVzY3JpcHRvciA9IHtcbiAgICBuYW1lOiBgYmFja2dyb3VuZC1jb2xvcmAsXG4gICAgaW5pdGlhbFZhbHVlOiAndHJhbnNwYXJlbnQnLFxuICAgIHByZWZpeDogZmFsc2UsXG4gICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVFlQRV9WQUxVRSxcbiAgICBmb3JtYXQ6ICdjb2xvcidcbn07XG4iLCJpbXBvcnQge0NTU1ZhbHVlfSBmcm9tICcuLi8uLi9zeW50YXgvcGFyc2VyJztcbmltcG9ydCB7XG4gICAgQ1NTUmFkaWFsRXh0ZW50LFxuICAgIENTU1JhZGlhbEdyYWRpZW50SW1hZ2UsXG4gICAgQ1NTUmFkaWFsU2hhcGUsXG4gICAgR3JhZGllbnRDb2xvclN0b3AsXG4gICAgR3JhZGllbnRDb3JuZXIsXG4gICAgVW5wcm9jZXNzZWRHcmFkaWVudENvbG9yU3RvcFxufSBmcm9tICcuLi9pbWFnZSc7XG5pbXBvcnQge2NvbG9yIGFzIGNvbG9yVHlwZX0gZnJvbSAnLi4vY29sb3InO1xuaW1wb3J0IHtnZXRBYnNvbHV0ZVZhbHVlLCBIVU5EUkVEX1BFUkNFTlQsIGlzTGVuZ3RoUGVyY2VudGFnZSwgWkVST19MRU5HVEh9IGZyb20gJy4uL2xlbmd0aC1wZXJjZW50YWdlJztcblxuZXhwb3J0IGNvbnN0IHBhcnNlQ29sb3JTdG9wID0gKGFyZ3M6IENTU1ZhbHVlW10pOiBVbnByb2Nlc3NlZEdyYWRpZW50Q29sb3JTdG9wID0+IHtcbiAgICBjb25zdCBjb2xvciA9IGNvbG9yVHlwZS5wYXJzZShhcmdzWzBdKTtcbiAgICBjb25zdCBzdG9wID0gYXJnc1sxXTtcbiAgICByZXR1cm4gc3RvcCAmJiBpc0xlbmd0aFBlcmNlbnRhZ2Uoc3RvcCkgPyB7Y29sb3IsIHN0b3B9IDoge2NvbG9yLCBzdG9wOiBudWxsfTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9jZXNzQ29sb3JTdG9wcyA9IChzdG9wczogVW5wcm9jZXNzZWRHcmFkaWVudENvbG9yU3RvcFtdLCBsaW5lTGVuZ3RoOiBudW1iZXIpOiBHcmFkaWVudENvbG9yU3RvcFtdID0+IHtcbiAgICBjb25zdCBmaXJzdCA9IHN0b3BzWzBdO1xuICAgIGNvbnN0IGxhc3QgPSBzdG9wc1tzdG9wcy5sZW5ndGggLSAxXTtcbiAgICBpZiAoZmlyc3Quc3RvcCA9PT0gbnVsbCkge1xuICAgICAgICBmaXJzdC5zdG9wID0gWkVST19MRU5HVEg7XG4gICAgfVxuXG4gICAgaWYgKGxhc3Quc3RvcCA9PT0gbnVsbCkge1xuICAgICAgICBsYXN0LnN0b3AgPSBIVU5EUkVEX1BFUkNFTlQ7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvY2Vzc1N0b3BzOiAobnVtYmVyIHwgbnVsbClbXSA9IFtdO1xuICAgIGxldCBwcmV2aW91cyA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdG9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzdG9wID0gc3RvcHNbaV0uc3RvcDtcbiAgICAgICAgaWYgKHN0b3AgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGFic29sdXRlVmFsdWUgPSBnZXRBYnNvbHV0ZVZhbHVlKHN0b3AsIGxpbmVMZW5ndGgpO1xuICAgICAgICAgICAgaWYgKGFic29sdXRlVmFsdWUgPiBwcmV2aW91cykge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9wcy5wdXNoKGFic29sdXRlVmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzU3RvcHMucHVzaChwcmV2aW91cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2aW91cyA9IGFic29sdXRlVmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9jZXNzU3RvcHMucHVzaChudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxldCBnYXBCZWdpbiA9IG51bGw7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9jZXNzU3RvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc3RvcCA9IHByb2Nlc3NTdG9wc1tpXTtcbiAgICAgICAgaWYgKHN0b3AgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChnYXBCZWdpbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdhcEJlZ2luID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChnYXBCZWdpbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgZ2FwTGVuZ3RoID0gaSAtIGdhcEJlZ2luO1xuICAgICAgICAgICAgY29uc3QgYmVmb3JlR2FwID0gcHJvY2Vzc1N0b3BzW2dhcEJlZ2luIC0gMV0gYXMgbnVtYmVyO1xuICAgICAgICAgICAgY29uc3QgZ2FwVmFsdWUgPSAoc3RvcCAtIGJlZm9yZUdhcCkgLyAoZ2FwTGVuZ3RoICsgMSk7XG4gICAgICAgICAgICBmb3IgKGxldCBnID0gMTsgZyA8PSBnYXBMZW5ndGg7IGcrKykge1xuICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9wc1tnYXBCZWdpbiArIGcgLSAxXSA9IGdhcFZhbHVlICogZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdhcEJlZ2luID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdG9wcy5tYXAoKHtjb2xvcn0sIGkpID0+IHtcbiAgICAgICAgcmV0dXJuIHtjb2xvciwgc3RvcDogTWF0aC5tYXgoTWF0aC5taW4oMSwgKHByb2Nlc3NTdG9wc1tpXSBhcyBudW1iZXIpIC8gbGluZUxlbmd0aCksIDApfTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IGdldEFuZ2xlRnJvbUNvcm5lciA9IChjb3JuZXI6IEdyYWRpZW50Q29ybmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcbiAgICBjb25zdCBjZW50ZXJZID0gaGVpZ2h0IC8gMjtcbiAgICBjb25zdCB4ID0gZ2V0QWJzb2x1dGVWYWx1ZShjb3JuZXJbMF0sIHdpZHRoKSAtIGNlbnRlclg7XG4gICAgY29uc3QgeSA9IGNlbnRlclkgLSBnZXRBYnNvbHV0ZVZhbHVlKGNvcm5lclsxXSwgaGVpZ2h0KTtcblxuICAgIHJldHVybiAoTWF0aC5hdGFuMih5LCB4KSArIE1hdGguUEkgKiAyKSAlIChNYXRoLlBJICogMik7XG59O1xuXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlR3JhZGllbnREaXJlY3Rpb24gPSAoXG4gICAgYW5nbGU6IG51bWJlciB8IEdyYWRpZW50Q29ybmVyLFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXJcbik6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0gPT4ge1xuICAgIGNvbnN0IHJhZGlhbiA9IHR5cGVvZiBhbmdsZSA9PT0gJ251bWJlcicgPyBhbmdsZSA6IGdldEFuZ2xlRnJvbUNvcm5lcihhbmdsZSwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICBjb25zdCBsaW5lTGVuZ3RoID0gTWF0aC5hYnMod2lkdGggKiBNYXRoLnNpbihyYWRpYW4pKSArIE1hdGguYWJzKGhlaWdodCAqIE1hdGguY29zKHJhZGlhbikpO1xuXG4gICAgY29uc3QgaGFsZldpZHRoID0gd2lkdGggLyAyO1xuICAgIGNvbnN0IGhhbGZIZWlnaHQgPSBoZWlnaHQgLyAyO1xuICAgIGNvbnN0IGhhbGZMaW5lTGVuZ3RoID0gbGluZUxlbmd0aCAvIDI7XG5cbiAgICBjb25zdCB5RGlmZiA9IE1hdGguc2luKHJhZGlhbiAtIE1hdGguUEkgLyAyKSAqIGhhbGZMaW5lTGVuZ3RoO1xuICAgIGNvbnN0IHhEaWZmID0gTWF0aC5jb3MocmFkaWFuIC0gTWF0aC5QSSAvIDIpICogaGFsZkxpbmVMZW5ndGg7XG5cbiAgICByZXR1cm4gW2xpbmVMZW5ndGgsIGhhbGZXaWR0aCAtIHhEaWZmLCBoYWxmV2lkdGggKyB4RGlmZiwgaGFsZkhlaWdodCAtIHlEaWZmLCBoYWxmSGVpZ2h0ICsgeURpZmZdO1xufTtcblxuY29uc3QgZGlzdGFuY2UgPSAoYTogbnVtYmVyLCBiOiBudW1iZXIpOiBudW1iZXIgPT4gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpO1xuXG5jb25zdCBmaW5kQ29ybmVyID0gKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCB4OiBudW1iZXIsIHk6IG51bWJlciwgY2xvc2VzdDogYm9vbGVhbik6IFtudW1iZXIsIG51bWJlcl0gPT4ge1xuICAgIGNvbnN0IGNvcm5lcnMgPSBbWzAsIDBdLCBbMCwgaGVpZ2h0XSwgW3dpZHRoLCAwXSwgW3dpZHRoLCBoZWlnaHRdXTtcblxuICAgIHJldHVybiBjb3JuZXJzLnJlZHVjZShcbiAgICAgICAgKHN0YXQsIGNvcm5lcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgW2N4LCBjeV0gPSBjb3JuZXI7XG4gICAgICAgICAgICBjb25zdCBkID0gZGlzdGFuY2UoeCAtIGN4LCB5IC0gY3kpO1xuICAgICAgICAgICAgaWYgKGNsb3Nlc3QgPyBkIDwgc3RhdC5vcHRpbXVtRGlzdGFuY2UgOiBkID4gc3RhdC5vcHRpbXVtRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBvcHRpbXVtQ29ybmVyOiBjb3JuZXIsXG4gICAgICAgICAgICAgICAgICAgIG9wdGltdW1EaXN0YW5jZTogZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzdGF0O1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBvcHRpbXVtRGlzdGFuY2U6IGNsb3Nlc3QgPyBJbmZpbml0eSA6IC1JbmZpbml0eSxcbiAgICAgICAgICAgIG9wdGltdW1Db3JuZXI6IG51bGxcbiAgICAgICAgfVxuICAgICkub3B0aW11bUNvcm5lciBhcyBbbnVtYmVyLCBudW1iZXJdO1xufTtcblxuZXhwb3J0IGNvbnN0IGNhbGN1bGF0ZVJhZGl1cyA9IChcbiAgICBncmFkaWVudDogQ1NTUmFkaWFsR3JhZGllbnRJbWFnZSxcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXJcbik6IFtudW1iZXIsIG51bWJlcl0gPT4ge1xuICAgIGxldCByeCA9IDA7XG4gICAgbGV0IHJ5ID0gMDtcblxuICAgIHN3aXRjaCAoZ3JhZGllbnQuc2l6ZSkge1xuICAgICAgICBjYXNlIENTU1JhZGlhbEV4dGVudC5DTE9TRVNUX1NJREU6XG4gICAgICAgICAgICAvLyBUaGUgZW5kaW5nIHNoYXBlIGlzIHNpemVkIHNvIHRoYXQgdGhhdCBpdCBleGFjdGx5IG1lZXRzIHRoZSBzaWRlIG9mIHRoZSBncmFkaWVudCBib3ggY2xvc2VzdCB0byB0aGUgZ3JhZGllbnTigJlzIGNlbnRlci5cbiAgICAgICAgICAgIC8vIElmIHRoZSBzaGFwZSBpcyBhbiBlbGxpcHNlLCBpdCBleGFjdGx5IG1lZXRzIHRoZSBjbG9zZXN0IHNpZGUgaW4gZWFjaCBkaW1lbnNpb24uXG4gICAgICAgICAgICBpZiAoZ3JhZGllbnQuc2hhcGUgPT09IENTU1JhZGlhbFNoYXBlLkNJUkNMRSkge1xuICAgICAgICAgICAgICAgIHJ4ID0gcnkgPSBNYXRoLm1pbihNYXRoLmFicyh4KSwgTWF0aC5hYnMoeCAtIHdpZHRoKSwgTWF0aC5hYnMoeSksIE1hdGguYWJzKHkgLSBoZWlnaHQpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZ3JhZGllbnQuc2hhcGUgPT09IENTU1JhZGlhbFNoYXBlLkVMTElQU0UpIHtcbiAgICAgICAgICAgICAgICByeCA9IE1hdGgubWluKE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpKTtcbiAgICAgICAgICAgICAgICByeSA9IE1hdGgubWluKE1hdGguYWJzKHkpLCBNYXRoLmFicyh5IC0gaGVpZ2h0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIENTU1JhZGlhbEV4dGVudC5DTE9TRVNUX0NPUk5FUjpcbiAgICAgICAgICAgIC8vIFRoZSBlbmRpbmcgc2hhcGUgaXMgc2l6ZWQgc28gdGhhdCB0aGF0IGl0IHBhc3NlcyB0aHJvdWdoIHRoZSBjb3JuZXIgb2YgdGhlIGdyYWRpZW50IGJveCBjbG9zZXN0IHRvIHRoZSBncmFkaWVudOKAmXMgY2VudGVyLlxuICAgICAgICAgICAgLy8gSWYgdGhlIHNoYXBlIGlzIGFuIGVsbGlwc2UsIHRoZSBlbmRpbmcgc2hhcGUgaXMgZ2l2ZW4gdGhlIHNhbWUgYXNwZWN0LXJhdGlvIGl0IHdvdWxkIGhhdmUgaWYgY2xvc2VzdC1zaWRlIHdlcmUgc3BlY2lmaWVkLlxuICAgICAgICAgICAgaWYgKGdyYWRpZW50LnNoYXBlID09PSBDU1NSYWRpYWxTaGFwZS5DSVJDTEUpIHtcbiAgICAgICAgICAgICAgICByeCA9IHJ5ID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlKHgsIHkpLFxuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSh4LCB5IC0gaGVpZ2h0KSxcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UoeCAtIHdpZHRoLCB5KSxcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UoeCAtIHdpZHRoLCB5IC0gaGVpZ2h0KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGdyYWRpZW50LnNoYXBlID09PSBDU1NSYWRpYWxTaGFwZS5FTExJUFNFKSB7XG4gICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgcmF0aW8gcnkvcnggKHdoaWNoIGlzIHRvIGJlIHRoZSBzYW1lIGFzIGZvciBcImNsb3Nlc3Qtc2lkZVwiKVxuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBNYXRoLm1pbihNYXRoLmFicyh5KSwgTWF0aC5hYnMoeSAtIGhlaWdodCkpIC8gTWF0aC5taW4oTWF0aC5hYnMoeCksIE1hdGguYWJzKHggLSB3aWR0aCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IFtjeCwgY3ldID0gZmluZENvcm5lcih3aWR0aCwgaGVpZ2h0LCB4LCB5LCB0cnVlKTtcbiAgICAgICAgICAgICAgICByeCA9IGRpc3RhbmNlKGN4IC0geCwgKGN5IC0geSkgLyBjKTtcbiAgICAgICAgICAgICAgICByeSA9IGMgKiByeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgQ1NTUmFkaWFsRXh0ZW50LkZBUlRIRVNUX1NJREU6XG4gICAgICAgICAgICAvLyBTYW1lIGFzIGNsb3Nlc3Qtc2lkZSwgZXhjZXB0IHRoZSBlbmRpbmcgc2hhcGUgaXMgc2l6ZWQgYmFzZWQgb24gdGhlIGZhcnRoZXN0IHNpZGUocylcbiAgICAgICAgICAgIGlmIChncmFkaWVudC5zaGFwZSA9PT0gQ1NTUmFkaWFsU2hhcGUuQ0lSQ0xFKSB7XG4gICAgICAgICAgICAgICAgcnggPSByeSA9IE1hdGgubWF4KE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpLCBNYXRoLmFicyh5KSwgTWF0aC5hYnMoeSAtIGhlaWdodCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChncmFkaWVudC5zaGFwZSA9PT0gQ1NTUmFkaWFsU2hhcGUuRUxMSVBTRSkge1xuICAgICAgICAgICAgICAgIHJ4ID0gTWF0aC5tYXgoTWF0aC5hYnMoeCksIE1hdGguYWJzKHggLSB3aWR0aCkpO1xuICAgICAgICAgICAgICAgIHJ5ID0gTWF0aC5tYXgoTWF0aC5hYnMoeSksIE1hdGguYWJzKHkgLSBoZWlnaHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgQ1NTUmFkaWFsRXh0ZW50LkZBUlRIRVNUX0NPUk5FUjpcbiAgICAgICAgICAgIC8vIFNhbWUgYXMgY2xvc2VzdC1jb3JuZXIsIGV4Y2VwdCB0aGUgZW5kaW5nIHNoYXBlIGlzIHNpemVkIGJhc2VkIG9uIHRoZSBmYXJ0aGVzdCBjb3JuZXIuXG4gICAgICAgICAgICAvLyBJZiB0aGUgc2hhcGUgaXMgYW4gZWxsaXBzZSwgdGhlIGVuZGluZyBzaGFwZSBpcyBnaXZlbiB0aGUgc2FtZSBhc3BlY3QgcmF0aW8gaXQgd291bGQgaGF2ZSBpZiBmYXJ0aGVzdC1zaWRlIHdlcmUgc3BlY2lmaWVkLlxuICAgICAgICAgICAgaWYgKGdyYWRpZW50LnNoYXBlID09PSBDU1NSYWRpYWxTaGFwZS5DSVJDTEUpIHtcbiAgICAgICAgICAgICAgICByeCA9IHJ5ID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlKHgsIHkpLFxuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSh4LCB5IC0gaGVpZ2h0KSxcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UoeCAtIHdpZHRoLCB5KSxcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UoeCAtIHdpZHRoLCB5IC0gaGVpZ2h0KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGdyYWRpZW50LnNoYXBlID09PSBDU1NSYWRpYWxTaGFwZS5FTExJUFNFKSB7XG4gICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgcmF0aW8gcnkvcnggKHdoaWNoIGlzIHRvIGJlIHRoZSBzYW1lIGFzIGZvciBcImZhcnRoZXN0LXNpZGVcIilcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gTWF0aC5tYXgoTWF0aC5hYnMoeSksIE1hdGguYWJzKHkgLSBoZWlnaHQpKSAvIE1hdGgubWF4KE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBbY3gsIGN5XSA9IGZpbmRDb3JuZXIod2lkdGgsIGhlaWdodCwgeCwgeSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJ4ID0gZGlzdGFuY2UoY3ggLSB4LCAoY3kgLSB5KSAvIGMpO1xuICAgICAgICAgICAgICAgIHJ5ID0gYyAqIHJ4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZ3JhZGllbnQuc2l6ZSkpIHtcbiAgICAgICAgcnggPSBnZXRBYnNvbHV0ZVZhbHVlKGdyYWRpZW50LnNpemVbMF0sIHdpZHRoKTtcbiAgICAgICAgcnkgPSBncmFkaWVudC5zaXplLmxlbmd0aCA9PT0gMiA/IGdldEFic29sdXRlVmFsdWUoZ3JhZGllbnQuc2l6ZVsxXSwgaGVpZ2h0KSA6IHJ4O1xuICAgIH1cblxuICAgIHJldHVybiBbcngsIHJ5XTtcbn07XG4iLCJpbXBvcnQge0NTU1ZhbHVlLCBwYXJzZUZ1bmN0aW9uQXJnc30gZnJvbSAnLi4vLi4vc3ludGF4L3BhcnNlcic7XG5pbXBvcnQge1Rva2VuVHlwZX0gZnJvbSAnLi4vLi4vc3ludGF4L3Rva2VuaXplcic7XG5pbXBvcnQge2lzQW5nbGUsIGFuZ2xlIGFzIGFuZ2xlVHlwZSwgcGFyc2VOYW1lZFNpZGUsIGRlZ30gZnJvbSAnLi4vYW5nbGUnO1xuaW1wb3J0IHtDU1NJbWFnZVR5cGUsIENTU0xpbmVhckdyYWRpZW50SW1hZ2UsIEdyYWRpZW50Q29ybmVyLCBVbnByb2Nlc3NlZEdyYWRpZW50Q29sb3JTdG9wfSBmcm9tICcuLi9pbWFnZSc7XG5pbXBvcnQge3BhcnNlQ29sb3JTdG9wfSBmcm9tICcuL2dyYWRpZW50JztcblxuZXhwb3J0IGNvbnN0IGxpbmVhckdyYWRpZW50ID0gKHRva2VuczogQ1NTVmFsdWVbXSk6IENTU0xpbmVhckdyYWRpZW50SW1hZ2UgPT4ge1xuICAgIGxldCBhbmdsZTogbnVtYmVyIHwgR3JhZGllbnRDb3JuZXIgPSBkZWcoMTgwKTtcbiAgICBjb25zdCBzdG9wczogVW5wcm9jZXNzZWRHcmFkaWVudENvbG9yU3RvcFtdID0gW107XG5cbiAgICBwYXJzZUZ1bmN0aW9uQXJncyh0b2tlbnMpLmZvckVhY2goKGFyZywgaSkgPT4ge1xuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RUb2tlbiA9IGFyZ1swXTtcbiAgICAgICAgICAgIGlmIChmaXJzdFRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTiAmJiBmaXJzdFRva2VuLnZhbHVlID09PSAndG8nKSB7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSBwYXJzZU5hbWVkU2lkZShhcmcpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBbmdsZShmaXJzdFRva2VuKSkge1xuICAgICAgICAgICAgICAgIGFuZ2xlID0gYW5nbGVUeXBlLnBhcnNlKGZpcnN0VG9rZW4pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb2xvclN0b3AgPSBwYXJzZUNvbG9yU3RvcChhcmcpO1xuICAgICAgICBzdG9wcy5wdXNoKGNvbG9yU3RvcCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge2FuZ2xlLCBzdG9wcywgdHlwZTogQ1NTSW1hZ2VUeXBlLkxJTkVBUl9HUkFESUVOVH07XG59O1xuIiwiaW1wb3J0IHtDU1NWYWx1ZSwgcGFyc2VGdW5jdGlvbkFyZ3N9IGZyb20gJy4uLy4uL3N5bnRheC9wYXJzZXInO1xuaW1wb3J0IHtDU1NJbWFnZVR5cGUsIENTU0xpbmVhckdyYWRpZW50SW1hZ2UsIEdyYWRpZW50Q29ybmVyLCBVbnByb2Nlc3NlZEdyYWRpZW50Q29sb3JTdG9wfSBmcm9tICcuLi9pbWFnZSc7XG5pbXBvcnQge1Rva2VuVHlwZX0gZnJvbSAnLi4vLi4vc3ludGF4L3Rva2VuaXplcic7XG5pbXBvcnQge2lzQW5nbGUsIGFuZ2xlIGFzIGFuZ2xlVHlwZSwgcGFyc2VOYW1lZFNpZGUsIGRlZ30gZnJvbSAnLi4vYW5nbGUnO1xuaW1wb3J0IHtwYXJzZUNvbG9yU3RvcH0gZnJvbSAnLi9ncmFkaWVudCc7XG5cbmV4cG9ydCBjb25zdCBwcmVmaXhMaW5lYXJHcmFkaWVudCA9ICh0b2tlbnM6IENTU1ZhbHVlW10pOiBDU1NMaW5lYXJHcmFkaWVudEltYWdlID0+IHtcbiAgICBsZXQgYW5nbGU6IG51bWJlciB8IEdyYWRpZW50Q29ybmVyID0gZGVnKDE4MCk7XG4gICAgY29uc3Qgc3RvcHM6IFVucHJvY2Vzc2VkR3JhZGllbnRDb2xvclN0b3BbXSA9IFtdO1xuXG4gICAgcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKS5mb3JFYWNoKChhcmcsIGkpID0+IHtcbiAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VG9rZW4gPSBhcmdbMF07XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZmlyc3RUb2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiZcbiAgICAgICAgICAgICAgICBbJ3RvcCcsICdsZWZ0JywgJ3JpZ2h0JywgJ2JvdHRvbSddLmluZGV4T2YoZmlyc3RUb2tlbi52YWx1ZSkgIT09IC0xXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBhbmdsZSA9IHBhcnNlTmFtZWRTaWRlKGFyZyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FuZ2xlKGZpcnN0VG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSAoYW5nbGVUeXBlLnBhcnNlKGZpcnN0VG9rZW4pICsgZGVnKDI3MCkpICUgZGVnKDM2MCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbG9yU3RvcCA9IHBhcnNlQ29sb3JTdG9wKGFyZyk7XG4gICAgICAgIHN0b3BzLnB1c2goY29sb3JTdG9wKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGFuZ2xlLFxuICAgICAgICBzdG9wcyxcbiAgICAgICAgdHlwZTogQ1NTSW1hZ2VUeXBlLkxJTkVBUl9HUkFESUVOVFxuICAgIH07XG59O1xuIiwiY29uc3QgdGVzdFJhbmdlQm91bmRzID0gKGRvY3VtZW50OiBEb2N1bWVudCkgPT4ge1xuICAgIGNvbnN0IFRFU1RfSEVJR0hUID0gMTIzO1xuXG4gICAgaWYgKGRvY3VtZW50LmNyZWF0ZVJhbmdlKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgaWYgKHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCkge1xuICAgICAgICAgICAgY29uc3QgdGVzdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib3VuZHRlc3QnKTtcbiAgICAgICAgICAgIHRlc3RFbGVtZW50LnN0eWxlLmhlaWdodCA9IGAke1RFU1RfSEVJR0hUfXB4YDtcbiAgICAgICAgICAgIHRlc3RFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZXN0RWxlbWVudCk7XG5cbiAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGUodGVzdEVsZW1lbnQpO1xuICAgICAgICAgICAgY29uc3QgcmFuZ2VCb3VuZHMgPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlSGVpZ2h0ID0gTWF0aC5yb3VuZChyYW5nZUJvdW5kcy5oZWlnaHQpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXN0RWxlbWVudCk7XG4gICAgICAgICAgICBpZiAocmFuZ2VIZWlnaHQgPT09IFRFU1RfSEVJR0hUKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb25zdCB0ZXN0Q09SUyA9ICgpOiBib29sZWFuID0+IHR5cGVvZiBuZXcgSW1hZ2UoKS5jcm9zc09yaWdpbiAhPT0gJ3VuZGVmaW5lZCc7XG5cbmNvbnN0IHRlc3RSZXNwb25zZVR5cGUgPSAoKTogYm9vbGVhbiA9PiB0eXBlb2YgbmV3IFhNTEh0dHBSZXF1ZXN0KCkucmVzcG9uc2VUeXBlID09PSAnc3RyaW5nJztcblxuY29uc3QgdGVzdFNWRyA9IChkb2N1bWVudDogRG9jdW1lbnQpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoIWN0eCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaW1nLnNyYyA9IGBkYXRhOmltYWdlL3N2Zyt4bWwsPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjwvc3ZnPmA7XG5cbiAgICB0cnkge1xuICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7XG4gICAgICAgIGNhbnZhcy50b0RhdGFVUkwoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBpc0dyZWVuUGl4ZWwgPSAoZGF0YTogVWludDhDbGFtcGVkQXJyYXkpOiBib29sZWFuID0+XG4gICAgZGF0YVswXSA9PT0gMCAmJiBkYXRhWzFdID09PSAyNTUgJiYgZGF0YVsyXSA9PT0gMCAmJiBkYXRhWzNdID09PSAyNTU7XG5cbmNvbnN0IHRlc3RGb3JlaWduT2JqZWN0ID0gKGRvY3VtZW50OiBEb2N1bWVudCk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNvbnN0IHNpemUgPSAxMDA7XG4gICAgY2FudmFzLndpZHRoID0gc2l6ZTtcbiAgICBjYW52YXMuaGVpZ2h0ID0gc2l6ZTtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoIWN0eCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZmFsc2UpO1xuICAgIH1cbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYigwLCAyNTUsIDApJztcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgc2l6ZSwgc2l6ZSk7XG5cbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBjb25zdCBncmVlbkltYWdlU3JjID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgIGltZy5zcmMgPSBncmVlbkltYWdlU3JjO1xuICAgIGNvbnN0IHN2ZyA9IGNyZWF0ZUZvcmVpZ25PYmplY3RTVkcoc2l6ZSwgc2l6ZSwgMCwgMCwgaW1nKTtcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JlZCc7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIHNpemUsIHNpemUpO1xuXG4gICAgcmV0dXJuIGxvYWRTZXJpYWxpemVkU1ZHKHN2ZylcbiAgICAgICAgLnRoZW4oKGltZzogSFRNTEltYWdlRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgc2l6ZSwgc2l6ZSkuZGF0YTtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmVkJztcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBzaXplLCBzaXplKTtcblxuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgbm9kZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7Z3JlZW5JbWFnZVNyY30pYDtcbiAgICAgICAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gYCR7c2l6ZX1weGA7XG4gICAgICAgICAgICAvLyBGaXJlZm94IDU1IGRvZXMgbm90IHJlbmRlciBpbmxpbmUgPGltZyAvPiB0YWdzXG4gICAgICAgICAgICByZXR1cm4gaXNHcmVlblBpeGVsKGRhdGEpXG4gICAgICAgICAgICAgICAgPyBsb2FkU2VyaWFsaXplZFNWRyhjcmVhdGVGb3JlaWduT2JqZWN0U1ZHKHNpemUsIHNpemUsIDAsIDAsIG5vZGUpKVxuICAgICAgICAgICAgICAgIDogUHJvbWlzZS5yZWplY3QoZmFsc2UpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoaW1nOiBIVE1MSW1hZ2VFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7XG4gICAgICAgICAgICAvLyBFZGdlIGRvZXMgbm90IHJlbmRlciBiYWNrZ3JvdW5kLWltYWdlc1xuICAgICAgICAgICAgcmV0dXJuIGlzR3JlZW5QaXhlbChjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHNpemUsIHNpemUpLmRhdGEpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4gZmFsc2UpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUZvcmVpZ25PYmplY3RTVkcgPSAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyLCBub2RlOiBOb2RlKSA9PiB7XG4gICAgY29uc3QgeG1sbnMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuICAgIGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh4bWxucywgJ3N2ZycpO1xuICAgIGNvbnN0IGZvcmVpZ25PYmplY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoeG1sbnMsICdmb3JlaWduT2JqZWN0Jyk7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICd3aWR0aCcsIHdpZHRoLnRvU3RyaW5nKCkpO1xuICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnaGVpZ2h0JywgaGVpZ2h0LnRvU3RyaW5nKCkpO1xuXG4gICAgZm9yZWlnbk9iamVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnd2lkdGgnLCAnMTAwJScpO1xuICAgIGZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgJ2hlaWdodCcsICcxMDAlJyk7XG4gICAgZm9yZWlnbk9iamVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneCcsIHgudG9TdHJpbmcoKSk7XG4gICAgZm9yZWlnbk9iamVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneScsIHkudG9TdHJpbmcoKSk7XG4gICAgZm9yZWlnbk9iamVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCcsICd0cnVlJyk7XG4gICAgc3ZnLmFwcGVuZENoaWxkKGZvcmVpZ25PYmplY3QpO1xuXG4gICAgZm9yZWlnbk9iamVjdC5hcHBlbmRDaGlsZChub2RlKTtcblxuICAgIHJldHVybiBzdmc7XG59O1xuXG5leHBvcnQgY29uc3QgbG9hZFNlcmlhbGl6ZWRTVkcgPSAoc3ZnOiBOb2RlKTogUHJvbWlzZTxIVE1MSW1hZ2VFbGVtZW50PiA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKGltZyk7XG4gICAgICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xuXG4gICAgICAgIGltZy5zcmMgPSBgZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJHtlbmNvZGVVUklDb21wb25lbnQobmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyhzdmcpKX1gO1xuICAgIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IEZFQVRVUkVTID0ge1xuICAgIGdldCBTVVBQT1JUX1JBTkdFX0JPVU5EUygpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRlc3RSYW5nZUJvdW5kcyhkb2N1bWVudCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGRUFUVVJFUywgJ1NVUFBPUlRfUkFOR0VfQk9VTkRTJywge3ZhbHVlfSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIGdldCBTVVBQT1JUX1NWR19EUkFXSU5HKCkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGVzdFNWRyhkb2N1bWVudCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGRUFUVVJFUywgJ1NVUFBPUlRfU1ZHX0RSQVdJTkcnLCB7dmFsdWV9KTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgZ2V0IFNVUFBPUlRfRk9SRUlHTk9CSkVDVF9EUkFXSU5HKCkge1xuICAgICAgICAndXNlIHN0cmljdCc7XG4gICAgICAgIGNvbnN0IHZhbHVlID1cbiAgICAgICAgICAgIHR5cGVvZiBBcnJheS5mcm9tID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB3aW5kb3cuZmV0Y2ggPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICA/IHRlc3RGb3JlaWduT2JqZWN0KGRvY3VtZW50KVxuICAgICAgICAgICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZFQVRVUkVTLCAnU1VQUE9SVF9GT1JFSUdOT0JKRUNUX0RSQVdJTkcnLCB7dmFsdWV9KTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgZ2V0IFNVUFBPUlRfQ09SU19JTUFHRVMoKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0ZXN0Q09SUygpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRkVBVFVSRVMsICdTVVBQT1JUX0NPUlNfSU1BR0VTJywge3ZhbHVlfSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIGdldCBTVVBQT1JUX1JFU1BPTlNFX1RZUEUoKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0ZXN0UmVzcG9uc2VUeXBlKCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGRUFUVVJFUywgJ1NVUFBPUlRfUkVTUE9OU0VfVFlQRScsIHt2YWx1ZX0pO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBnZXQgU1VQUE9SVF9DT1JTX1hIUigpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuICAgICAgICBjb25zdCB2YWx1ZSA9ICd3aXRoQ3JlZGVudGlhbHMnIGluIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRkVBVFVSRVMsICdTVVBQT1JUX0NPUlNfWEhSJywge3ZhbHVlfSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59O1xuIiwiZXhwb3J0IGludGVyZmFjZSBMb2dnZXJPcHRpb25zIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIGVuYWJsZWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBMb2dnZXIge1xuICAgIHN0YXRpYyBpbnN0YW5jZXM6IHtba2V5OiBzdHJpbmddOiBMb2dnZXJ9ID0ge307XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGlkOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSByZWFkb25seSBlbmFibGVkOiBib29sZWFuO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgc3RhcnQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHtpZCwgZW5hYmxlZH06IExvZ2dlck9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSBlbmFibGVkO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGRlYnVnKC4uLmFyZ3M6IGFueSkge1xuICAgICAgICBpZiAodGhpcy5lbmFibGVkKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmIHR5cGVvZiBjb25zb2xlLmRlYnVnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKHRoaXMuaWQsIGAke3RoaXMuZ2V0VGltZSgpfW1zYCwgLi4uYXJncyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5mbyguLi5hcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFRpbWUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLSB0aGlzLnN0YXJ0O1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGUob3B0aW9uczogTG9nZ2VyT3B0aW9ucykge1xuICAgICAgICBMb2dnZXIuaW5zdGFuY2VzW29wdGlvbnMuaWRdID0gbmV3IExvZ2dlcihvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVzdHJveShpZDogc3RyaW5nKSB7XG4gICAgICAgIGRlbGV0ZSBMb2dnZXIuaW5zdGFuY2VzW2lkXTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoaWQ6IHN0cmluZyk6IExvZ2dlciB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gTG9nZ2VyLmluc3RhbmNlc1tpZF07XG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGxvZ2dlciBpbnN0YW5jZSBmb3VuZCB3aXRoIGlkICR7aWR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgaW5mbyguLi5hcmdzOiBhbnkpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlZCkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiB0eXBlb2YgY29uc29sZS5pbmZvID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8odGhpcy5pZCwgYCR7dGhpcy5nZXRUaW1lKCl9bXNgLCAuLi5hcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgZXJyb3IoLi4uYXJnczogYW55KSB7XG4gICAgICAgIGlmICh0aGlzLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5pZCwgYCR7dGhpcy5nZXRUaW1lKCl9bXNgLCAuLi5hcmdzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmZvKC4uLmFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtGRUFUVVJFU30gZnJvbSAnLi9mZWF0dXJlcyc7XG5pbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi9sb2dnZXInO1xuXG5leHBvcnQgY2xhc3MgQ2FjaGVTdG9yYWdlIHtcbiAgICBwcml2YXRlIHN0YXRpYyBfY2FjaGVzOiB7W2tleTogc3RyaW5nXTogQ2FjaGV9ID0ge307XG4gICAgcHJpdmF0ZSBzdGF0aWMgX2xpbms/OiBIVE1MQW5jaG9yRWxlbWVudDtcbiAgICBwcml2YXRlIHN0YXRpYyBfb3JpZ2luOiBzdHJpbmcgPSAnYWJvdXQ6YmxhbmsnO1xuICAgIHByaXZhdGUgc3RhdGljIF9jdXJyZW50OiBDYWNoZSB8IG51bGwgPSBudWxsO1xuXG4gICAgc3RhdGljIGNyZWF0ZShuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IFJlc291cmNlT3B0aW9ucyk6IENhY2hlIHtcbiAgICAgICAgcmV0dXJuIChDYWNoZVN0b3JhZ2UuX2NhY2hlc1tuYW1lXSA9IG5ldyBDYWNoZShuYW1lLCBvcHRpb25zKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRlc3Ryb3kobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGRlbGV0ZSBDYWNoZVN0b3JhZ2UuX2NhY2hlc1tuYW1lXTtcbiAgICB9XG5cbiAgICBzdGF0aWMgb3BlbihuYW1lOiBzdHJpbmcpOiBDYWNoZSB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gQ2FjaGVTdG9yYWdlLl9jYWNoZXNbbmFtZV07XG4gICAgICAgIGlmICh0eXBlb2YgY2FjaGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGU7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhY2hlIHdpdGgga2V5IFwiJHtuYW1lfVwiIG5vdCBmb3VuZGApO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRPcmlnaW4odXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBsaW5rID0gQ2FjaGVTdG9yYWdlLl9saW5rO1xuICAgICAgICBpZiAoIWxpbmspIHtcbiAgICAgICAgICAgIHJldHVybiAnYWJvdXQ6YmxhbmsnO1xuICAgICAgICB9XG5cbiAgICAgICAgbGluay5ocmVmID0gdXJsO1xuICAgICAgICBsaW5rLmhyZWYgPSBsaW5rLmhyZWY7IC8vIElFOSwgTE9MISAtIGh0dHA6Ly9qc2ZpZGRsZS5uZXQvbmlrbGFzdmgvMmU0OGIvXG4gICAgICAgIHJldHVybiBsaW5rLnByb3RvY29sICsgbGluay5ob3N0bmFtZSArIGxpbmsucG9ydDtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNTYW1lT3JpZ2luKHNyYzogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBDYWNoZVN0b3JhZ2UuZ2V0T3JpZ2luKHNyYykgPT09IENhY2hlU3RvcmFnZS5fb3JpZ2luO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXRDb250ZXh0KHdpbmRvdzogV2luZG93KSB7XG4gICAgICAgIENhY2hlU3RvcmFnZS5fbGluayA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIENhY2hlU3RvcmFnZS5fb3JpZ2luID0gQ2FjaGVTdG9yYWdlLmdldE9yaWdpbih3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldEluc3RhbmNlKCk6IENhY2hlIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IENhY2hlU3RvcmFnZS5fY3VycmVudDtcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gY2FjaGUgaW5zdGFuY2UgYXR0YWNoZWRgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXR0YWNoSW5zdGFuY2UoY2FjaGU6IENhY2hlKSB7XG4gICAgICAgIENhY2hlU3RvcmFnZS5fY3VycmVudCA9IGNhY2hlO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZXRhY2hJbnN0YW5jZSgpIHtcbiAgICAgICAgQ2FjaGVTdG9yYWdlLl9jdXJyZW50ID0gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VPcHRpb25zIHtcbiAgICBpbWFnZVRpbWVvdXQ6IG51bWJlcjtcbiAgICB1c2VDT1JTOiBib29sZWFuO1xuICAgIGFsbG93VGFpbnQ6IGJvb2xlYW47XG4gICAgcHJveHk/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBDYWNoZSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jYWNoZToge1trZXk6IHN0cmluZ106IFByb21pc2U8YW55Pn07XG4gICAgcHJpdmF0ZSByZWFkb25seSBfb3B0aW9uczogUmVzb3VyY2VPcHRpb25zO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgaWQ6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM6IFJlc291cmNlT3B0aW9ucykge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLl9jYWNoZSA9IHt9O1xuICAgIH1cblxuICAgIGFkZEltYWdlKHNyYzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICBpZiAodGhpcy5oYXMoc3JjKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0Jsb2JJbWFnZShzcmMpIHx8IGlzUmVuZGVyYWJsZShzcmMpKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZVtzcmNdID0gdGhpcy5sb2FkSW1hZ2Uoc3JjKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgbWF0Y2goc3JjOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVbc3JjXTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGxvYWRJbWFnZShrZXk6IHN0cmluZykge1xuICAgICAgICBjb25zdCBpc1NhbWVPcmlnaW4gPSBDYWNoZVN0b3JhZ2UuaXNTYW1lT3JpZ2luKGtleSk7XG4gICAgICAgIGNvbnN0IHVzZUNPUlMgPVxuICAgICAgICAgICAgIWlzSW5saW5lSW1hZ2Uoa2V5KSAmJiB0aGlzLl9vcHRpb25zLnVzZUNPUlMgPT09IHRydWUgJiYgRkVBVFVSRVMuU1VQUE9SVF9DT1JTX0lNQUdFUyAmJiAhaXNTYW1lT3JpZ2luO1xuICAgICAgICBjb25zdCB1c2VQcm94eSA9XG4gICAgICAgICAgICAhaXNJbmxpbmVJbWFnZShrZXkpICYmXG4gICAgICAgICAgICAhaXNTYW1lT3JpZ2luICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5fb3B0aW9ucy5wcm94eSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIEZFQVRVUkVTLlNVUFBPUlRfQ09SU19YSFIgJiZcbiAgICAgICAgICAgICF1c2VDT1JTO1xuICAgICAgICBpZiAoIWlzU2FtZU9yaWdpbiAmJiB0aGlzLl9vcHRpb25zLmFsbG93VGFpbnQgPT09IGZhbHNlICYmICFpc0lubGluZUltYWdlKGtleSkgJiYgIXVzZVByb3h5ICYmICF1c2VDT1JTKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3JjID0ga2V5O1xuICAgICAgICBpZiAodXNlUHJveHkpIHtcbiAgICAgICAgICAgIHNyYyA9IGF3YWl0IHRoaXMucHJveHkoc3JjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZSh0aGlzLmlkKS5kZWJ1ZyhgQWRkZWQgaW1hZ2UgJHtrZXkuc3Vic3RyaW5nKDAsIDI1Nil9YCk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoaW1nKTtcbiAgICAgICAgICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICAgICAgLy9pb3Mgc2FmYXJpIDEwLjMgdGFpbnRzIGNhbnZhcyB3aXRoIGRhdGEgdXJscyB1bmxlc3MgY3Jvc3NPcmlnaW4gaXMgc2V0IHRvIGFub255bW91c1xuICAgICAgICAgICAgaWYgKGlzSW5saW5lQmFzZTY0SW1hZ2Uoc3JjKSB8fCB1c2VDT1JTKSB7XG4gICAgICAgICAgICAgICAgaW1nLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWcuc3JjID0gc3JjO1xuICAgICAgICAgICAgaWYgKGltZy5jb21wbGV0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIElubGluZSBYTUwgaW1hZ2VzIG1heSBmYWlsIHRvIHBhcnNlLCB0aHJvd2luZyBhbiBFcnJvciBsYXRlciBvblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZShpbWcpLCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuaW1hZ2VUaW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHJlamVjdChgVGltZWQgb3V0ICgke3RoaXMuX29wdGlvbnMuaW1hZ2VUaW1lb3V0fW1zKSBsb2FkaW5nIGltYWdlYCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuaW1hZ2VUaW1lb3V0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYXMoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLl9jYWNoZVtrZXldICE9PSAndW5kZWZpbmVkJztcbiAgICB9XG5cbiAgICBrZXlzKCk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShPYmplY3Qua2V5cyh0aGlzLl9jYWNoZSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcHJveHkoc3JjOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBjb25zdCBwcm94eSA9IHRoaXMuX29wdGlvbnMucHJveHk7XG5cbiAgICAgICAgaWYgKCFwcm94eSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBwcm94eSBkZWZpbmVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBrZXkgPSBzcmMuc3Vic3RyaW5nKDAsIDI1Nik7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlVHlwZSA9IEZFQVRVUkVTLlNVUFBPUlRfUkVTUE9OU0VfVFlQRSA/ICdibG9iJyA6ICd0ZXh0JztcbiAgICAgICAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgeGhyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh4aHIucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4gcmVzb2x2ZShyZWFkZXIucmVzdWx0IGFzIHN0cmluZyksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGUgPT4gcmVqZWN0KGUpLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTCh4aHIucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGBGYWlsZWQgdG8gcHJveHkgcmVzb3VyY2UgJHtrZXl9IHdpdGggc3RhdHVzIGNvZGUgJHt4aHIuc3RhdHVzfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHhoci5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIGAke3Byb3h5fT91cmw9JHtlbmNvZGVVUklDb21wb25lbnQoc3JjKX0mcmVzcG9uc2VUeXBlPSR7cmVzcG9uc2VUeXBlfWApO1xuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2VUeXBlICE9PSAndGV4dCcgJiYgeGhyIGluc3RhbmNlb2YgWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5pbWFnZVRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gdGhpcy5fb3B0aW9ucy5pbWFnZVRpbWVvdXQ7XG4gICAgICAgICAgICAgICAgeGhyLnRpbWVvdXQgPSB0aW1lb3V0O1xuICAgICAgICAgICAgICAgIHhoci5vbnRpbWVvdXQgPSAoKSA9PiByZWplY3QoYFRpbWVkIG91dCAoJHt0aW1lb3V0fW1zKSBwcm94eWluZyAke2tleX1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jb25zdCBJTkxJTkVfU1ZHID0gL15kYXRhOmltYWdlXFwvc3ZnXFwreG1sL2k7XG5jb25zdCBJTkxJTkVfQkFTRTY0ID0gL15kYXRhOmltYWdlXFwvLio7YmFzZTY0LC9pO1xuY29uc3QgSU5MSU5FX0lNRyA9IC9eZGF0YTppbWFnZVxcLy4qL2k7XG5cbmNvbnN0IGlzUmVuZGVyYWJsZSA9IChzcmM6IHN0cmluZyk6IGJvb2xlYW4gPT4gRkVBVFVSRVMuU1VQUE9SVF9TVkdfRFJBV0lORyB8fCAhaXNTVkcoc3JjKTtcbmNvbnN0IGlzSW5saW5lSW1hZ2UgPSAoc3JjOiBzdHJpbmcpOiBib29sZWFuID0+IElOTElORV9JTUcudGVzdChzcmMpO1xuY29uc3QgaXNJbmxpbmVCYXNlNjRJbWFnZSA9IChzcmM6IHN0cmluZyk6IGJvb2xlYW4gPT4gSU5MSU5FX0JBU0U2NC50ZXN0KHNyYyk7XG5jb25zdCBpc0Jsb2JJbWFnZSA9IChzcmM6IHN0cmluZyk6IGJvb2xlYW4gPT4gc3JjLnN1YnN0cigwLCA0KSA9PT0gJ2Jsb2InO1xuXG5jb25zdCBpc1NWRyA9IChzcmM6IHN0cmluZyk6IGJvb2xlYW4gPT4gc3JjLnN1YnN0cigtMykudG9Mb3dlckNhc2UoKSA9PT0gJ3N2ZycgfHwgSU5MSU5FX1NWRy50ZXN0KHNyYyk7XG4iLCJpbXBvcnQge0NTU1ZhbHVlLCBpc0lkZW50VG9rZW4sIGlzTnVtYmVyVG9rZW4sIG5vbkZ1bmN0aW9uQXJnU2VwYXJhdG9yLCBwYXJzZUZ1bmN0aW9uQXJnc30gZnJvbSAnLi4vLi4vc3ludGF4L3BhcnNlcic7XG5pbXBvcnQge1xuICAgIENTU0ltYWdlVHlwZSxcbiAgICBDU1NMaW5lYXJHcmFkaWVudEltYWdlLFxuICAgIENTU1JhZGlhbEV4dGVudCxcbiAgICBDU1NSYWRpYWxHcmFkaWVudEltYWdlLFxuICAgIENTU1JhZGlhbFNoYXBlLFxuICAgIENTU1JhZGlhbFNpemUsXG4gICAgVW5wcm9jZXNzZWRHcmFkaWVudENvbG9yU3RvcFxufSBmcm9tICcuLi9pbWFnZSc7XG5pbXBvcnQge2RlZ30gZnJvbSAnLi4vYW5nbGUnO1xuaW1wb3J0IHtUb2tlblR5cGV9IGZyb20gJy4uLy4uL3N5bnRheC90b2tlbml6ZXInO1xuaW1wb3J0IHtjb2xvciBhcyBjb2xvclR5cGV9IGZyb20gJy4uL2NvbG9yJztcbmltcG9ydCB7SFVORFJFRF9QRVJDRU5ULCBMZW5ndGhQZXJjZW50YWdlLCBaRVJPX0xFTkdUSH0gZnJvbSAnLi4vbGVuZ3RoLXBlcmNlbnRhZ2UnO1xuXG5leHBvcnQgY29uc3Qgd2Via2l0R3JhZGllbnQgPSAodG9rZW5zOiBDU1NWYWx1ZVtdKTogQ1NTTGluZWFyR3JhZGllbnRJbWFnZSB8IENTU1JhZGlhbEdyYWRpZW50SW1hZ2UgPT4ge1xuICAgIGxldCBhbmdsZSA9IGRlZygxODApO1xuICAgIGNvbnN0IHN0b3BzOiBVbnByb2Nlc3NlZEdyYWRpZW50Q29sb3JTdG9wW10gPSBbXTtcbiAgICBsZXQgdHlwZSA9IENTU0ltYWdlVHlwZS5MSU5FQVJfR1JBRElFTlQ7XG4gICAgbGV0IHNoYXBlOiBDU1NSYWRpYWxTaGFwZSA9IENTU1JhZGlhbFNoYXBlLkNJUkNMRTtcbiAgICBsZXQgc2l6ZTogQ1NTUmFkaWFsU2l6ZSA9IENTU1JhZGlhbEV4dGVudC5GQVJUSEVTVF9DT1JORVI7XG4gICAgY29uc3QgcG9zaXRpb246IExlbmd0aFBlcmNlbnRhZ2VbXSA9IFtdO1xuICAgIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucykuZm9yRWFjaCgoYXJnLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGZpcnN0VG9rZW4gPSBhcmdbMF07XG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoaXNJZGVudFRva2VuKGZpcnN0VG9rZW4pICYmIGZpcnN0VG9rZW4udmFsdWUgPT09ICdsaW5lYXInKSB7XG4gICAgICAgICAgICAgICAgdHlwZSA9IENTU0ltYWdlVHlwZS5MSU5FQVJfR1JBRElFTlQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0lkZW50VG9rZW4oZmlyc3RUb2tlbikgJiYgZmlyc3RUb2tlbi52YWx1ZSA9PT0gJ3JhZGlhbCcpIHtcbiAgICAgICAgICAgICAgICB0eXBlID0gQ1NTSW1hZ2VUeXBlLlJBRElBTF9HUkFESUVOVDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlyc3RUb2tlbi50eXBlID09PSBUb2tlblR5cGUuRlVOQ1RJT04pIHtcbiAgICAgICAgICAgIGlmIChmaXJzdFRva2VuLm5hbWUgPT09ICdmcm9tJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29sb3JUeXBlLnBhcnNlKGZpcnN0VG9rZW4udmFsdWVzWzBdKTtcbiAgICAgICAgICAgICAgICBzdG9wcy5wdXNoKHtzdG9wOiBaRVJPX0xFTkdUSCwgY29sb3J9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlyc3RUb2tlbi5uYW1lID09PSAndG8nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBjb2xvclR5cGUucGFyc2UoZmlyc3RUb2tlbi52YWx1ZXNbMF0pO1xuICAgICAgICAgICAgICAgIHN0b3BzLnB1c2goe3N0b3A6IEhVTkRSRURfUEVSQ0VOVCwgY29sb3J9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlyc3RUb2tlbi5uYW1lID09PSAnY29sb3Itc3RvcCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBmaXJzdFRva2VuLnZhbHVlcy5maWx0ZXIobm9uRnVuY3Rpb25BcmdTZXBhcmF0b3IpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gY29sb3JUeXBlLnBhcnNlKHZhbHVlc1sxXSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3AgPSB2YWx1ZXNbMF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc051bWJlclRva2VuKHN0b3ApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wOiB7dHlwZTogVG9rZW5UeXBlLlBFUkNFTlRBR0VfVE9LRU4sIG51bWJlcjogc3RvcC5udW1iZXIgKiAxMDAsIGZsYWdzOiBzdG9wLmZsYWdzfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB0eXBlID09PSBDU1NJbWFnZVR5cGUuTElORUFSX0dSQURJRU5UXG4gICAgICAgID8ge1xuICAgICAgICAgICAgICBhbmdsZTogKGFuZ2xlICsgZGVnKDE4MCkpICUgZGVnKDM2MCksXG4gICAgICAgICAgICAgIHN0b3BzLFxuICAgICAgICAgICAgICB0eXBlXG4gICAgICAgICAgfVxuICAgICAgICA6IHtzaXplLCBzaGFwZSwgc3RvcHMsIHBvc2l0aW9uLCB0eXBlfTtcbn07XG4iLCJpbXBvcnQge0NTU1ZhbHVlLCBpc0lkZW50VG9rZW4sIHBhcnNlRnVuY3Rpb25BcmdzfSBmcm9tICcuLi8uLi9zeW50YXgvcGFyc2VyJztcbmltcG9ydCB7XG4gICAgQ1NTSW1hZ2VUeXBlLFxuICAgIENTU1JhZGlhbEV4dGVudCxcbiAgICBDU1NSYWRpYWxHcmFkaWVudEltYWdlLFxuICAgIENTU1JhZGlhbFNoYXBlLFxuICAgIENTU1JhZGlhbFNpemUsXG4gICAgVW5wcm9jZXNzZWRHcmFkaWVudENvbG9yU3RvcFxufSBmcm9tICcuLi9pbWFnZSc7XG5pbXBvcnQge3BhcnNlQ29sb3JTdG9wfSBmcm9tICcuL2dyYWRpZW50JztcbmltcG9ydCB7RklGVFlfUEVSQ0VOVCwgSFVORFJFRF9QRVJDRU5ULCBpc0xlbmd0aFBlcmNlbnRhZ2UsIExlbmd0aFBlcmNlbnRhZ2UsIFpFUk9fTEVOR1RIfSBmcm9tICcuLi9sZW5ndGgtcGVyY2VudGFnZSc7XG5pbXBvcnQge2lzTGVuZ3RofSBmcm9tICcuLi9sZW5ndGgnO1xuZXhwb3J0IGNvbnN0IENMT1NFU1RfU0lERSA9ICdjbG9zZXN0LXNpZGUnO1xuZXhwb3J0IGNvbnN0IEZBUlRIRVNUX1NJREUgPSAnZmFydGhlc3Qtc2lkZSc7XG5leHBvcnQgY29uc3QgQ0xPU0VTVF9DT1JORVIgPSAnY2xvc2VzdC1jb3JuZXInO1xuZXhwb3J0IGNvbnN0IEZBUlRIRVNUX0NPUk5FUiA9ICdmYXJ0aGVzdC1jb3JuZXInO1xuZXhwb3J0IGNvbnN0IENJUkNMRSA9ICdjaXJjbGUnO1xuZXhwb3J0IGNvbnN0IEVMTElQU0UgPSAnZWxsaXBzZSc7XG5leHBvcnQgY29uc3QgQ09WRVIgPSAnY292ZXInO1xuZXhwb3J0IGNvbnN0IENPTlRBSU4gPSAnY29udGFpbic7XG5cbmV4cG9ydCBjb25zdCByYWRpYWxHcmFkaWVudCA9ICh0b2tlbnM6IENTU1ZhbHVlW10pOiBDU1NSYWRpYWxHcmFkaWVudEltYWdlID0+IHtcbiAgICBsZXQgc2hhcGU6IENTU1JhZGlhbFNoYXBlID0gQ1NTUmFkaWFsU2hhcGUuQ0lSQ0xFO1xuICAgIGxldCBzaXplOiBDU1NSYWRpYWxTaXplID0gQ1NTUmFkaWFsRXh0ZW50LkZBUlRIRVNUX0NPUk5FUjtcbiAgICBjb25zdCBzdG9wczogVW5wcm9jZXNzZWRHcmFkaWVudENvbG9yU3RvcFtdID0gW107XG4gICAgY29uc3QgcG9zaXRpb246IExlbmd0aFBlcmNlbnRhZ2VbXSA9IFtdO1xuICAgIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucykuZm9yRWFjaCgoYXJnLCBpKSA9PiB7XG4gICAgICAgIGxldCBpc0NvbG9yU3RvcCA9IHRydWU7XG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICBsZXQgaXNBdFBvc2l0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICBpc0NvbG9yU3RvcCA9IGFyZy5yZWR1Y2UoKGFjYywgdG9rZW4pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNBdFBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lkZW50VG9rZW4odG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaChGSUZUWV9QRVJDRU5UKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi5wdXNoKFpFUk9fTEVOR1RIKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaChIVU5EUkVEX1BFUkNFTlQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzTGVuZ3RoUGVyY2VudGFnZSh0b2tlbikgfHwgaXNMZW5ndGgodG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNJZGVudFRva2VuKHRva2VuKSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENJUkNMRTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFwZSA9IENTU1JhZGlhbFNoYXBlLkNJUkNMRTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEVMTElQU0U6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGUgPSBDU1NSYWRpYWxTaGFwZS5FTExJUFNFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2F0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F0UG9zaXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ0xPU0VTVF9TSURFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuQ0xPU0VTVF9TSURFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ09WRVI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEZBUlRIRVNUX1NJREU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5GQVJUSEVTVF9TSURFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ09OVEFJTjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ0xPU0VTVF9DT1JORVI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5DTE9TRVNUX0NPUk5FUjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEZBUlRIRVNUX0NPUk5FUjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gQ1NTUmFkaWFsRXh0ZW50LkZBUlRIRVNUX0NPUk5FUjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzTGVuZ3RoKHRva2VuKSB8fCBpc0xlbmd0aFBlcmNlbnRhZ2UodG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzaXplKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNpemUucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIGlzQ29sb3JTdG9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0NvbG9yU3RvcCkge1xuICAgICAgICAgICAgY29uc3QgY29sb3JTdG9wID0gcGFyc2VDb2xvclN0b3AoYXJnKTtcbiAgICAgICAgICAgIHN0b3BzLnB1c2goY29sb3JTdG9wKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtzaXplLCBzaGFwZSwgc3RvcHMsIHBvc2l0aW9uLCB0eXBlOiBDU1NJbWFnZVR5cGUuUkFESUFMX0dSQURJRU5UfTtcbn07XG4iLCJpbXBvcnQge0NTU1ZhbHVlLCBpc0lkZW50VG9rZW4sIHBhcnNlRnVuY3Rpb25BcmdzfSBmcm9tICcuLi8uLi9zeW50YXgvcGFyc2VyJztcbmltcG9ydCB7XG4gICAgQ1NTSW1hZ2VUeXBlLFxuICAgIENTU1JhZGlhbEV4dGVudCxcbiAgICBDU1NSYWRpYWxHcmFkaWVudEltYWdlLFxuICAgIENTU1JhZGlhbFNoYXBlLFxuICAgIENTU1JhZGlhbFNpemUsXG4gICAgVW5wcm9jZXNzZWRHcmFkaWVudENvbG9yU3RvcFxufSBmcm9tICcuLi9pbWFnZSc7XG5pbXBvcnQge3BhcnNlQ29sb3JTdG9wfSBmcm9tICcuL2dyYWRpZW50JztcbmltcG9ydCB7RklGVFlfUEVSQ0VOVCwgSFVORFJFRF9QRVJDRU5ULCBpc0xlbmd0aFBlcmNlbnRhZ2UsIExlbmd0aFBlcmNlbnRhZ2UsIFpFUk9fTEVOR1RIfSBmcm9tICcuLi9sZW5ndGgtcGVyY2VudGFnZSc7XG5pbXBvcnQge2lzTGVuZ3RofSBmcm9tICcuLi9sZW5ndGgnO1xuaW1wb3J0IHtcbiAgICBDSVJDTEUsXG4gICAgQ0xPU0VTVF9DT1JORVIsXG4gICAgQ0xPU0VTVF9TSURFLFxuICAgIENPTlRBSU4sXG4gICAgQ09WRVIsXG4gICAgRUxMSVBTRSxcbiAgICBGQVJUSEVTVF9DT1JORVIsXG4gICAgRkFSVEhFU1RfU0lERVxufSBmcm9tICcuL3JhZGlhbC1ncmFkaWVudCc7XG5cbmV4cG9ydCBjb25zdCBwcmVmaXhSYWRpYWxHcmFkaWVudCA9ICh0b2tlbnM6IENTU1ZhbHVlW10pOiBDU1NSYWRpYWxHcmFkaWVudEltYWdlID0+IHtcbiAgICBsZXQgc2hhcGU6IENTU1JhZGlhbFNoYXBlID0gQ1NTUmFkaWFsU2hhcGUuQ0lSQ0xFO1xuICAgIGxldCBzaXplOiBDU1NSYWRpYWxTaXplID0gQ1NTUmFkaWFsRXh0ZW50LkZBUlRIRVNUX0NPUk5FUjtcbiAgICBjb25zdCBzdG9wczogVW5wcm9jZXNzZWRHcmFkaWVudENvbG9yU3RvcFtdID0gW107XG4gICAgY29uc3QgcG9zaXRpb246IExlbmd0aFBlcmNlbnRhZ2VbXSA9IFtdO1xuXG4gICAgcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKS5mb3JFYWNoKChhcmcsIGkpID0+IHtcbiAgICAgICAgbGV0IGlzQ29sb3JTdG9wID0gdHJ1ZTtcbiAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIGlzQ29sb3JTdG9wID0gYXJnLnJlZHVjZSgoYWNjLCB0b2tlbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpc0lkZW50VG9rZW4odG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaChGSUZUWV9QRVJDRU5UKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaChaRVJPX0xFTkdUSCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi5wdXNoKEhVTkRSRURfUEVSQ0VOVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0xlbmd0aFBlcmNlbnRhZ2UodG9rZW4pIHx8IGlzTGVuZ3RoKHRva2VuKSkge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCBpc0NvbG9yU3RvcCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMSkge1xuICAgICAgICAgICAgaXNDb2xvclN0b3AgPSBhcmcucmVkdWNlKChhY2MsIHRva2VuKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRUb2tlbih0b2tlbikpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDSVJDTEU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGUgPSBDU1NSYWRpYWxTaGFwZS5DSVJDTEU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBFTExJUFNFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlID0gQ1NTUmFkaWFsU2hhcGUuRUxMSVBTRTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENPTlRBSU46XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENMT1NFU1RfU0lERTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gQ1NTUmFkaWFsRXh0ZW50LkNMT1NFU1RfU0lERTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEZBUlRIRVNUX1NJREU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5GQVJUSEVTVF9TSURFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ0xPU0VTVF9DT1JORVI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5DTE9TRVNUX0NPUk5FUjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENPVkVSOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBGQVJUSEVTVF9DT1JORVI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5GQVJUSEVTVF9DT1JORVI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0xlbmd0aCh0b2tlbikgfHwgaXNMZW5ndGhQZXJjZW50YWdlKHRva2VuKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2l6ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzaXplLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIGlzQ29sb3JTdG9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0NvbG9yU3RvcCkge1xuICAgICAgICAgICAgY29uc3QgY29sb3JTdG9wID0gcGFyc2VDb2xvclN0b3AoYXJnKTtcbiAgICAgICAgICAgIHN0b3BzLnB1c2goY29sb3JTdG9wKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtzaXplLCBzaGFwZSwgc3RvcHMsIHBvc2l0aW9uLCB0eXBlOiBDU1NJbWFnZVR5cGUuUkFESUFMX0dSQURJRU5UfTtcbn07XG4iLCJpbXBvcnQge0NTU1ZhbHVlfSBmcm9tICcuLi9zeW50YXgvcGFyc2VyJztcbmltcG9ydCB7VG9rZW5UeXBlfSBmcm9tICcuLi9zeW50YXgvdG9rZW5pemVyJztcbmltcG9ydCB7Q29sb3J9IGZyb20gJy4vY29sb3InO1xuaW1wb3J0IHtsaW5lYXJHcmFkaWVudH0gZnJvbSAnLi9mdW5jdGlvbnMvbGluZWFyLWdyYWRpZW50JztcbmltcG9ydCB7cHJlZml4TGluZWFyR3JhZGllbnR9IGZyb20gJy4vZnVuY3Rpb25zLy1wcmVmaXgtbGluZWFyLWdyYWRpZW50JztcbmltcG9ydCB7SVR5cGVEZXNjcmlwdG9yfSBmcm9tICcuLi9JVHlwZURlc2NyaXB0b3InO1xuaW1wb3J0IHtDYWNoZVN0b3JhZ2V9IGZyb20gJy4uLy4uL2NvcmUvY2FjaGUtc3RvcmFnZSc7XG5pbXBvcnQge0xlbmd0aFBlcmNlbnRhZ2V9IGZyb20gJy4vbGVuZ3RoLXBlcmNlbnRhZ2UnO1xuaW1wb3J0IHt3ZWJraXRHcmFkaWVudH0gZnJvbSAnLi9mdW5jdGlvbnMvLXdlYmtpdC1ncmFkaWVudCc7XG5pbXBvcnQge3JhZGlhbEdyYWRpZW50fSBmcm9tICcuL2Z1bmN0aW9ucy9yYWRpYWwtZ3JhZGllbnQnO1xuaW1wb3J0IHtwcmVmaXhSYWRpYWxHcmFkaWVudH0gZnJvbSAnLi9mdW5jdGlvbnMvLXByZWZpeC1yYWRpYWwtZ3JhZGllbnQnO1xuXG5leHBvcnQgZW51bSBDU1NJbWFnZVR5cGUge1xuICAgIFVSTCxcbiAgICBMSU5FQVJfR1JBRElFTlQsXG4gICAgUkFESUFMX0dSQURJRU5UXG59XG5cbmV4cG9ydCBjb25zdCBpc0xpbmVhckdyYWRpZW50ID0gKGJhY2tncm91bmQ6IElDU1NJbWFnZSk6IGJhY2tncm91bmQgaXMgQ1NTTGluZWFyR3JhZGllbnRJbWFnZSA9PiB7XG4gICAgcmV0dXJuIGJhY2tncm91bmQudHlwZSA9PT0gQ1NTSW1hZ2VUeXBlLkxJTkVBUl9HUkFESUVOVDtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1JhZGlhbEdyYWRpZW50ID0gKGJhY2tncm91bmQ6IElDU1NJbWFnZSk6IGJhY2tncm91bmQgaXMgQ1NTUmFkaWFsR3JhZGllbnRJbWFnZSA9PiB7XG4gICAgcmV0dXJuIGJhY2tncm91bmQudHlwZSA9PT0gQ1NTSW1hZ2VUeXBlLlJBRElBTF9HUkFESUVOVDtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgVW5wcm9jZXNzZWRHcmFkaWVudENvbG9yU3RvcCB7XG4gICAgY29sb3I6IENvbG9yO1xuICAgIHN0b3A6IExlbmd0aFBlcmNlbnRhZ2UgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyYWRpZW50Q29sb3JTdG9wIHtcbiAgICBjb2xvcjogQ29sb3I7XG4gICAgc3RvcDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDU1NJbWFnZSB7XG4gICAgdHlwZTogQ1NTSW1hZ2VUeXBlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENTU1VSTEltYWdlIGV4dGVuZHMgSUNTU0ltYWdlIHtcbiAgICB1cmw6IHN0cmluZztcbiAgICB0eXBlOiBDU1NJbWFnZVR5cGUuVVJMO1xufVxuXG4vLyBpbnRlcmZhY2UgSUNTU0dlbmVyYXRlZEltYWdlIGV4dGVuZHMgSUNTU0ltYWdlIHt9XG5cbmV4cG9ydCB0eXBlIEdyYWRpZW50Q29ybmVyID0gW0xlbmd0aFBlcmNlbnRhZ2UsIExlbmd0aFBlcmNlbnRhZ2VdO1xuXG5pbnRlcmZhY2UgSUNTU0dyYWRpZW50SW1hZ2UgZXh0ZW5kcyBJQ1NTSW1hZ2Uge1xuICAgIHN0b3BzOiBVbnByb2Nlc3NlZEdyYWRpZW50Q29sb3JTdG9wW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ1NTTGluZWFyR3JhZGllbnRJbWFnZSBleHRlbmRzIElDU1NHcmFkaWVudEltYWdlIHtcbiAgICBhbmdsZTogbnVtYmVyIHwgR3JhZGllbnRDb3JuZXI7XG4gICAgdHlwZTogQ1NTSW1hZ2VUeXBlLkxJTkVBUl9HUkFESUVOVDtcbn1cblxuZXhwb3J0IGVudW0gQ1NTUmFkaWFsU2hhcGUge1xuICAgIENJUkNMRSxcbiAgICBFTExJUFNFXG59XG5cbmV4cG9ydCBlbnVtIENTU1JhZGlhbEV4dGVudCB7XG4gICAgQ0xPU0VTVF9TSURFLFxuICAgIEZBUlRIRVNUX1NJREUsXG4gICAgQ0xPU0VTVF9DT1JORVIsXG4gICAgRkFSVEhFU1RfQ09STkVSXG59XG5cbmV4cG9ydCB0eXBlIENTU1JhZGlhbFNpemUgPSBDU1NSYWRpYWxFeHRlbnQgfCBMZW5ndGhQZXJjZW50YWdlW107XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ1NTUmFkaWFsR3JhZGllbnRJbWFnZSBleHRlbmRzIElDU1NHcmFkaWVudEltYWdlIHtcbiAgICB0eXBlOiBDU1NJbWFnZVR5cGUuUkFESUFMX0dSQURJRU5UO1xuICAgIHNoYXBlOiBDU1NSYWRpYWxTaGFwZTtcbiAgICBzaXplOiBDU1NSYWRpYWxTaXplO1xuICAgIHBvc2l0aW9uOiBMZW5ndGhQZXJjZW50YWdlW107XG59XG5cbmV4cG9ydCBjb25zdCBpbWFnZTogSVR5cGVEZXNjcmlwdG9yPElDU1NJbWFnZT4gPSB7XG4gICAgbmFtZTogJ2ltYWdlJyxcbiAgICBwYXJzZTogKHZhbHVlOiBDU1NWYWx1ZSk6IElDU1NJbWFnZSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZS50eXBlID09PSBUb2tlblR5cGUuVVJMX1RPS0VOKSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZTogQ1NTVVJMSW1hZ2UgPSB7dXJsOiB2YWx1ZS52YWx1ZSwgdHlwZTogQ1NTSW1hZ2VUeXBlLlVSTH07XG4gICAgICAgICAgICBDYWNoZVN0b3JhZ2UuZ2V0SW5zdGFuY2UoKS5hZGRJbWFnZSh2YWx1ZS52YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUudHlwZSA9PT0gVG9rZW5UeXBlLkZVTkNUSU9OKSB7XG4gICAgICAgICAgICBjb25zdCBpbWFnZUZ1bmN0aW9uID0gU1VQUE9SVEVEX0lNQUdFX0ZVTkNUSU9OU1t2YWx1ZS5uYW1lXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW1hZ2VGdW5jdGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEF0dGVtcHRpbmcgdG8gcGFyc2UgYW4gdW5zdXBwb3J0ZWQgaW1hZ2UgZnVuY3Rpb24gXCIke3ZhbHVlLm5hbWV9XCJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbWFnZUZ1bmN0aW9uKHZhbHVlLnZhbHVlcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGltYWdlIHR5cGVgKTtcbiAgICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNTdXBwb3J0ZWRJbWFnZSh2YWx1ZTogQ1NTVmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUudHlwZSAhPT0gVG9rZW5UeXBlLkZVTkNUSU9OIHx8IFNVUFBPUlRFRF9JTUFHRV9GVU5DVElPTlNbdmFsdWUubmFtZV07XG59XG5cbmNvbnN0IFNVUFBPUlRFRF9JTUFHRV9GVU5DVElPTlM6IFJlY29yZDxzdHJpbmcsIChhcmdzOiBDU1NWYWx1ZVtdKSA9PiBJQ1NTSW1hZ2U+ID0ge1xuICAgICdsaW5lYXItZ3JhZGllbnQnOiBsaW5lYXJHcmFkaWVudCxcbiAgICAnLW1vei1saW5lYXItZ3JhZGllbnQnOiBwcmVmaXhMaW5lYXJHcmFkaWVudCxcbiAgICAnLW1zLWxpbmVhci1ncmFkaWVudCc6IHByZWZpeExpbmVhckdyYWRpZW50LFxuICAgICctby1saW5lYXItZ3JhZGllbnQnOiBwcmVmaXhMaW5lYXJHcmFkaWVudCxcbiAgICAnLXdlYmtpdC1saW5lYXItZ3JhZGllbnQnOiBwcmVmaXhMaW5lYXJHcmFkaWVudCxcbiAgICAncmFkaWFsLWdyYWRpZW50JzogcmFkaWFsR3JhZGllbnQsXG4gICAgJy1tb3otcmFkaWFsLWdyYWRpZW50JzogcHJlZml4UmFkaWFsR3JhZGllbnQsXG4gICAgJy1tcy1yYWRpYWwtZ3JhZGllbnQnOiBwcmVmaXhSYWRpYWxHcmFkaWVudCxcbiAgICAnLW8tcmFkaWFsLWdyYWRpZW50JzogcHJlZml4UmFkaWFsR3JhZGllbnQsXG4gICAgJy13ZWJraXQtcmFkaWFsLWdyYWRpZW50JzogcHJlZml4UmFkaWFsR3JhZGllbnQsXG4gICAgJy13ZWJraXQtZ3JhZGllbnQnOiB3ZWJraXRHcmFkaWVudFxufTtcbiIsImltcG9ydCB7VG9rZW5UeXBlfSBmcm9tICcuLi9zeW50YXgvdG9rZW5pemVyJztcbmltcG9ydCB7SUNTU0ltYWdlLCBpbWFnZSwgaXNTdXBwb3J0ZWRJbWFnZX0gZnJvbSAnLi4vdHlwZXMvaW1hZ2UnO1xuaW1wb3J0IHtJUHJvcGVydHlMaXN0RGVzY3JpcHRvciwgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGV9IGZyb20gJy4uL0lQcm9wZXJ0eURlc2NyaXB0b3InO1xuaW1wb3J0IHtDU1NWYWx1ZSwgbm9uRnVuY3Rpb25BcmdTZXBhcmF0b3J9IGZyb20gJy4uL3N5bnRheC9wYXJzZXInO1xuXG5leHBvcnQgY29uc3QgYmFja2dyb3VuZEltYWdlOiBJUHJvcGVydHlMaXN0RGVzY3JpcHRvcjxJQ1NTSW1hZ2VbXT4gPSB7XG4gICAgbmFtZTogJ2JhY2tncm91bmQtaW1hZ2UnLFxuICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXG4gICAgcHJlZml4OiBmYWxzZSxcbiAgICBwYXJzZTogKHRva2VuczogQ1NTVmFsdWVbXSkgPT4ge1xuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlyc3QgPSB0b2tlbnNbMF07XG5cbiAgICAgICAgaWYgKGZpcnN0LnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTiAmJiBmaXJzdC52YWx1ZSA9PT0gJ25vbmUnKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG9rZW5zLmZpbHRlcih2YWx1ZSA9PiBub25GdW5jdGlvbkFyZ1NlcGFyYXRvcih2YWx1ZSkgJiYgaXNTdXBwb3J0ZWRJbWFnZSh2YWx1ZSkpLm1hcChpbWFnZS5wYXJzZSk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7SVByb3BlcnR5TGlzdERlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmltcG9ydCB7Q1NTVmFsdWUsIGlzSWRlbnRUb2tlbn0gZnJvbSAnLi4vc3ludGF4L3BhcnNlcic7XG5cbmV4cG9ydCBjb25zdCBlbnVtIEJBQ0tHUk9VTkRfT1JJR0lOIHtcbiAgICBCT1JERVJfQk9YID0gMCxcbiAgICBQQURESU5HX0JPWCA9IDEsXG4gICAgQ09OVEVOVF9CT1ggPSAyXG59XG5cbmV4cG9ydCB0eXBlIEJhY2tncm91bmRPcmlnaW4gPSBCQUNLR1JPVU5EX09SSUdJTltdO1xuXG5leHBvcnQgY29uc3QgYmFja2dyb3VuZE9yaWdpbjogSVByb3BlcnR5TGlzdERlc2NyaXB0b3I8QmFja2dyb3VuZE9yaWdpbj4gPSB7XG4gICAgbmFtZTogJ2JhY2tncm91bmQtb3JpZ2luJyxcbiAgICBpbml0aWFsVmFsdWU6ICdib3JkZXItYm94JyxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXG4gICAgcGFyc2U6ICh0b2tlbnM6IENTU1ZhbHVlW10pOiBCYWNrZ3JvdW5kT3JpZ2luID0+IHtcbiAgICAgICAgcmV0dXJuIHRva2Vucy5tYXAodG9rZW4gPT4ge1xuICAgICAgICAgICAgaWYgKGlzSWRlbnRUb2tlbih0b2tlbikpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BhZGRpbmctYm94JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCQUNLR1JPVU5EX09SSUdJTi5QQURESU5HX0JPWDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY29udGVudC1ib3gnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfT1JJR0lOLkNPTlRFTlRfQk9YO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBCQUNLR1JPVU5EX09SSUdJTi5CT1JERVJfQk9YO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHtQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZSwgSVByb3BlcnR5TGlzdERlc2NyaXB0b3J9IGZyb20gJy4uL0lQcm9wZXJ0eURlc2NyaXB0b3InO1xuaW1wb3J0IHtDU1NWYWx1ZSwgcGFyc2VGdW5jdGlvbkFyZ3N9IGZyb20gJy4uL3N5bnRheC9wYXJzZXInO1xuaW1wb3J0IHtpc0xlbmd0aFBlcmNlbnRhZ2UsIExlbmd0aFBlcmNlbnRhZ2VUdXBsZSwgcGFyc2VMZW5ndGhQZXJjZW50YWdlVHVwbGV9IGZyb20gJy4uL3R5cGVzL2xlbmd0aC1wZXJjZW50YWdlJztcbmV4cG9ydCB0eXBlIEJhY2tncm91bmRQb3NpdGlvbiA9IEJhY2tncm91bmRJbWFnZVBvc2l0aW9uW107XG5cbmV4cG9ydCB0eXBlIEJhY2tncm91bmRJbWFnZVBvc2l0aW9uID0gTGVuZ3RoUGVyY2VudGFnZVR1cGxlO1xuXG5leHBvcnQgY29uc3QgYmFja2dyb3VuZFBvc2l0aW9uOiBJUHJvcGVydHlMaXN0RGVzY3JpcHRvcjxCYWNrZ3JvdW5kUG9zaXRpb24+ID0ge1xuICAgIG5hbWU6ICdiYWNrZ3JvdW5kLXBvc2l0aW9uJyxcbiAgICBpbml0aWFsVmFsdWU6ICcwJSAwJScsXG4gICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHBhcnNlOiAodG9rZW5zOiBDU1NWYWx1ZVtdKTogQmFja2dyb3VuZFBvc2l0aW9uID0+IHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucylcbiAgICAgICAgICAgIC5tYXAoKHZhbHVlczogQ1NTVmFsdWVbXSkgPT4gdmFsdWVzLmZpbHRlcihpc0xlbmd0aFBlcmNlbnRhZ2UpKVxuICAgICAgICAgICAgLm1hcChwYXJzZUxlbmd0aFBlcmNlbnRhZ2VUdXBsZSk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7SVByb3BlcnR5TGlzdERlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmltcG9ydCB7Q1NTVmFsdWUsIGlzSWRlbnRUb2tlbiwgcGFyc2VGdW5jdGlvbkFyZ3N9IGZyb20gJy4uL3N5bnRheC9wYXJzZXInO1xuZXhwb3J0IHR5cGUgQmFja2dyb3VuZFJlcGVhdCA9IEJBQ0tHUk9VTkRfUkVQRUFUW107XG5cbmV4cG9ydCBlbnVtIEJBQ0tHUk9VTkRfUkVQRUFUIHtcbiAgICBSRVBFQVQgPSAwLFxuICAgIE5PX1JFUEVBVCA9IDEsXG4gICAgUkVQRUFUX1ggPSAyLFxuICAgIFJFUEVBVF9ZID0gM1xufVxuXG5leHBvcnQgY29uc3QgYmFja2dyb3VuZFJlcGVhdDogSVByb3BlcnR5TGlzdERlc2NyaXB0b3I8QmFja2dyb3VuZFJlcGVhdD4gPSB7XG4gICAgbmFtZTogJ2JhY2tncm91bmQtcmVwZWF0JyxcbiAgICBpbml0aWFsVmFsdWU6ICdyZXBlYXQnLFxuICAgIHByZWZpeDogZmFsc2UsXG4gICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcbiAgICBwYXJzZTogKHRva2VuczogQ1NTVmFsdWVbXSk6IEJhY2tncm91bmRSZXBlYXQgPT4ge1xuICAgICAgICByZXR1cm4gcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKVxuICAgICAgICAgICAgLm1hcCh2YWx1ZXMgPT5cbiAgICAgICAgICAgICAgICB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihpc0lkZW50VG9rZW4pXG4gICAgICAgICAgICAgICAgICAgIC5tYXAodG9rZW4gPT4gdG9rZW4udmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcgJylcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5tYXAocGFyc2VCYWNrZ3JvdW5kUmVwZWF0KTtcbiAgICB9XG59O1xuXG5jb25zdCBwYXJzZUJhY2tncm91bmRSZXBlYXQgPSAodmFsdWU6IHN0cmluZyk6IEJBQ0tHUk9VTkRfUkVQRUFUID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgIGNhc2UgJ25vLXJlcGVhdCc6XG4gICAgICAgICAgICByZXR1cm4gQkFDS0dST1VORF9SRVBFQVQuTk9fUkVQRUFUO1xuICAgICAgICBjYXNlICdyZXBlYXQteCc6XG4gICAgICAgIGNhc2UgJ3JlcGVhdCBuby1yZXBlYXQnOlxuICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfUkVQRUFULlJFUEVBVF9YO1xuICAgICAgICBjYXNlICdyZXBlYXQteSc6XG4gICAgICAgIGNhc2UgJ25vLXJlcGVhdCByZXBlYXQnOlxuICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfUkVQRUFULlJFUEVBVF9ZO1xuICAgICAgICBjYXNlICdyZXBlYXQnOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfUkVQRUFULlJFUEVBVDtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHtJUHJvcGVydHlMaXN0RGVzY3JpcHRvciwgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGV9IGZyb20gJy4uL0lQcm9wZXJ0eURlc2NyaXB0b3InO1xuaW1wb3J0IHtDU1NWYWx1ZSwgaXNJZGVudFRva2VuLCBwYXJzZUZ1bmN0aW9uQXJnc30gZnJvbSAnLi4vc3ludGF4L3BhcnNlcic7XG5pbXBvcnQge2lzTGVuZ3RoUGVyY2VudGFnZSwgTGVuZ3RoUGVyY2VudGFnZX0gZnJvbSAnLi4vdHlwZXMvbGVuZ3RoLXBlcmNlbnRhZ2UnO1xuaW1wb3J0IHtTdHJpbmdWYWx1ZVRva2VufSBmcm9tICcuLi9zeW50YXgvdG9rZW5pemVyJztcblxuZXhwb3J0IGVudW0gQkFDS0dST1VORF9TSVpFIHtcbiAgICBBVVRPID0gJ2F1dG8nLFxuICAgIENPTlRBSU4gPSAnY29udGFpbicsXG4gICAgQ09WRVIgPSAnY292ZXInXG59XG5cbmV4cG9ydCB0eXBlIEJhY2tncm91bmRTaXplSW5mbyA9IExlbmd0aFBlcmNlbnRhZ2UgfCBTdHJpbmdWYWx1ZVRva2VuO1xuZXhwb3J0IHR5cGUgQmFja2dyb3VuZFNpemUgPSBCYWNrZ3JvdW5kU2l6ZUluZm9bXVtdO1xuXG5leHBvcnQgY29uc3QgYmFja2dyb3VuZFNpemU6IElQcm9wZXJ0eUxpc3REZXNjcmlwdG9yPEJhY2tncm91bmRTaXplPiA9IHtcbiAgICBuYW1lOiAnYmFja2dyb3VuZC1zaXplJyxcbiAgICBpbml0aWFsVmFsdWU6ICcwJyxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXG4gICAgcGFyc2U6ICh0b2tlbnM6IENTU1ZhbHVlW10pOiBCYWNrZ3JvdW5kU2l6ZSA9PiB7XG4gICAgICAgIHJldHVybiBwYXJzZUZ1bmN0aW9uQXJncyh0b2tlbnMpLm1hcCh2YWx1ZXMgPT4gdmFsdWVzLmZpbHRlcihpc0JhY2tncm91bmRTaXplSW5mb1Rva2VuKSk7XG4gICAgfVxufTtcblxuY29uc3QgaXNCYWNrZ3JvdW5kU2l6ZUluZm9Ub2tlbiA9ICh2YWx1ZTogQ1NTVmFsdWUpOiB2YWx1ZSBpcyBCYWNrZ3JvdW5kU2l6ZUluZm8gPT5cbiAgICBpc0lkZW50VG9rZW4odmFsdWUpIHx8IGlzTGVuZ3RoUGVyY2VudGFnZSh2YWx1ZSk7XG4iLCJpbXBvcnQge0lQcm9wZXJ0eVR5cGVWYWx1ZURlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmNvbnN0IGJvcmRlckNvbG9yRm9yU2lkZSA9IChzaWRlOiBzdHJpbmcpOiBJUHJvcGVydHlUeXBlVmFsdWVEZXNjcmlwdG9yID0+ICh7XG4gICAgbmFtZTogYGJvcmRlci0ke3NpZGV9LWNvbG9yYCxcbiAgICBpbml0aWFsVmFsdWU6ICd0cmFuc3BhcmVudCcsXG4gICAgcHJlZml4OiBmYWxzZSxcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFLFxuICAgIGZvcm1hdDogJ2NvbG9yJ1xufSk7XG5cbmV4cG9ydCBjb25zdCBib3JkZXJUb3BDb2xvcjogSVByb3BlcnR5VHlwZVZhbHVlRGVzY3JpcHRvciA9IGJvcmRlckNvbG9yRm9yU2lkZSgndG9wJyk7XG5leHBvcnQgY29uc3QgYm9yZGVyUmlnaHRDb2xvcjogSVByb3BlcnR5VHlwZVZhbHVlRGVzY3JpcHRvciA9IGJvcmRlckNvbG9yRm9yU2lkZSgncmlnaHQnKTtcbmV4cG9ydCBjb25zdCBib3JkZXJCb3R0b21Db2xvcjogSVByb3BlcnR5VHlwZVZhbHVlRGVzY3JpcHRvciA9IGJvcmRlckNvbG9yRm9yU2lkZSgnYm90dG9tJyk7XG5leHBvcnQgY29uc3QgYm9yZGVyTGVmdENvbG9yOiBJUHJvcGVydHlUeXBlVmFsdWVEZXNjcmlwdG9yID0gYm9yZGVyQ29sb3JGb3JTaWRlKCdsZWZ0Jyk7XG4iLCJpbXBvcnQge0lQcm9wZXJ0eUxpc3REZXNjcmlwdG9yLCBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZX0gZnJvbSAnLi4vSVByb3BlcnR5RGVzY3JpcHRvcic7XG5pbXBvcnQge0NTU1ZhbHVlfSBmcm9tICcuLi9zeW50YXgvcGFyc2VyJztcbmltcG9ydCB7aXNMZW5ndGhQZXJjZW50YWdlLCBMZW5ndGhQZXJjZW50YWdlVHVwbGUsIHBhcnNlTGVuZ3RoUGVyY2VudGFnZVR1cGxlfSBmcm9tICcuLi90eXBlcy9sZW5ndGgtcGVyY2VudGFnZSc7XG5leHBvcnQgdHlwZSBCb3JkZXJSYWRpdXMgPSBMZW5ndGhQZXJjZW50YWdlVHVwbGU7XG5cbmNvbnN0IGJvcmRlclJhZGl1c0ZvclNpZGUgPSAoc2lkZTogc3RyaW5nKTogSVByb3BlcnR5TGlzdERlc2NyaXB0b3I8Qm9yZGVyUmFkaXVzPiA9PiAoe1xuICAgIG5hbWU6IGBib3JkZXItcmFkaXVzLSR7c2lkZX1gLFxuICAgIGluaXRpYWxWYWx1ZTogJzAgMCcsXG4gICAgcHJlZml4OiBmYWxzZSxcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxuICAgIHBhcnNlOiAodG9rZW5zOiBDU1NWYWx1ZVtdKTogQm9yZGVyUmFkaXVzID0+IHBhcnNlTGVuZ3RoUGVyY2VudGFnZVR1cGxlKHRva2Vucy5maWx0ZXIoaXNMZW5ndGhQZXJjZW50YWdlKSlcbn0pO1xuXG5leHBvcnQgY29uc3QgYm9yZGVyVG9wTGVmdFJhZGl1czogSVByb3BlcnR5TGlzdERlc2NyaXB0b3I8Qm9yZGVyUmFkaXVzPiA9IGJvcmRlclJhZGl1c0ZvclNpZGUoJ3RvcC1sZWZ0Jyk7XG5leHBvcnQgY29uc3QgYm9yZGVyVG9wUmlnaHRSYWRpdXM6IElQcm9wZXJ0eUxpc3REZXNjcmlwdG9yPEJvcmRlclJhZGl1cz4gPSBib3JkZXJSYWRpdXNGb3JTaWRlKCd0b3AtcmlnaHQnKTtcbmV4cG9ydCBjb25zdCBib3JkZXJCb3R0b21SaWdodFJhZGl1czogSVByb3BlcnR5TGlzdERlc2NyaXB0b3I8Qm9yZGVyUmFkaXVzPiA9IGJvcmRlclJhZGl1c0ZvclNpZGUoJ2JvdHRvbS1yaWdodCcpO1xuZXhwb3J0IGNvbnN0IGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6IElQcm9wZXJ0eUxpc3REZXNjcmlwdG9yPEJvcmRlclJhZGl1cz4gPSBib3JkZXJSYWRpdXNGb3JTaWRlKCdib3R0b20tbGVmdCcpO1xuIiwiaW1wb3J0IHtJUHJvcGVydHlJZGVudFZhbHVlRGVzY3JpcHRvciwgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGV9IGZyb20gJy4uL0lQcm9wZXJ0eURlc2NyaXB0b3InO1xuZXhwb3J0IGVudW0gQk9SREVSX1NUWUxFIHtcbiAgICBOT05FID0gMCxcbiAgICBTT0xJRCA9IDFcbn1cblxuY29uc3QgYm9yZGVyU3R5bGVGb3JTaWRlID0gKHNpZGU6IHN0cmluZyk6IElQcm9wZXJ0eUlkZW50VmFsdWVEZXNjcmlwdG9yPEJPUkRFUl9TVFlMRT4gPT4gKHtcbiAgICBuYW1lOiBgYm9yZGVyLSR7c2lkZX0tc3R5bGVgLFxuICAgIGluaXRpYWxWYWx1ZTogJ3NvbGlkJyxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxuICAgIHBhcnNlOiAoc3R5bGU6IHN0cmluZyk6IEJPUkRFUl9TVFlMRSA9PiB7XG4gICAgICAgIHN3aXRjaCAoc3R5bGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ25vbmUnOlxuICAgICAgICAgICAgICAgIHJldHVybiBCT1JERVJfU1RZTEUuTk9ORTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQk9SREVSX1NUWUxFLlNPTElEO1xuICAgIH1cbn0pO1xuXG5leHBvcnQgY29uc3QgYm9yZGVyVG9wU3R5bGU6IElQcm9wZXJ0eUlkZW50VmFsdWVEZXNjcmlwdG9yPEJPUkRFUl9TVFlMRT4gPSBib3JkZXJTdHlsZUZvclNpZGUoJ3RvcCcpO1xuZXhwb3J0IGNvbnN0IGJvcmRlclJpZ2h0U3R5bGU6IElQcm9wZXJ0eUlkZW50VmFsdWVEZXNjcmlwdG9yPEJPUkRFUl9TVFlMRT4gPSBib3JkZXJTdHlsZUZvclNpZGUoJ3JpZ2h0Jyk7XG5leHBvcnQgY29uc3QgYm9yZGVyQm90dG9tU3R5bGU6IElQcm9wZXJ0eUlkZW50VmFsdWVEZXNjcmlwdG9yPEJPUkRFUl9TVFlMRT4gPSBib3JkZXJTdHlsZUZvclNpZGUoJ2JvdHRvbScpO1xuZXhwb3J0IGNvbnN0IGJvcmRlckxlZnRTdHlsZTogSVByb3BlcnR5SWRlbnRWYWx1ZURlc2NyaXB0b3I8Qk9SREVSX1NUWUxFPiA9IGJvcmRlclN0eWxlRm9yU2lkZSgnbGVmdCcpO1xuIiwiaW1wb3J0IHtJUHJvcGVydHlWYWx1ZURlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmltcG9ydCB7Q1NTVmFsdWUsIGlzRGltZW5zaW9uVG9rZW59IGZyb20gJy4uL3N5bnRheC9wYXJzZXInO1xuY29uc3QgYm9yZGVyV2lkdGhGb3JTaWRlID0gKHNpZGU6IHN0cmluZyk6IElQcm9wZXJ0eVZhbHVlRGVzY3JpcHRvcjxudW1iZXI+ID0+ICh7XG4gICAgbmFtZTogYGJvcmRlci0ke3NpZGV9LXdpZHRoYCxcbiAgICBpbml0aWFsVmFsdWU6ICcwJyxcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRSxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHBhcnNlOiAodG9rZW46IENTU1ZhbHVlKTogbnVtYmVyID0+IHtcbiAgICAgICAgaWYgKGlzRGltZW5zaW9uVG9rZW4odG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW4ubnVtYmVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn0pO1xuXG5leHBvcnQgY29uc3QgYm9yZGVyVG9wV2lkdGg6IElQcm9wZXJ0eVZhbHVlRGVzY3JpcHRvcjxudW1iZXI+ID0gYm9yZGVyV2lkdGhGb3JTaWRlKCd0b3AnKTtcbmV4cG9ydCBjb25zdCBib3JkZXJSaWdodFdpZHRoOiBJUHJvcGVydHlWYWx1ZURlc2NyaXB0b3I8bnVtYmVyPiA9IGJvcmRlcldpZHRoRm9yU2lkZSgncmlnaHQnKTtcbmV4cG9ydCBjb25zdCBib3JkZXJCb3R0b21XaWR0aDogSVByb3BlcnR5VmFsdWVEZXNjcmlwdG9yPG51bWJlcj4gPSBib3JkZXJXaWR0aEZvclNpZGUoJ2JvdHRvbScpO1xuZXhwb3J0IGNvbnN0IGJvcmRlckxlZnRXaWR0aDogSVByb3BlcnR5VmFsdWVEZXNjcmlwdG9yPG51bWJlcj4gPSBib3JkZXJXaWR0aEZvclNpZGUoJ2xlZnQnKTtcbiIsImltcG9ydCB7SVByb3BlcnR5VHlwZVZhbHVlRGVzY3JpcHRvciwgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGV9IGZyb20gJy4uL0lQcm9wZXJ0eURlc2NyaXB0b3InO1xuXG5leHBvcnQgY29uc3QgY29sb3I6IElQcm9wZXJ0eVR5cGVWYWx1ZURlc2NyaXB0b3IgPSB7XG4gICAgbmFtZTogYGNvbG9yYCxcbiAgICBpbml0aWFsVmFsdWU6ICd0cmFuc3BhcmVudCcsXG4gICAgcHJlZml4OiBmYWxzZSxcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFLFxuICAgIGZvcm1hdDogJ2NvbG9yJ1xufTtcbiIsImltcG9ydCB7SVByb3BlcnR5TGlzdERlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmltcG9ydCB7Q1NTVmFsdWUsIGlzSWRlbnRUb2tlbn0gZnJvbSAnLi4vc3ludGF4L3BhcnNlcic7XG5leHBvcnQgY29uc3QgZW51bSBESVNQTEFZIHtcbiAgICBOT05FID0gMCxcbiAgICBCTE9DSyA9IDEgPDwgMSxcbiAgICBJTkxJTkUgPSAxIDw8IDIsXG4gICAgUlVOX0lOID0gMSA8PCAzLFxuICAgIEZMT1cgPSAxIDw8IDQsXG4gICAgRkxPV19ST09UID0gMSA8PCA1LFxuICAgIFRBQkxFID0gMSA8PCA2LFxuICAgIEZMRVggPSAxIDw8IDcsXG4gICAgR1JJRCA9IDEgPDwgOCxcbiAgICBSVUJZID0gMSA8PCA5LFxuICAgIFNVQkdSSUQgPSAxIDw8IDEwLFxuICAgIExJU1RfSVRFTSA9IDEgPDwgMTEsXG4gICAgVEFCTEVfUk9XX0dST1VQID0gMSA8PCAxMixcbiAgICBUQUJMRV9IRUFERVJfR1JPVVAgPSAxIDw8IDEzLFxuICAgIFRBQkxFX0ZPT1RFUl9HUk9VUCA9IDEgPDwgMTQsXG4gICAgVEFCTEVfUk9XID0gMSA8PCAxNSxcbiAgICBUQUJMRV9DRUxMID0gMSA8PCAxNixcbiAgICBUQUJMRV9DT0xVTU5fR1JPVVAgPSAxIDw8IDE3LFxuICAgIFRBQkxFX0NPTFVNTiA9IDEgPDwgMTgsXG4gICAgVEFCTEVfQ0FQVElPTiA9IDEgPDwgMTksXG4gICAgUlVCWV9CQVNFID0gMSA8PCAyMCxcbiAgICBSVUJZX1RFWFQgPSAxIDw8IDIxLFxuICAgIFJVQllfQkFTRV9DT05UQUlORVIgPSAxIDw8IDIyLFxuICAgIFJVQllfVEVYVF9DT05UQUlORVIgPSAxIDw8IDIzLFxuICAgIENPTlRFTlRTID0gMSA8PCAyNCxcbiAgICBJTkxJTkVfQkxPQ0sgPSAxIDw8IDI1LFxuICAgIElOTElORV9MSVNUX0lURU0gPSAxIDw8IDI2LFxuICAgIElOTElORV9UQUJMRSA9IDEgPDwgMjcsXG4gICAgSU5MSU5FX0ZMRVggPSAxIDw8IDI4LFxuICAgIElOTElORV9HUklEID0gMSA8PCAyOVxufVxuXG5leHBvcnQgdHlwZSBEaXNwbGF5ID0gbnVtYmVyO1xuXG5leHBvcnQgY29uc3QgZGlzcGxheTogSVByb3BlcnR5TGlzdERlc2NyaXB0b3I8RGlzcGxheT4gPSB7XG4gICAgbmFtZTogJ2Rpc3BsYXknLFxuICAgIGluaXRpYWxWYWx1ZTogJ2lubGluZS1ibG9jaycsXG4gICAgcHJlZml4OiBmYWxzZSxcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxuICAgIHBhcnNlOiAodG9rZW5zOiBDU1NWYWx1ZVtdKTogRGlzcGxheSA9PiB7XG4gICAgICAgIHJldHVybiB0b2tlbnMuZmlsdGVyKGlzSWRlbnRUb2tlbikucmVkdWNlKChiaXQsIHRva2VuKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYml0IHwgcGFyc2VEaXNwbGF5VmFsdWUodG9rZW4udmFsdWUpO1xuICAgICAgICB9LCBESVNQTEFZLk5PTkUpO1xuICAgIH1cbn07XG5cbmNvbnN0IHBhcnNlRGlzcGxheVZhbHVlID0gKGRpc3BsYXk6IHN0cmluZyk6IERpc3BsYXkgPT4ge1xuICAgIHN3aXRjaCAoZGlzcGxheSkge1xuICAgICAgICBjYXNlICdibG9jayc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5CTE9DSztcbiAgICAgICAgY2FzZSAnaW5saW5lJzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLklOTElORTtcbiAgICAgICAgY2FzZSAncnVuLWluJzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLlJVTl9JTjtcbiAgICAgICAgY2FzZSAnZmxvdyc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5GTE9XO1xuICAgICAgICBjYXNlICdmbG93LXJvb3QnOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuRkxPV19ST09UO1xuICAgICAgICBjYXNlICd0YWJsZSc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5UQUJMRTtcbiAgICAgICAgY2FzZSAnZmxleCc6XG4gICAgICAgIGNhc2UgJy13ZWJraXQtZmxleCc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5GTEVYO1xuICAgICAgICBjYXNlICdncmlkJzpcbiAgICAgICAgY2FzZSAnLW1zLWdyaWQnOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuR1JJRDtcbiAgICAgICAgY2FzZSAncnVieSc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5SVUJZO1xuICAgICAgICBjYXNlICdzdWJncmlkJzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLlNVQkdSSUQ7XG4gICAgICAgIGNhc2UgJ2xpc3QtaXRlbSc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5MSVNUX0lURU07XG4gICAgICAgIGNhc2UgJ3RhYmxlLXJvdy1ncm91cCc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5UQUJMRV9ST1dfR1JPVVA7XG4gICAgICAgIGNhc2UgJ3RhYmxlLWhlYWRlci1ncm91cCc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5UQUJMRV9IRUFERVJfR1JPVVA7XG4gICAgICAgIGNhc2UgJ3RhYmxlLWZvb3Rlci1ncm91cCc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5UQUJMRV9GT09URVJfR1JPVVA7XG4gICAgICAgIGNhc2UgJ3RhYmxlLXJvdyc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5UQUJMRV9ST1c7XG4gICAgICAgIGNhc2UgJ3RhYmxlLWNlbGwnOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuVEFCTEVfQ0VMTDtcbiAgICAgICAgY2FzZSAndGFibGUtY29sdW1uLWdyb3VwJzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLlRBQkxFX0NPTFVNTl9HUk9VUDtcbiAgICAgICAgY2FzZSAndGFibGUtY29sdW1uJzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLlRBQkxFX0NPTFVNTjtcbiAgICAgICAgY2FzZSAndGFibGUtY2FwdGlvbic6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5UQUJMRV9DQVBUSU9OO1xuICAgICAgICBjYXNlICdydWJ5LWJhc2UnOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuUlVCWV9CQVNFO1xuICAgICAgICBjYXNlICdydWJ5LXRleHQnOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuUlVCWV9URVhUO1xuICAgICAgICBjYXNlICdydWJ5LWJhc2UtY29udGFpbmVyJzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLlJVQllfQkFTRV9DT05UQUlORVI7XG4gICAgICAgIGNhc2UgJ3J1YnktdGV4dC1jb250YWluZXInOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuUlVCWV9URVhUX0NPTlRBSU5FUjtcbiAgICAgICAgY2FzZSAnY29udGVudHMnOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuQ09OVEVOVFM7XG4gICAgICAgIGNhc2UgJ2lubGluZS1ibG9jayc6XG4gICAgICAgICAgICByZXR1cm4gRElTUExBWS5JTkxJTkVfQkxPQ0s7XG4gICAgICAgIGNhc2UgJ2lubGluZS1saXN0LWl0ZW0nOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuSU5MSU5FX0xJU1RfSVRFTTtcbiAgICAgICAgY2FzZSAnaW5saW5lLXRhYmxlJzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLklOTElORV9UQUJMRTtcbiAgICAgICAgY2FzZSAnaW5saW5lLWZsZXgnOlxuICAgICAgICAgICAgcmV0dXJuIERJU1BMQVkuSU5MSU5FX0ZMRVg7XG4gICAgICAgIGNhc2UgJ2lubGluZS1ncmlkJzpcbiAgICAgICAgICAgIHJldHVybiBESVNQTEFZLklOTElORV9HUklEO1xuICAgIH1cblxuICAgIHJldHVybiBESVNQTEFZLk5PTkU7XG59O1xuIiwiaW1wb3J0IHtJUHJvcGVydHlJZGVudFZhbHVlRGVzY3JpcHRvciwgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGV9IGZyb20gJy4uL0lQcm9wZXJ0eURlc2NyaXB0b3InO1xuZXhwb3J0IGVudW0gRkxPQVQge1xuICAgIE5PTkUgPSAwLFxuICAgIExFRlQgPSAxLFxuICAgIFJJR0hUID0gMixcbiAgICBJTkxJTkVfU1RBUlQgPSAzLFxuICAgIElOTElORV9FTkQgPSA0XG59XG5cbmV4cG9ydCBjb25zdCBmbG9hdDogSVByb3BlcnR5SWRlbnRWYWx1ZURlc2NyaXB0b3I8RkxPQVQ+ID0ge1xuICAgIG5hbWU6ICdmbG9hdCcsXG4gICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXG4gICAgcHJlZml4OiBmYWxzZSxcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRSxcbiAgICBwYXJzZTogKGZsb2F0OiBzdHJpbmcpID0+IHtcbiAgICAgICAgc3dpdGNoIChmbG9hdCkge1xuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEZMT0FULkxFRlQ7XG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEZMT0FULlJJR0hUO1xuICAgICAgICAgICAgY2FzZSAnaW5saW5lLXN0YXJ0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gRkxPQVQuSU5MSU5FX1NUQVJUO1xuICAgICAgICAgICAgY2FzZSAnaW5saW5lLWVuZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEZMT0FULklOTElORV9FTkQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZMT0FULk5PTkU7XG4gICAgfVxufTtcbiIsImltcG9ydCB7SVByb3BlcnR5VmFsdWVEZXNjcmlwdG9yLCBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZX0gZnJvbSAnLi4vSVByb3BlcnR5RGVzY3JpcHRvcic7XG5pbXBvcnQge0NTU1ZhbHVlfSBmcm9tICcuLi9zeW50YXgvcGFyc2VyJztcbmltcG9ydCB7VG9rZW5UeXBlfSBmcm9tICcuLi9zeW50YXgvdG9rZW5pemVyJztcbmV4cG9ydCBjb25zdCBsZXR0ZXJTcGFjaW5nOiBJUHJvcGVydHlWYWx1ZURlc2NyaXB0b3I8bnVtYmVyPiA9IHtcbiAgICBuYW1lOiAnbGV0dGVyLXNwYWNpbmcnLFxuICAgIGluaXRpYWxWYWx1ZTogJzAnLFxuICAgIHByZWZpeDogZmFsc2UsXG4gICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVkFMVUUsXG4gICAgcGFyc2U6ICh0b2tlbjogQ1NTVmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTiAmJiB0b2tlbi52YWx1ZSA9PT0gJ25vcm1hbCcpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5OVU1CRVJfVE9LRU4pIHtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLkRJTUVOU0lPTl9UT0tFTikge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VuLm51bWJlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn07XG4iLCJpbXBvcnQge0lQcm9wZXJ0eUlkZW50VmFsdWVEZXNjcmlwdG9yLCBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZX0gZnJvbSAnLi4vSVByb3BlcnR5RGVzY3JpcHRvcic7XG5leHBvcnQgZW51bSBMSU5FX0JSRUFLIHtcbiAgICBOT1JNQUwgPSAnbm9ybWFsJyxcbiAgICBTVFJJQ1QgPSAnc3RyaWN0J1xufVxuXG5leHBvcnQgY29uc3QgbGluZUJyZWFrOiBJUHJvcGVydHlJZGVudFZhbHVlRGVzY3JpcHRvcjxMSU5FX0JSRUFLPiA9IHtcbiAgICBuYW1lOiAnbGluZS1icmVhaycsXG4gICAgaW5pdGlhbFZhbHVlOiAnbm9ybWFsJyxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxuICAgIHBhcnNlOiAobGluZUJyZWFrOiBzdHJpbmcpOiBMSU5FX0JSRUFLID0+IHtcbiAgICAgICAgc3dpdGNoIChsaW5lQnJlYWspIHtcbiAgICAgICAgICAgIGNhc2UgJ3N0cmljdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJTkVfQlJFQUsuU1RSSUNUO1xuICAgICAgICAgICAgY2FzZSAnbm9ybWFsJzpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJTkVfQlJFQUsuTk9STUFMO1xuICAgICAgICB9XG4gICAgfVxufTtcbiIsImltcG9ydCB7SVByb3BlcnR5VG9rZW5WYWx1ZURlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmltcG9ydCB7Q1NTVmFsdWUsIGlzSWRlbnRUb2tlbn0gZnJvbSAnLi4vc3ludGF4L3BhcnNlcic7XG5pbXBvcnQge1Rva2VuVHlwZX0gZnJvbSAnLi4vc3ludGF4L3Rva2VuaXplcic7XG5pbXBvcnQge2dldEFic29sdXRlVmFsdWUsIGlzTGVuZ3RoUGVyY2VudGFnZX0gZnJvbSAnLi4vdHlwZXMvbGVuZ3RoLXBlcmNlbnRhZ2UnO1xuZXhwb3J0IGNvbnN0IGxpbmVIZWlnaHQ6IElQcm9wZXJ0eVRva2VuVmFsdWVEZXNjcmlwdG9yID0ge1xuICAgIG5hbWU6ICdsaW5lLWhlaWdodCcsXG4gICAgaW5pdGlhbFZhbHVlOiAnbm9ybWFsJyxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlRPS0VOX1ZBTFVFXG59O1xuXG5leHBvcnQgY29uc3QgY29tcHV0ZUxpbmVIZWlnaHQgPSAodG9rZW46IENTU1ZhbHVlLCBmb250U2l6ZTogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgICBpZiAoaXNJZGVudFRva2VuKHRva2VuKSAmJiB0b2tlbi52YWx1ZSA9PT0gJ25vcm1hbCcpIHtcbiAgICAgICAgcmV0dXJuIDEuMiAqIGZvbnRTaXplO1xuICAgIH0gZWxzZSBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLk5VTUJFUl9UT0tFTikge1xuICAgICAgICByZXR1cm4gZm9udFNpemUgKiB0b2tlbi5udW1iZXI7XG4gICAgfSBlbHNlIGlmIChpc0xlbmd0aFBlcmNlbnRhZ2UodG9rZW4pKSB7XG4gICAgICAgIHJldHVybiBnZXRBYnNvbHV0ZVZhbHVlKHRva2VuLCBmb250U2l6ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvbnRTaXplO1xufTtcbiIsImltcG9ydCB7VG9rZW5UeXBlfSBmcm9tICcuLi9zeW50YXgvdG9rZW5pemVyJztcbmltcG9ydCB7SUNTU0ltYWdlLCBpbWFnZX0gZnJvbSAnLi4vdHlwZXMvaW1hZ2UnO1xuaW1wb3J0IHtJUHJvcGVydHlWYWx1ZURlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmltcG9ydCB7Q1NTVmFsdWV9IGZyb20gJy4uL3N5bnRheC9wYXJzZXInO1xuXG5leHBvcnQgY29uc3QgbGlzdFN0eWxlSW1hZ2U6IElQcm9wZXJ0eVZhbHVlRGVzY3JpcHRvcjxJQ1NTSW1hZ2UgfCBudWxsPiA9IHtcbiAgICBuYW1lOiAnbGlzdC1zdHlsZS1pbWFnZScsXG4gICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXG4gICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVkFMVUUsXG4gICAgcHJlZml4OiBmYWxzZSxcbiAgICBwYXJzZTogKHRva2VuOiBDU1NWYWx1ZSkgPT4ge1xuICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOICYmIHRva2VuLnZhbHVlID09PSAnbm9uZScpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGltYWdlLnBhcnNlKHRva2VuKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHtJUHJvcGVydHlJZGVudFZhbHVlRGVzY3JpcHRvciwgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGV9IGZyb20gJy4uL0lQcm9wZXJ0eURlc2NyaXB0b3InO1xuZXhwb3J0IGVudW0gTElTVF9TVFlMRV9QT1NJVElPTiB7XG4gICAgSU5TSURFID0gMCxcbiAgICBPVVRTSURFID0gMVxufVxuXG5leHBvcnQgY29uc3QgbGlzdFN0eWxlUG9zaXRpb246IElQcm9wZXJ0eUlkZW50VmFsdWVEZXNjcmlwdG9yPExJU1RfU1RZTEVfUE9TSVRJT04+ID0ge1xuICAgIG5hbWU6ICdsaXN0LXN0eWxlLXBvc2l0aW9uJyxcbiAgICBpbml0aWFsVmFsdWU6ICdvdXRzaWRlJyxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxuICAgIHBhcnNlOiAocG9zaXRpb246IHN0cmluZykgPT4ge1xuICAgICAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjYXNlICdpbnNpZGUnOlxuICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1BPU0lUSU9OLklOU0lERTtcbiAgICAgICAgICAgIGNhc2UgJ291dHNpZGUnOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9QT1NJVElPTi5PVVRTSURFO1xuICAgICAgICB9XG4gICAgfVxufTtcbiIsImltcG9ydCB7SVByb3BlcnR5SWRlbnRWYWx1ZURlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmV4cG9ydCBlbnVtIExJU1RfU1RZTEVfVFlQRSB7XG4gICAgTk9ORSA9IC0xLFxuICAgIERJU0MgPSAwLFxuICAgIENJUkNMRSA9IDEsXG4gICAgU1FVQVJFID0gMixcbiAgICBERUNJTUFMID0gMyxcbiAgICBDSktfREVDSU1BTCA9IDQsXG4gICAgREVDSU1BTF9MRUFESU5HX1pFUk8gPSA1LFxuICAgIExPV0VSX1JPTUFOID0gNixcbiAgICBVUFBFUl9ST01BTiA9IDcsXG4gICAgTE9XRVJfR1JFRUsgPSA4LFxuICAgIExPV0VSX0FMUEhBID0gOSxcbiAgICBVUFBFUl9BTFBIQSA9IDEwLFxuICAgIEFSQUJJQ19JTkRJQyA9IDExLFxuICAgIEFSTUVOSUFOID0gMTIsXG4gICAgQkVOR0FMSSA9IDEzLFxuICAgIENBTUJPRElBTiA9IDE0LFxuICAgIENKS19FQVJUSExZX0JSQU5DSCA9IDE1LFxuICAgIENKS19IRUFWRU5MWV9TVEVNID0gMTYsXG4gICAgQ0pLX0lERU9HUkFQSElDID0gMTcsXG4gICAgREVWQU5BR0FSSSA9IDE4LFxuICAgIEVUSElPUElDX05VTUVSSUMgPSAxOSxcbiAgICBHRU9SR0lBTiA9IDIwLFxuICAgIEdVSkFSQVRJID0gMjEsXG4gICAgR1VSTVVLSEkgPSAyMixcbiAgICBIRUJSRVcgPSAyMixcbiAgICBISVJBR0FOQSA9IDIzLFxuICAgIEhJUkFHQU5BX0lST0hBID0gMjQsXG4gICAgSkFQQU5FU0VfRk9STUFMID0gMjUsXG4gICAgSkFQQU5FU0VfSU5GT1JNQUwgPSAyNixcbiAgICBLQU5OQURBID0gMjcsXG4gICAgS0FUQUtBTkEgPSAyOCxcbiAgICBLQVRBS0FOQV9JUk9IQSA9IDI5LFxuICAgIEtITUVSID0gMzAsXG4gICAgS09SRUFOX0hBTkdVTF9GT1JNQUwgPSAzMSxcbiAgICBLT1JFQU5fSEFOSkFfRk9STUFMID0gMzIsXG4gICAgS09SRUFOX0hBTkpBX0lORk9STUFMID0gMzMsXG4gICAgTEFPID0gMzQsXG4gICAgTE9XRVJfQVJNRU5JQU4gPSAzNSxcbiAgICBNQUxBWUFMQU0gPSAzNixcbiAgICBNT05HT0xJQU4gPSAzNyxcbiAgICBNWUFOTUFSID0gMzgsXG4gICAgT1JJWUEgPSAzOSxcbiAgICBQRVJTSUFOID0gNDAsXG4gICAgU0lNUF9DSElORVNFX0ZPUk1BTCA9IDQxLFxuICAgIFNJTVBfQ0hJTkVTRV9JTkZPUk1BTCA9IDQyLFxuICAgIFRBTUlMID0gNDMsXG4gICAgVEVMVUdVID0gNDQsXG4gICAgVEhBSSA9IDQ1LFxuICAgIFRJQkVUQU4gPSA0NixcbiAgICBUUkFEX0NISU5FU0VfRk9STUFMID0gNDcsXG4gICAgVFJBRF9DSElORVNFX0lORk9STUFMID0gNDgsXG4gICAgVVBQRVJfQVJNRU5JQU4gPSA0OSxcbiAgICBESVNDTE9TVVJFX09QRU4gPSA1MCxcbiAgICBESVNDTE9TVVJFX0NMT1NFRCA9IDUxXG59XG5cbmV4cG9ydCBjb25zdCBsaXN0U3R5bGVUeXBlOiBJUHJvcGVydHlJZGVudFZhbHVlRGVzY3JpcHRvcjxMSVNUX1NUWUxFX1RZUEU+ID0ge1xuICAgIG5hbWU6ICdsaXN0LXN0eWxlLXR5cGUnLFxuICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxuICAgIHByZWZpeDogZmFsc2UsXG4gICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXG4gICAgcGFyc2U6ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdkaXNjJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkRJU0M7XG4gICAgICAgICAgICBjYXNlICdjaXJjbGUnOlxuICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuQ0lSQ0xFO1xuICAgICAgICAgICAgY2FzZSAnc3F1YXJlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlNRVUFSRTtcbiAgICAgICAgICAgIGNhc2UgJ2RlY2ltYWwnOlxuICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTDtcbiAgICAgICAgICAgIGNhc2UgJ2Nqay1kZWNpbWFsJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkNKS19ERUNJTUFMO1xuICAgICAgICAgICAgY2FzZSAnZGVjaW1hbC1sZWFkaW5nLXplcm8nOlxuICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTF9MRUFESU5HX1pFUk87XG4gICAgICAgICAgICBjYXNlICdsb3dlci1yb21hbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5MT1dFUl9ST01BTjtcbiAgICAgICAgICAgIGNhc2UgJ3VwcGVyLXJvbWFuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlVQUEVSX1JPTUFOO1xuICAgICAgICAgICAgY2FzZSAnbG93ZXItZ3JlZWsnOlxuICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfR1JFRUs7XG4gICAgICAgICAgICBjYXNlICdsb3dlci1hbHBoYSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5MT1dFUl9BTFBIQTtcbiAgICAgICAgICAgIGNhc2UgJ3VwcGVyLWFscGhhJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlVQUEVSX0FMUEhBO1xuICAgICAgICAgICAgY2FzZSAnYXJhYmljLWluZGljJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkFSQUJJQ19JTkRJQztcbiAgICAgICAgICAgIGNhc2UgJ2FybWVuaWFuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkFSTUVOSUFOO1xuICAgICAgICAgICAgY2FzZSAnYmVuZ2FsaSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5CRU5HQUxJO1xuICAgICAgICAgICAgY2FzZSAnY2FtYm9kaWFuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkNBTUJPRElBTjtcbiAgICAgICAgICAgIGNhc2UgJ2Nqay1lYXJ0aGx5LWJyYW5jaCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5DSktfRUFSVEhMWV9CUkFOQ0g7XG4gICAgICAgICAgICBjYXNlICdjamstaGVhdmVubHktc3RlbSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5DSktfSEVBVkVOTFlfU1RFTTtcbiAgICAgICAgICAgIGNhc2UgJ2Nqay1pZGVvZ3JhcGhpYyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5DSktfSURFT0dSQVBISUM7XG4gICAgICAgICAgICBjYXNlICdkZXZhbmFnYXJpJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkRFVkFOQUdBUkk7XG4gICAgICAgICAgICBjYXNlICdldGhpb3BpYy1udW1lcmljJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkVUSElPUElDX05VTUVSSUM7XG4gICAgICAgICAgICBjYXNlICdnZW9yZ2lhbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5HRU9SR0lBTjtcbiAgICAgICAgICAgIGNhc2UgJ2d1amFyYXRpJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkdVSkFSQVRJO1xuICAgICAgICAgICAgY2FzZSAnZ3VybXVraGknOlxuICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuR1VSTVVLSEk7XG4gICAgICAgICAgICBjYXNlICdoZWJyZXcnOlxuICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuSEVCUkVXO1xuICAgICAgICAgICAgY2FzZSAnaGlyYWdhbmEnOlxuICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuSElSQUdBTkE7XG4gICAgICAgICAgICBjYXNlICdoaXJhZ2FuYS1pcm9oYSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ISVJBR0FOQV9JUk9IQTtcbiAgICAgICAgICAgIGNhc2UgJ2phcGFuZXNlLWZvcm1hbCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5KQVBBTkVTRV9GT1JNQUw7XG4gICAgICAgICAgICBjYXNlICdqYXBhbmVzZS1pbmZvcm1hbCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5KQVBBTkVTRV9JTkZPUk1BTDtcbiAgICAgICAgICAgIGNhc2UgJ2thbm5hZGEnOlxuICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuS0FOTkFEQTtcbiAgICAgICAgICAgIGNhc2UgJ2thdGFrYW5hJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLktBVEFLQU5BO1xuICAgICAgICAgICAgY2FzZSAna2F0YWthbmEtaXJvaGEnOlxuICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuS0FUQUtBTkFfSVJPSEE7XG4gICAgICAgICAgICBjYXNlICdraG1lcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5LSE1FUjtcbiAgICAgICAgICAgIGNhc2UgJ2tvcmVhbi1oYW5ndWwtZm9ybWFsJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLktPUkVBTl9IQU5HVUxfRk9STUFMO1xuICAgICAgICAgICAgY2FzZSAna29yZWFuLWhhbmphLWZvcm1hbCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5LT1JFQU5fSEFOSkFfRk9STUFMO1xuICAgICAgICAgICAgY2FzZSAna29yZWFuLWhhbmphLWluZm9ybWFsJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLktPUkVBTl9IQU5KQV9JTkZPUk1BTDtcbiAgICAgICAgICAgIGNhc2UgJ2xhbyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5MQU87XG4gICAgICAgICAgICBjYXNlICdsb3dlci1hcm1lbmlhbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5MT1dFUl9BUk1FTklBTjtcbiAgICAgICAgICAgIGNhc2UgJ21hbGF5YWxhbSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5NQUxBWUFMQU07XG4gICAgICAgICAgICBjYXNlICdtb25nb2xpYW4nOlxuICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTU9OR09MSUFOO1xuICAgICAgICAgICAgY2FzZSAnbXlhbm1hcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5NWUFOTUFSO1xuICAgICAgICAgICAgY2FzZSAnb3JpeWEnOlxuICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuT1JJWUE7XG4gICAgICAgICAgICBjYXNlICdwZXJzaWFuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlBFUlNJQU47XG4gICAgICAgICAgICBjYXNlICdzaW1wLWNoaW5lc2UtZm9ybWFsJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlNJTVBfQ0hJTkVTRV9GT1JNQUw7XG4gICAgICAgICAgICBjYXNlICdzaW1wLWNoaW5lc2UtaW5mb3JtYWwnOlxuICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuU0lNUF9DSElORVNFX0lORk9STUFMO1xuICAgICAgICAgICAgY2FzZSAndGFtaWwnOlxuICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVEFNSUw7XG4gICAgICAgICAgICBjYXNlICd0ZWx1Z3UnOlxuICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVEVMVUdVO1xuICAgICAgICAgICAgY2FzZSAndGhhaSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5USEFJO1xuICAgICAgICAgICAgY2FzZSAndGliZXRhbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5USUJFVEFOO1xuICAgICAgICAgICAgY2FzZSAndHJhZC1jaGluZXNlLWZvcm1hbCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5UUkFEX0NISU5FU0VfRk9STUFMO1xuICAgICAgICAgICAgY2FzZSAndHJhZC1jaGluZXNlLWluZm9ybWFsJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlRSQURfQ0hJTkVTRV9JTkZPUk1BTDtcbiAgICAgICAgICAgIGNhc2UgJ3VwcGVyLWFybWVuaWFuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlVQUEVSX0FSTUVOSUFOO1xuICAgICAgICAgICAgY2FzZSAnZGlzY2xvc3VyZS1vcGVuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkRJU0NMT1NVUkVfT1BFTjtcbiAgICAgICAgICAgIGNhc2UgJ2Rpc2Nsb3N1cmUtY2xvc2VkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkRJU0NMT1NVUkVfQ0xPU0VEO1xuICAgICAgICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTk9ORTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCJpbXBvcnQge0lQcm9wZXJ0eVRva2VuVmFsdWVEZXNjcmlwdG9yLCBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZX0gZnJvbSAnLi4vSVByb3BlcnR5RGVzY3JpcHRvcic7XG5cbmNvbnN0IG1hcmdpbkZvclNpZGUgPSAoc2lkZTogc3RyaW5nKTogSVByb3BlcnR5VG9rZW5WYWx1ZURlc2NyaXB0b3IgPT4gKHtcbiAgICBuYW1lOiBgbWFyZ2luLSR7c2lkZX1gLFxuICAgIGluaXRpYWxWYWx1ZTogJzAnLFxuICAgIHByZWZpeDogZmFsc2UsXG4gICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVE9LRU5fVkFMVUVcbn0pO1xuXG5leHBvcnQgY29uc3QgbWFyZ2luVG9wOiBJUHJvcGVydHlUb2tlblZhbHVlRGVzY3JpcHRvciA9IG1hcmdpbkZvclNpZGUoJ3RvcCcpO1xuZXhwb3J0IGNvbnN0IG1hcmdpblJpZ2h0OiBJUHJvcGVydHlUb2tlblZhbHVlRGVzY3JpcHRvciA9IG1hcmdpbkZvclNpZGUoJ3JpZ2h0Jyk7XG5leHBvcnQgY29uc3QgbWFyZ2luQm90dG9tOiBJUHJvcGVydHlUb2tlblZhbHVlRGVzY3JpcHRvciA9IG1hcmdpbkZvclNpZGUoJ2JvdHRvbScpO1xuZXhwb3J0IGNvbnN0IG1hcmdpbkxlZnQ6IElQcm9wZXJ0eVRva2VuVmFsdWVEZXNjcmlwdG9yID0gbWFyZ2luRm9yU2lkZSgnbGVmdCcpO1xuIiwiaW1wb3J0IHtJUHJvcGVydHlMaXN0RGVzY3JpcHRvciwgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGV9IGZyb20gJy4uL0lQcm9wZXJ0eURlc2NyaXB0b3InO1xuaW1wb3J0IHtDU1NWYWx1ZSwgaXNJZGVudFRva2VufSBmcm9tICcuLi9zeW50YXgvcGFyc2VyJztcbmV4cG9ydCBlbnVtIE9WRVJGTE9XIHtcbiAgICBWSVNJQkxFID0gMCxcbiAgICBISURERU4gPSAxLFxuICAgIFNDUk9MTCA9IDIsXG4gICAgQVVUTyA9IDNcbn1cblxuZXhwb3J0IGNvbnN0IG92ZXJmbG93OiBJUHJvcGVydHlMaXN0RGVzY3JpcHRvcjxPVkVSRkxPV1tdPiA9IHtcbiAgICBuYW1lOiAnb3ZlcmZsb3cnLFxuICAgIGluaXRpYWxWYWx1ZTogJ3Zpc2libGUnLFxuICAgIHByZWZpeDogZmFsc2UsXG4gICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcbiAgICBwYXJzZTogKHRva2VuczogQ1NTVmFsdWVbXSk6IE9WRVJGTE9XW10gPT4ge1xuICAgICAgICByZXR1cm4gdG9rZW5zLmZpbHRlcihpc0lkZW50VG9rZW4pLm1hcChvdmVyZmxvdyA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKG92ZXJmbG93LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnaGlkZGVuJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9WRVJGTE9XLkhJRERFTjtcbiAgICAgICAgICAgICAgICBjYXNlICdzY3JvbGwnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT1ZFUkZMT1cuU0NST0xMO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT1ZFUkZMT1cuQVVUTztcbiAgICAgICAgICAgICAgICBjYXNlICd2aXNpYmxlJzpcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT1ZFUkZMT1cuVklTSUJMRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7SVByb3BlcnR5SWRlbnRWYWx1ZURlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmV4cG9ydCBlbnVtIE9WRVJGTE9XX1dSQVAge1xuICAgIE5PUk1BTCA9ICdub3JtYWwnLFxuICAgIEJSRUFLX1dPUkQgPSAnYnJlYWstd29yZCdcbn1cblxuZXhwb3J0IGNvbnN0IG92ZXJmbG93V3JhcDogSVByb3BlcnR5SWRlbnRWYWx1ZURlc2NyaXB0b3I8T1ZFUkZMT1dfV1JBUD4gPSB7XG4gICAgbmFtZTogJ292ZXJmbG93LXdyYXAnLFxuICAgIGluaXRpYWxWYWx1ZTogJ25vcm1hbCcsXG4gICAgcHJlZml4OiBmYWxzZSxcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRSxcbiAgICBwYXJzZTogKG92ZXJmbG93OiBzdHJpbmcpID0+IHtcbiAgICAgICAgc3dpdGNoIChvdmVyZmxvdykge1xuICAgICAgICAgICAgY2FzZSAnYnJlYWstd29yZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9WRVJGTE9XX1dSQVAuQlJFQUtfV09SRDtcbiAgICAgICAgICAgIGNhc2UgJ25vcm1hbCc6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBPVkVSRkxPV19XUkFQLk5PUk1BTDtcbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCJpbXBvcnQge0lQcm9wZXJ0eVR5cGVWYWx1ZURlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcblxuY29uc3QgcGFkZGluZ0ZvclNpZGUgPSAoc2lkZTogc3RyaW5nKTogSVByb3BlcnR5VHlwZVZhbHVlRGVzY3JpcHRvciA9PiAoe1xuICAgIG5hbWU6IGBwYWRkaW5nLSR7c2lkZX1gLFxuICAgIGluaXRpYWxWYWx1ZTogJzAnLFxuICAgIHByZWZpeDogZmFsc2UsXG4gICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVFlQRV9WQUxVRSxcbiAgICBmb3JtYXQ6ICdsZW5ndGgtcGVyY2VudGFnZSdcbn0pO1xuXG5leHBvcnQgY29uc3QgcGFkZGluZ1RvcDogSVByb3BlcnR5VHlwZVZhbHVlRGVzY3JpcHRvciA9IHBhZGRpbmdGb3JTaWRlKCd0b3AnKTtcbmV4cG9ydCBjb25zdCBwYWRkaW5nUmlnaHQ6IElQcm9wZXJ0eVR5cGVWYWx1ZURlc2NyaXB0b3IgPSBwYWRkaW5nRm9yU2lkZSgncmlnaHQnKTtcbmV4cG9ydCBjb25zdCBwYWRkaW5nQm90dG9tOiBJUHJvcGVydHlUeXBlVmFsdWVEZXNjcmlwdG9yID0gcGFkZGluZ0ZvclNpZGUoJ2JvdHRvbScpO1xuZXhwb3J0IGNvbnN0IHBhZGRpbmdMZWZ0OiBJUHJvcGVydHlUeXBlVmFsdWVEZXNjcmlwdG9yID0gcGFkZGluZ0ZvclNpZGUoJ2xlZnQnKTtcbiIsImltcG9ydCB7SVByb3BlcnR5SWRlbnRWYWx1ZURlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmV4cG9ydCBlbnVtIFRFWFRfQUxJR04ge1xuICAgIExFRlQgPSAwLFxuICAgIENFTlRFUiA9IDEsXG4gICAgUklHSFQgPSAyXG59XG5cbmV4cG9ydCBjb25zdCB0ZXh0QWxpZ246IElQcm9wZXJ0eUlkZW50VmFsdWVEZXNjcmlwdG9yPFRFWFRfQUxJR04+ID0ge1xuICAgIG5hbWU6ICd0ZXh0LWFsaWduJyxcbiAgICBpbml0aWFsVmFsdWU6ICdsZWZ0JyxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxuICAgIHBhcnNlOiAodGV4dEFsaWduOiBzdHJpbmcpID0+IHtcbiAgICAgICAgc3dpdGNoICh0ZXh0QWxpZ24pIHtcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gVEVYVF9BTElHTi5SSUdIVDtcbiAgICAgICAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgICAgICBjYXNlICdqdXN0aWZ5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gVEVYVF9BTElHTi5DRU5URVI7XG4gICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRFWFRfQUxJR04uTEVGVDtcbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCJpbXBvcnQge0lQcm9wZXJ0eUlkZW50VmFsdWVEZXNjcmlwdG9yLCBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZX0gZnJvbSAnLi4vSVByb3BlcnR5RGVzY3JpcHRvcic7XG5leHBvcnQgZW51bSBQT1NJVElPTiB7XG4gICAgU1RBVElDID0gMCxcbiAgICBSRUxBVElWRSA9IDEsXG4gICAgQUJTT0xVVEUgPSAyLFxuICAgIEZJWEVEID0gMyxcbiAgICBTVElDS1kgPSA0XG59XG5cbmV4cG9ydCBjb25zdCBwb3NpdGlvbjogSVByb3BlcnR5SWRlbnRWYWx1ZURlc2NyaXB0b3I8UE9TSVRJT04+ID0ge1xuICAgIG5hbWU6ICdwb3NpdGlvbicsXG4gICAgaW5pdGlhbFZhbHVlOiAnc3RhdGljJyxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxuICAgIHBhcnNlOiAocG9zaXRpb246IHN0cmluZykgPT4ge1xuICAgICAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjYXNlICdyZWxhdGl2ZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBPU0lUSU9OLlJFTEFUSVZFO1xuICAgICAgICAgICAgY2FzZSAnYWJzb2x1dGUnOlxuICAgICAgICAgICAgICAgIHJldHVybiBQT1NJVElPTi5BQlNPTFVURTtcbiAgICAgICAgICAgIGNhc2UgJ2ZpeGVkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gUE9TSVRJT04uRklYRUQ7XG4gICAgICAgICAgICBjYXNlICdzdGlja3knOlxuICAgICAgICAgICAgICAgIHJldHVybiBQT1NJVElPTi5TVElDS1k7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUE9TSVRJT04uU1RBVElDO1xuICAgIH1cbn07XG4iLCJpbXBvcnQge1Byb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLCBJUHJvcGVydHlMaXN0RGVzY3JpcHRvcn0gZnJvbSAnLi4vSVByb3BlcnR5RGVzY3JpcHRvcic7XG5pbXBvcnQge0NTU1ZhbHVlLCBpc0lkZW50V2l0aFZhbHVlLCBwYXJzZUZ1bmN0aW9uQXJnc30gZnJvbSAnLi4vc3ludGF4L3BhcnNlcic7XG5pbXBvcnQge1pFUk9fTEVOR1RIfSBmcm9tICcuLi90eXBlcy9sZW5ndGgtcGVyY2VudGFnZSc7XG5pbXBvcnQge2NvbG9yLCBDb2xvciwgQ09MT1JTfSBmcm9tICcuLi90eXBlcy9jb2xvcic7XG5pbXBvcnQge2lzTGVuZ3RoLCBMZW5ndGh9IGZyb20gJy4uL3R5cGVzL2xlbmd0aCc7XG5cbmV4cG9ydCB0eXBlIFRleHRTaGFkb3cgPSBUZXh0U2hhZG93SXRlbVtdO1xuaW50ZXJmYWNlIFRleHRTaGFkb3dJdGVtIHtcbiAgICBjb2xvcjogQ29sb3I7XG4gICAgb2Zmc2V0WDogTGVuZ3RoO1xuICAgIG9mZnNldFk6IExlbmd0aDtcbiAgICBibHVyOiBMZW5ndGg7XG59XG5cbmV4cG9ydCBjb25zdCB0ZXh0U2hhZG93OiBJUHJvcGVydHlMaXN0RGVzY3JpcHRvcjxUZXh0U2hhZG93PiA9IHtcbiAgICBuYW1lOiAndGV4dC1zaGFkb3cnLFxuICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXG4gICAgcHJlZml4OiBmYWxzZSxcbiAgICBwYXJzZTogKHRva2VuczogQ1NTVmFsdWVbXSk6IFRleHRTaGFkb3cgPT4ge1xuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMSAmJiBpc0lkZW50V2l0aFZhbHVlKHRva2Vuc1swXSwgJ25vbmUnKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucykubWFwKCh2YWx1ZXM6IENTU1ZhbHVlW10pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNoYWRvdzogVGV4dFNoYWRvd0l0ZW0gPSB7XG4gICAgICAgICAgICAgICAgY29sb3I6IENPTE9SUy5UUkFOU1BBUkVOVCxcbiAgICAgICAgICAgICAgICBvZmZzZXRYOiBaRVJPX0xFTkdUSCxcbiAgICAgICAgICAgICAgICBvZmZzZXRZOiBaRVJPX0xFTkdUSCxcbiAgICAgICAgICAgICAgICBibHVyOiBaRVJPX0xFTkdUSFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBjID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSB2YWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGlzTGVuZ3RoKHRva2VuKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Lm9mZnNldFggPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3cub2Zmc2V0WSA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93LmJsdXIgPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93LmNvbG9yID0gY29sb3IucGFyc2UodG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzaGFkb3c7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG4iLCJpbXBvcnQge0lQcm9wZXJ0eUlkZW50VmFsdWVEZXNjcmlwdG9yLCBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZX0gZnJvbSAnLi4vSVByb3BlcnR5RGVzY3JpcHRvcic7XG5leHBvcnQgZW51bSBURVhUX1RSQU5TRk9STSB7XG4gICAgTk9ORSA9IDAsXG4gICAgTE9XRVJDQVNFID0gMSxcbiAgICBVUFBFUkNBU0UgPSAyLFxuICAgIENBUElUQUxJWkUgPSAzXG59XG5cbmV4cG9ydCBjb25zdCB0ZXh0VHJhbnNmb3JtOiBJUHJvcGVydHlJZGVudFZhbHVlRGVzY3JpcHRvcjxURVhUX1RSQU5TRk9STT4gPSB7XG4gICAgbmFtZTogJ3RleHQtdHJhbnNmb3JtJyxcbiAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxuICAgIHBhcnNlOiAodGV4dFRyYW5zZm9ybTogc3RyaW5nKSA9PiB7XG4gICAgICAgIHN3aXRjaCAodGV4dFRyYW5zZm9ybSkge1xuICAgICAgICAgICAgY2FzZSAndXBwZXJjYXNlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gVEVYVF9UUkFOU0ZPUk0uVVBQRVJDQVNFO1xuICAgICAgICAgICAgY2FzZSAnbG93ZXJjYXNlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gVEVYVF9UUkFOU0ZPUk0uTE9XRVJDQVNFO1xuICAgICAgICAgICAgY2FzZSAnY2FwaXRhbGl6ZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRFWFRfVFJBTlNGT1JNLkNBUElUQUxJWkU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gVEVYVF9UUkFOU0ZPUk0uTk9ORTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHtJUHJvcGVydHlWYWx1ZURlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmltcG9ydCB7Q1NTVmFsdWV9IGZyb20gJy4uL3N5bnRheC9wYXJzZXInO1xuaW1wb3J0IHtOdW1iZXJWYWx1ZVRva2VuLCBUb2tlblR5cGV9IGZyb20gJy4uL3N5bnRheC90b2tlbml6ZXInO1xuZXhwb3J0IHR5cGUgTWF0cml4ID0gW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuZXhwb3J0IHR5cGUgVHJhbnNmb3JtID0gTWF0cml4IHwgbnVsbDtcblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybTogSVByb3BlcnR5VmFsdWVEZXNjcmlwdG9yPFRyYW5zZm9ybT4gPSB7XG4gICAgbmFtZTogJ3RyYW5zZm9ybScsXG4gICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXG4gICAgcHJlZml4OiB0cnVlLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlZBTFVFLFxuICAgIHBhcnNlOiAodG9rZW46IENTU1ZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgdG9rZW4udmFsdWUgPT09ICdub25lJykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLkZVTkNUSU9OKSB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1GdW5jdGlvbiA9IFNVUFBPUlRFRF9UUkFOU0ZPUk1fRlVOQ1RJT05TW3Rva2VuLm5hbWVdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0cmFuc2Zvcm1GdW5jdGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEF0dGVtcHRpbmcgdG8gcGFyc2UgYW4gdW5zdXBwb3J0ZWQgdHJhbnNmb3JtIGZ1bmN0aW9uIFwiJHt0b2tlbi5uYW1lfVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtRnVuY3Rpb24odG9rZW4udmFsdWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn07XG5cbmNvbnN0IG1hdHJpeCA9IChhcmdzOiBDU1NWYWx1ZVtdKTogVHJhbnNmb3JtID0+IHtcbiAgICBjb25zdCB2YWx1ZXMgPSBhcmdzLmZpbHRlcihhcmcgPT4gYXJnLnR5cGUgPT09IFRva2VuVHlwZS5OVU1CRVJfVE9LRU4pLm1hcCgoYXJnOiBOdW1iZXJWYWx1ZVRva2VuKSA9PiBhcmcubnVtYmVyKTtcblxuICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoID09PSA2ID8gKHZhbHVlcyBhcyBNYXRyaXgpIDogbnVsbDtcbn07XG5cbi8vIGRvZXNuJ3Qgc3VwcG9ydCAzRCB0cmFuc2Zvcm1zIGF0IHRoZSBtb21lbnRcbmNvbnN0IG1hdHJpeDNkID0gKGFyZ3M6IENTU1ZhbHVlW10pOiBUcmFuc2Zvcm0gPT4ge1xuICAgIGNvbnN0IHZhbHVlcyA9IGFyZ3MuZmlsdGVyKGFyZyA9PiBhcmcudHlwZSA9PT0gVG9rZW5UeXBlLk5VTUJFUl9UT0tFTikubWFwKChhcmc6IE51bWJlclZhbHVlVG9rZW4pID0+IGFyZy5udW1iZXIpO1xuXG4gICAgY29uc3QgW2ExLCBiMSwge30sIHt9LCBhMiwgYjIsIHt9LCB7fSwge30sIHt9LCB7fSwge30sIGE0LCBiNCwge30sIHt9XSA9IHZhbHVlcztcblxuICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoID09PSAxNiA/IFthMSwgYjEsIGEyLCBiMiwgYTQsIGI0XSA6IG51bGw7XG59O1xuXG5jb25zdCBTVVBQT1JURURfVFJBTlNGT1JNX0ZVTkNUSU9OUzoge1xuICAgIFtrZXk6IHN0cmluZ106IChhcmdzOiBDU1NWYWx1ZVtdKSA9PiBUcmFuc2Zvcm07XG59ID0ge1xuICAgIG1hdHJpeDogbWF0cml4LFxuICAgIG1hdHJpeDNkOiBtYXRyaXgzZFxufTtcbiIsImltcG9ydCB7SVByb3BlcnR5TGlzdERlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmltcG9ydCB7Q1NTVmFsdWV9IGZyb20gJy4uL3N5bnRheC9wYXJzZXInO1xuaW1wb3J0IHtpc0xlbmd0aFBlcmNlbnRhZ2UsIExlbmd0aFBlcmNlbnRhZ2V9IGZyb20gJy4uL3R5cGVzL2xlbmd0aC1wZXJjZW50YWdlJztcbmltcG9ydCB7RkxBR19JTlRFR0VSLCBUb2tlblR5cGV9IGZyb20gJy4uL3N5bnRheC90b2tlbml6ZXInO1xuZXhwb3J0IHR5cGUgVHJhbnNmb3JtT3JpZ2luID0gW0xlbmd0aFBlcmNlbnRhZ2UsIExlbmd0aFBlcmNlbnRhZ2VdO1xuXG5jb25zdCBERUZBVUxUX1ZBTFVFOiBMZW5ndGhQZXJjZW50YWdlID0ge1xuICAgIHR5cGU6IFRva2VuVHlwZS5QRVJDRU5UQUdFX1RPS0VOLFxuICAgIG51bWJlcjogNTAsXG4gICAgZmxhZ3M6IEZMQUdfSU5URUdFUlxufTtcbmNvbnN0IERFRkFVTFQ6IFRyYW5zZm9ybU9yaWdpbiA9IFtERUZBVUxUX1ZBTFVFLCBERUZBVUxUX1ZBTFVFXTtcblxuZXhwb3J0IGNvbnN0IHRyYW5zZm9ybU9yaWdpbjogSVByb3BlcnR5TGlzdERlc2NyaXB0b3I8VHJhbnNmb3JtT3JpZ2luPiA9IHtcbiAgICBuYW1lOiAndHJhbnNmb3JtLW9yaWdpbicsXG4gICAgaW5pdGlhbFZhbHVlOiAnNTAlIDUwJScsXG4gICAgcHJlZml4OiB0cnVlLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXG4gICAgcGFyc2U6ICh0b2tlbnM6IENTU1ZhbHVlW10pID0+IHtcbiAgICAgICAgY29uc3Qgb3JpZ2luczogTGVuZ3RoUGVyY2VudGFnZVtdID0gdG9rZW5zLmZpbHRlcihpc0xlbmd0aFBlcmNlbnRhZ2UpO1xuXG4gICAgICAgIGlmIChvcmlnaW5zLmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgcmV0dXJuIERFRkFVTFQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW29yaWdpbnNbMF0sIG9yaWdpbnNbMV1dO1xuICAgIH1cbn07XG4iLCJpbXBvcnQge0lQcm9wZXJ0eUlkZW50VmFsdWVEZXNjcmlwdG9yLCBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZX0gZnJvbSAnLi4vSVByb3BlcnR5RGVzY3JpcHRvcic7XG5leHBvcnQgZW51bSBWSVNJQklMSVRZIHtcbiAgICBWSVNJQkxFID0gMCxcbiAgICBISURERU4gPSAxLFxuICAgIENPTExBUFNFID0gMlxufVxuXG5leHBvcnQgY29uc3QgdmlzaWJpbGl0eTogSVByb3BlcnR5SWRlbnRWYWx1ZURlc2NyaXB0b3I8VklTSUJJTElUWT4gPSB7XG4gICAgbmFtZTogJ3Zpc2libGUnLFxuICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxuICAgIHByZWZpeDogZmFsc2UsXG4gICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXG4gICAgcGFyc2U6ICh2aXNpYmlsaXR5OiBzdHJpbmcpID0+IHtcbiAgICAgICAgc3dpdGNoICh2aXNpYmlsaXR5KSB7XG4gICAgICAgICAgICBjYXNlICdoaWRkZW4nOlxuICAgICAgICAgICAgICAgIHJldHVybiBWSVNJQklMSVRZLkhJRERFTjtcbiAgICAgICAgICAgIGNhc2UgJ2NvbGxhcHNlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gVklTSUJJTElUWS5DT0xMQVBTRTtcbiAgICAgICAgICAgIGNhc2UgJ3Zpc2libGUnOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gVklTSUJJTElUWS5WSVNJQkxFO1xuICAgICAgICB9XG4gICAgfVxufTtcbiIsImltcG9ydCB7SVByb3BlcnR5SWRlbnRWYWx1ZURlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmV4cG9ydCBlbnVtIFdPUkRfQlJFQUsge1xuICAgIE5PUk1BTCA9ICdub3JtYWwnLFxuICAgIEJSRUFLX0FMTCA9ICdicmVhay1hbGwnLFxuICAgIEtFRVBfQUxMID0gJ2tlZXAtYWxsJ1xufVxuXG5leHBvcnQgY29uc3Qgd29yZEJyZWFrOiBJUHJvcGVydHlJZGVudFZhbHVlRGVzY3JpcHRvcjxXT1JEX0JSRUFLPiA9IHtcbiAgICBuYW1lOiAnd29yZC1icmVhaycsXG4gICAgaW5pdGlhbFZhbHVlOiAnbm9ybWFsJyxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxuICAgIHBhcnNlOiAod29yZEJyZWFrOiBzdHJpbmcpOiBXT1JEX0JSRUFLID0+IHtcbiAgICAgICAgc3dpdGNoICh3b3JkQnJlYWspIHtcbiAgICAgICAgICAgIGNhc2UgJ2JyZWFrLWFsbCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFdPUkRfQlJFQUsuQlJFQUtfQUxMO1xuICAgICAgICAgICAgY2FzZSAna2VlcC1hbGwnOlxuICAgICAgICAgICAgICAgIHJldHVybiBXT1JEX0JSRUFLLktFRVBfQUxMO1xuICAgICAgICAgICAgY2FzZSAnbm9ybWFsJzpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFdPUkRfQlJFQUsuTk9STUFMO1xuICAgICAgICB9XG4gICAgfVxufTtcbiIsImltcG9ydCB7SVByb3BlcnR5VmFsdWVEZXNjcmlwdG9yLCBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZX0gZnJvbSAnLi4vSVByb3BlcnR5RGVzY3JpcHRvcic7XG5pbXBvcnQge0NTU1ZhbHVlLCBpc051bWJlclRva2VufSBmcm9tICcuLi9zeW50YXgvcGFyc2VyJztcbmltcG9ydCB7VG9rZW5UeXBlfSBmcm9tICcuLi9zeW50YXgvdG9rZW5pemVyJztcblxuaW50ZXJmYWNlIHpJbmRleCB7XG4gICAgb3JkZXI6IG51bWJlcjtcbiAgICBhdXRvOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgekluZGV4OiBJUHJvcGVydHlWYWx1ZURlc2NyaXB0b3I8ekluZGV4PiA9IHtcbiAgICBuYW1lOiAnei1pbmRleCcsXG4gICAgaW5pdGlhbFZhbHVlOiAnYXV0bycsXG4gICAgcHJlZml4OiBmYWxzZSxcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRSxcbiAgICBwYXJzZTogKHRva2VuOiBDU1NWYWx1ZSk6IHpJbmRleCA9PiB7XG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4pIHtcbiAgICAgICAgICAgIHJldHVybiB7YXV0bzogdHJ1ZSwgb3JkZXI6IDB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyVG9rZW4odG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4ge2F1dG86IGZhbHNlLCBvcmRlcjogdG9rZW4ubnVtYmVyfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB6LWluZGV4IG51bWJlciBwYXJzZWRgKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHtJUHJvcGVydHlWYWx1ZURlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmltcG9ydCB7Q1NTVmFsdWUsIGlzTnVtYmVyVG9rZW59IGZyb20gJy4uL3N5bnRheC9wYXJzZXInO1xuZXhwb3J0IGNvbnN0IG9wYWNpdHk6IElQcm9wZXJ0eVZhbHVlRGVzY3JpcHRvcjxudW1iZXI+ID0ge1xuICAgIG5hbWU6ICdvcGFjaXR5JyxcbiAgICBpbml0aWFsVmFsdWU6ICcxJyxcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRSxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHBhcnNlOiAodG9rZW46IENTU1ZhbHVlKTogbnVtYmVyID0+IHtcbiAgICAgICAgaWYgKGlzTnVtYmVyVG9rZW4odG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW4ubnVtYmVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbn07XG4iLCJpbXBvcnQge0lQcm9wZXJ0eVR5cGVWYWx1ZURlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcblxuZXhwb3J0IGNvbnN0IHRleHREZWNvcmF0aW9uQ29sb3I6IElQcm9wZXJ0eVR5cGVWYWx1ZURlc2NyaXB0b3IgPSB7XG4gICAgbmFtZTogYHRleHQtZGVjb3JhdGlvbi1jb2xvcmAsXG4gICAgaW5pdGlhbFZhbHVlOiAndHJhbnNwYXJlbnQnLFxuICAgIHByZWZpeDogZmFsc2UsXG4gICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVFlQRV9WQUxVRSxcbiAgICBmb3JtYXQ6ICdjb2xvcidcbn07XG4iLCJpbXBvcnQge0lQcm9wZXJ0eUxpc3REZXNjcmlwdG9yLCBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZX0gZnJvbSAnLi4vSVByb3BlcnR5RGVzY3JpcHRvcic7XG5pbXBvcnQge0NTU1ZhbHVlLCBpc0lkZW50VG9rZW59IGZyb20gJy4uL3N5bnRheC9wYXJzZXInO1xuXG5leHBvcnQgY29uc3QgZW51bSBURVhUX0RFQ09SQVRJT05fTElORSB7XG4gICAgTk9ORSA9IDAsXG4gICAgVU5ERVJMSU5FID0gMSxcbiAgICBPVkVSTElORSA9IDIsXG4gICAgTElORV9USFJPVUdIID0gMyxcbiAgICBCTElOSyA9IDRcbn1cblxuZXhwb3J0IHR5cGUgVGV4dERlY29yYXRpb25MaW5lID0gVEVYVF9ERUNPUkFUSU9OX0xJTkVbXTtcblxuZXhwb3J0IGNvbnN0IHRleHREZWNvcmF0aW9uTGluZTogSVByb3BlcnR5TGlzdERlc2NyaXB0b3I8VGV4dERlY29yYXRpb25MaW5lPiA9IHtcbiAgICBuYW1lOiAndGV4dC1kZWNvcmF0aW9uLWxpbmUnLFxuICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxuICAgIHByZWZpeDogZmFsc2UsXG4gICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcbiAgICBwYXJzZTogKHRva2VuczogQ1NTVmFsdWVbXSk6IFRleHREZWNvcmF0aW9uTGluZSA9PiB7XG4gICAgICAgIHJldHVybiB0b2tlbnNcbiAgICAgICAgICAgIC5maWx0ZXIoaXNJZGVudFRva2VuKVxuICAgICAgICAgICAgLm1hcCh0b2tlbiA9PiB7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd1bmRlcmxpbmUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRFWFRfREVDT1JBVElPTl9MSU5FLlVOREVSTElORTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnb3ZlcmxpbmUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRFWFRfREVDT1JBVElPTl9MSU5FLk9WRVJMSU5FO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdsaW5lLXRocm91Z2gnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRFWFRfREVDT1JBVElPTl9MSU5FLkxJTkVfVEhST1VHSDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gVEVYVF9ERUNPUkFUSU9OX0xJTkUuQkxJTks7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBURVhUX0RFQ09SQVRJT05fTElORS5OT05FO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5maWx0ZXIobGluZSA9PiBsaW5lICE9PSBURVhUX0RFQ09SQVRJT05fTElORS5OT05FKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHtJUHJvcGVydHlMaXN0RGVzY3JpcHRvciwgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGV9IGZyb20gJy4uL0lQcm9wZXJ0eURlc2NyaXB0b3InO1xuaW1wb3J0IHtDU1NWYWx1ZX0gZnJvbSAnLi4vc3ludGF4L3BhcnNlcic7XG5pbXBvcnQge1Rva2VuVHlwZX0gZnJvbSAnLi4vc3ludGF4L3Rva2VuaXplcic7XG5cbmV4cG9ydCB0eXBlIEZPTlRfRkFNSUxZID0gc3RyaW5nO1xuXG5leHBvcnQgdHlwZSBGb250RmFtaWx5ID0gRk9OVF9GQU1JTFlbXTtcblxuZXhwb3J0IGNvbnN0IGZvbnRGYW1pbHk6IElQcm9wZXJ0eUxpc3REZXNjcmlwdG9yPEZvbnRGYW1pbHk+ID0ge1xuICAgIG5hbWU6IGBmb250LWZhbWlseWAsXG4gICAgaW5pdGlhbFZhbHVlOiAnJyxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXG4gICAgcGFyc2U6ICh0b2tlbnM6IENTU1ZhbHVlW10pID0+IHtcbiAgICAgICAgY29uc3QgYWNjdW11bGF0b3I6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGNvbnN0IHJlc3VsdHM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIHRva2Vucy5mb3JFYWNoKHRva2VuID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLklERU5UX1RPS0VOOlxuICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLlNUUklOR19UT0tFTjpcbiAgICAgICAgICAgICAgICAgICAgYWNjdW11bGF0b3IucHVzaCh0b2tlbi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLk5VTUJFUl9UT0tFTjpcbiAgICAgICAgICAgICAgICAgICAgYWNjdW11bGF0b3IucHVzaCh0b2tlbi5udW1iZXIudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkNPTU1BX1RPS0VOOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goYWNjdW11bGF0b3Iuam9pbignICcpKTtcbiAgICAgICAgICAgICAgICAgICAgYWNjdW11bGF0b3IubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYWNjdW11bGF0b3IubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goYWNjdW11bGF0b3Iuam9pbignICcpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cy5tYXAocmVzdWx0ID0+IChyZXN1bHQuaW5kZXhPZignICcpID09PSAtMSA/IHJlc3VsdCA6IGAnJHtyZXN1bHR9J2ApKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHtJUHJvcGVydHlUeXBlVmFsdWVEZXNjcmlwdG9yLCBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZX0gZnJvbSAnLi4vSVByb3BlcnR5RGVzY3JpcHRvcic7XG5cbmV4cG9ydCBjb25zdCBmb250U2l6ZTogSVByb3BlcnR5VHlwZVZhbHVlRGVzY3JpcHRvciA9IHtcbiAgICBuYW1lOiBgZm9udC1zaXplYCxcbiAgICBpbml0aWFsVmFsdWU6ICcwJyxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlRZUEVfVkFMVUUsXG4gICAgZm9ybWF0OiAnbGVuZ3RoJ1xufTtcbiIsImltcG9ydCB7SVByb3BlcnR5VmFsdWVEZXNjcmlwdG9yLCBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZX0gZnJvbSAnLi4vSVByb3BlcnR5RGVzY3JpcHRvcic7XG5pbXBvcnQge0NTU1ZhbHVlLCBpc0lkZW50VG9rZW4sIGlzTnVtYmVyVG9rZW59IGZyb20gJy4uL3N5bnRheC9wYXJzZXInO1xuZXhwb3J0IGNvbnN0IGZvbnRXZWlnaHQ6IElQcm9wZXJ0eVZhbHVlRGVzY3JpcHRvcjxudW1iZXI+ID0ge1xuICAgIG5hbWU6ICdmb250LXdlaWdodCcsXG4gICAgaW5pdGlhbFZhbHVlOiAnbm9ybWFsJyxcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRSxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHBhcnNlOiAodG9rZW46IENTU1ZhbHVlKTogbnVtYmVyID0+IHtcbiAgICAgICAgaWYgKGlzTnVtYmVyVG9rZW4odG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW4ubnVtYmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSWRlbnRUb2tlbih0b2tlbikpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdib2xkJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDcwMDtcbiAgICAgICAgICAgICAgICBjYXNlICdub3JtYWwnOlxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA0MDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gNDAwO1xuICAgIH1cbn07XG4iLCJpbXBvcnQge0lQcm9wZXJ0eUxpc3REZXNjcmlwdG9yLCBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZX0gZnJvbSAnLi4vSVByb3BlcnR5RGVzY3JpcHRvcic7XG5pbXBvcnQge0NTU1ZhbHVlLCBpc0lkZW50VG9rZW59IGZyb20gJy4uL3N5bnRheC9wYXJzZXInO1xuZXhwb3J0IGNvbnN0IGZvbnRWYXJpYW50OiBJUHJvcGVydHlMaXN0RGVzY3JpcHRvcjxzdHJpbmdbXT4gPSB7XG4gICAgbmFtZTogJ2ZvbnQtdmFyaWFudCcsXG4gICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXG4gICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcbiAgICBwcmVmaXg6IGZhbHNlLFxuICAgIHBhcnNlOiAodG9rZW5zOiBDU1NWYWx1ZVtdKTogc3RyaW5nW10gPT4ge1xuICAgICAgICByZXR1cm4gdG9rZW5zLmZpbHRlcihpc0lkZW50VG9rZW4pLm1hcCh0b2tlbiA9PiB0b2tlbi52YWx1ZSk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7SVByb3BlcnR5SWRlbnRWYWx1ZURlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmV4cG9ydCBlbnVtIEZPTlRfU1RZTEUge1xuICAgIE5PUk1BTCA9ICdub3JtYWwnLFxuICAgIElUQUxJQyA9ICdpdGFsaWMnLFxuICAgIE9CTElRVUUgPSAnb2JsaXF1ZSdcbn1cblxuZXhwb3J0IGNvbnN0IGZvbnRTdHlsZTogSVByb3BlcnR5SWRlbnRWYWx1ZURlc2NyaXB0b3I8Rk9OVF9TVFlMRT4gPSB7XG4gICAgbmFtZTogJ2ZvbnQtc3R5bGUnLFxuICAgIGluaXRpYWxWYWx1ZTogJ25vcm1hbCcsXG4gICAgcHJlZml4OiBmYWxzZSxcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRSxcbiAgICBwYXJzZTogKG92ZXJmbG93OiBzdHJpbmcpID0+IHtcbiAgICAgICAgc3dpdGNoIChvdmVyZmxvdykge1xuICAgICAgICAgICAgY2FzZSAnb2JsaXF1ZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEZPTlRfU1RZTEUuT0JMSVFVRTtcbiAgICAgICAgICAgIGNhc2UgJ2l0YWxpYyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEZPTlRfU1RZTEUuSVRBTElDO1xuICAgICAgICAgICAgY2FzZSAnbm9ybWFsJzpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEZPTlRfU1RZTEUuTk9STUFMO1xuICAgICAgICB9XG4gICAgfVxufTtcbiIsImV4cG9ydCBjb25zdCBjb250YWlucyA9IChiaXQ6IG51bWJlciwgdmFsdWU6IG51bWJlcik6IGJvb2xlYW4gPT4gKGJpdCAmIHZhbHVlKSAhPT0gMDtcbiIsImltcG9ydCB7VG9rZW5UeXBlfSBmcm9tICcuLi9zeW50YXgvdG9rZW5pemVyJztcbmltcG9ydCB7SVByb3BlcnR5TGlzdERlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmltcG9ydCB7Q1NTVmFsdWV9IGZyb20gJy4uL3N5bnRheC9wYXJzZXInO1xuXG5leHBvcnQgdHlwZSBDb250ZW50ID0gQ1NTVmFsdWVbXTtcblxuZXhwb3J0IGNvbnN0IGNvbnRlbnQ6IElQcm9wZXJ0eUxpc3REZXNjcmlwdG9yPENvbnRlbnQ+ID0ge1xuICAgIG5hbWU6ICdjb250ZW50JyxcbiAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxuICAgIHByZWZpeDogZmFsc2UsXG4gICAgcGFyc2U6ICh0b2tlbnM6IENTU1ZhbHVlW10pID0+IHtcbiAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0ID0gdG9rZW5zWzBdO1xuXG4gICAgICAgIGlmIChmaXJzdC50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgZmlyc3QudmFsdWUgPT09ICdub25lJykge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9XG59O1xuIiwiaW1wb3J0IHtJUHJvcGVydHlMaXN0RGVzY3JpcHRvciwgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGV9IGZyb20gJy4uL0lQcm9wZXJ0eURlc2NyaXB0b3InO1xuaW1wb3J0IHtDU1NWYWx1ZSwgaXNOdW1iZXJUb2tlbiwgbm9uV2hpdGVTcGFjZX0gZnJvbSAnLi4vc3ludGF4L3BhcnNlcic7XG5pbXBvcnQge1Rva2VuVHlwZX0gZnJvbSAnLi4vc3ludGF4L3Rva2VuaXplcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ09VTlRFUl9JTkNSRU1FTlQge1xuICAgIGNvdW50ZXI6IHN0cmluZztcbiAgICBpbmNyZW1lbnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgQ291bnRlckluY3JlbWVudCA9IENPVU5URVJfSU5DUkVNRU5UW10gfCBudWxsO1xuXG5leHBvcnQgY29uc3QgY291bnRlckluY3JlbWVudDogSVByb3BlcnR5TGlzdERlc2NyaXB0b3I8Q291bnRlckluY3JlbWVudD4gPSB7XG4gICAgbmFtZTogJ2NvdW50ZXItaW5jcmVtZW50JyxcbiAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcbiAgICBwcmVmaXg6IHRydWUsXG4gICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcbiAgICBwYXJzZTogKHRva2VuczogQ1NTVmFsdWVbXSkgPT4ge1xuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdCA9IHRva2Vuc1swXTtcblxuICAgICAgICBpZiAoZmlyc3QudHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOICYmIGZpcnN0LnZhbHVlID09PSAnbm9uZScpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5jcmVtZW50cyA9IFtdO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHRva2Vucy5maWx0ZXIobm9uV2hpdGVTcGFjZSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWx0ZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY291bnRlciA9IGZpbHRlcmVkW2ldO1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IGZpbHRlcmVkW2kgKyAxXTtcbiAgICAgICAgICAgIGlmIChjb3VudGVyLnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluY3JlbWVudCA9IG5leHQgJiYgaXNOdW1iZXJUb2tlbihuZXh0KSA/IG5leHQubnVtYmVyIDogMTtcbiAgICAgICAgICAgICAgICBpbmNyZW1lbnRzLnB1c2goe2NvdW50ZXI6IGNvdW50ZXIudmFsdWUsIGluY3JlbWVudH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluY3JlbWVudHM7XG4gICAgfVxufTtcbiIsImltcG9ydCB7SVByb3BlcnR5TGlzdERlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmltcG9ydCB7Q1NTVmFsdWUsIGlzSWRlbnRUb2tlbiwgaXNOdW1iZXJUb2tlbiwgbm9uV2hpdGVTcGFjZX0gZnJvbSAnLi4vc3ludGF4L3BhcnNlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ09VTlRFUl9SRVNFVCB7XG4gICAgY291bnRlcjogc3RyaW5nO1xuICAgIHJlc2V0OiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIENvdW50ZXJSZXNldCA9IENPVU5URVJfUkVTRVRbXTtcblxuZXhwb3J0IGNvbnN0IGNvdW50ZXJSZXNldDogSVByb3BlcnR5TGlzdERlc2NyaXB0b3I8Q291bnRlclJlc2V0PiA9IHtcbiAgICBuYW1lOiAnY291bnRlci1yZXNldCcsXG4gICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXG4gICAgcHJlZml4OiB0cnVlLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXG4gICAgcGFyc2U6ICh0b2tlbnM6IENTU1ZhbHVlW10pID0+IHtcbiAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc2V0cyA9IFtdO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHRva2Vucy5maWx0ZXIobm9uV2hpdGVTcGFjZSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWx0ZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY291bnRlciA9IGZpbHRlcmVkW2ldO1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IGZpbHRlcmVkW2kgKyAxXTtcbiAgICAgICAgICAgIGlmIChpc0lkZW50VG9rZW4oY291bnRlcikgJiYgY291bnRlci52YWx1ZSAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzZXQgPSBuZXh0ICYmIGlzTnVtYmVyVG9rZW4obmV4dCkgPyBuZXh0Lm51bWJlciA6IDA7XG4gICAgICAgICAgICAgICAgcmVzZXRzLnB1c2goe2NvdW50ZXI6IGNvdW50ZXIudmFsdWUsIHJlc2V0fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzZXRzO1xuICAgIH1cbn07XG4iLCJpbXBvcnQge0lQcm9wZXJ0eUxpc3REZXNjcmlwdG9yLCBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZX0gZnJvbSAnLi4vSVByb3BlcnR5RGVzY3JpcHRvcic7XG5pbXBvcnQge0NTU1ZhbHVlLCBpc1N0cmluZ1Rva2VufSBmcm9tICcuLi9zeW50YXgvcGFyc2VyJztcbmltcG9ydCB7VG9rZW5UeXBlfSBmcm9tICcuLi9zeW50YXgvdG9rZW5pemVyJztcblxuZXhwb3J0IGludGVyZmFjZSBRVU9URSB7XG4gICAgb3Blbjogc3RyaW5nO1xuICAgIGNsb3NlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIFF1b3RlcyA9IFFVT1RFW10gfCBudWxsO1xuXG5leHBvcnQgY29uc3QgcXVvdGVzOiBJUHJvcGVydHlMaXN0RGVzY3JpcHRvcjxRdW90ZXM+ID0ge1xuICAgIG5hbWU6ICdxdW90ZXMnLFxuICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxuICAgIHByZWZpeDogdHJ1ZSxcbiAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxuICAgIHBhcnNlOiAodG9rZW5zOiBDU1NWYWx1ZVtdKSA9PiB7XG4gICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0ID0gdG9rZW5zWzBdO1xuXG4gICAgICAgIGlmIChmaXJzdC50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgZmlyc3QudmFsdWUgPT09ICdub25lJykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBxdW90ZXMgPSBbXTtcbiAgICAgICAgY29uc3QgZmlsdGVyZWQgPSB0b2tlbnMuZmlsdGVyKGlzU3RyaW5nVG9rZW4pO1xuXG4gICAgICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsdGVyZWQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wZW4gPSBmaWx0ZXJlZFtpXS52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IGNsb3NlID0gZmlsdGVyZWRbaSArIDFdLnZhbHVlO1xuICAgICAgICAgICAgcXVvdGVzLnB1c2goe29wZW4sIGNsb3NlfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcXVvdGVzO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRRdW90ZSA9IChxdW90ZXM6IFF1b3RlcywgZGVwdGg6IG51bWJlciwgb3BlbjogYm9vbGVhbik6IHN0cmluZyA9PiB7XG4gICAgaWYgKCFxdW90ZXMpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIGNvbnN0IHF1b3RlID0gcXVvdGVzW01hdGgubWluKGRlcHRoLCBxdW90ZXMubGVuZ3RoIC0gMSldO1xuICAgIGlmICghcXVvdGUpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHJldHVybiBvcGVuID8gcXVvdGUub3BlbiA6IHF1b3RlLmNsb3NlO1xufTtcbiIsImltcG9ydCB7UHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUsIElQcm9wZXJ0eUxpc3REZXNjcmlwdG9yfSBmcm9tICcuLi9JUHJvcGVydHlEZXNjcmlwdG9yJztcbmltcG9ydCB7Q1NTVmFsdWUsIGlzSWRlbnRXaXRoVmFsdWUsIHBhcnNlRnVuY3Rpb25BcmdzfSBmcm9tICcuLi9zeW50YXgvcGFyc2VyJztcbmltcG9ydCB7WkVST19MRU5HVEh9IGZyb20gJy4uL3R5cGVzL2xlbmd0aC1wZXJjZW50YWdlJztcbmltcG9ydCB7Y29sb3IsIENvbG9yfSBmcm9tICcuLi90eXBlcy9jb2xvcic7XG5pbXBvcnQge2lzTGVuZ3RoLCBMZW5ndGh9IGZyb20gJy4uL3R5cGVzL2xlbmd0aCc7XG5cbmV4cG9ydCB0eXBlIEJveFNoYWRvdyA9IEJveFNoYWRvd0l0ZW1bXTtcbmludGVyZmFjZSBCb3hTaGFkb3dJdGVtIHtcbiAgICBpbnNldDogYm9vbGVhbjtcbiAgICBjb2xvcjogQ29sb3I7XG4gICAgb2Zmc2V0WDogTGVuZ3RoO1xuICAgIG9mZnNldFk6IExlbmd0aDtcbiAgICBibHVyOiBMZW5ndGg7XG4gICAgc3ByZWFkOiBMZW5ndGg7XG59XG5cbmV4cG9ydCBjb25zdCBib3hTaGFkb3c6IElQcm9wZXJ0eUxpc3REZXNjcmlwdG9yPEJveFNoYWRvdz4gPSB7XG4gICAgbmFtZTogJ2JveC1zaGFkb3cnLFxuICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxuICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXG4gICAgcHJlZml4OiBmYWxzZSxcbiAgICBwYXJzZTogKHRva2VuczogQ1NTVmFsdWVbXSk6IEJveFNoYWRvdyA9PiB7XG4gICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSAxICYmIGlzSWRlbnRXaXRoVmFsdWUodG9rZW5zWzBdLCAnbm9uZScpKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKS5tYXAoKHZhbHVlczogQ1NTVmFsdWVbXSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2hhZG93OiBCb3hTaGFkb3dJdGVtID0ge1xuICAgICAgICAgICAgICAgIGNvbG9yOiAweDAwMDAwMGZmLFxuICAgICAgICAgICAgICAgIG9mZnNldFg6IFpFUk9fTEVOR1RILFxuICAgICAgICAgICAgICAgIG9mZnNldFk6IFpFUk9fTEVOR1RILFxuICAgICAgICAgICAgICAgIGJsdXI6IFpFUk9fTEVOR1RILFxuICAgICAgICAgICAgICAgIHNwcmVhZDogWkVST19MRU5HVEgsXG4gICAgICAgICAgICAgICAgaW5zZXQ6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IGMgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoaXNJZGVudFdpdGhWYWx1ZSh0b2tlbiwgJ2luc2V0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93Lmluc2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzTGVuZ3RoKHRva2VuKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Lm9mZnNldFggPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3cub2Zmc2V0WSA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdy5ibHVyID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3cuc3ByZWFkID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYysrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNoYWRvdy5jb2xvciA9IGNvbG9yLnBhcnNlKHRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2hhZG93O1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHtDU1NQcm9wZXJ0eURlc2NyaXB0b3IsIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlfSBmcm9tICcuL0lQcm9wZXJ0eURlc2NyaXB0b3InO1xuaW1wb3J0IHtiYWNrZ3JvdW5kQ2xpcH0gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9iYWNrZ3JvdW5kLWNsaXAnO1xuaW1wb3J0IHtiYWNrZ3JvdW5kQ29sb3J9IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvYmFja2dyb3VuZC1jb2xvcic7XG5pbXBvcnQge2JhY2tncm91bmRJbWFnZX0gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9iYWNrZ3JvdW5kLWltYWdlJztcbmltcG9ydCB7YmFja2dyb3VuZE9yaWdpbn0gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9iYWNrZ3JvdW5kLW9yaWdpbic7XG5pbXBvcnQge2JhY2tncm91bmRQb3NpdGlvbn0gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9iYWNrZ3JvdW5kLXBvc2l0aW9uJztcbmltcG9ydCB7YmFja2dyb3VuZFJlcGVhdH0gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9iYWNrZ3JvdW5kLXJlcGVhdCc7XG5pbXBvcnQge2JhY2tncm91bmRTaXplfSBmcm9tICcuL3Byb3BlcnR5LWRlc2NyaXB0b3JzL2JhY2tncm91bmQtc2l6ZSc7XG5pbXBvcnQge1xuICAgIGJvcmRlckJvdHRvbUNvbG9yLFxuICAgIGJvcmRlckxlZnRDb2xvcixcbiAgICBib3JkZXJSaWdodENvbG9yLFxuICAgIGJvcmRlclRvcENvbG9yXG59IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvYm9yZGVyLWNvbG9yJztcbmltcG9ydCB7XG4gICAgYm9yZGVyQm90dG9tTGVmdFJhZGl1cyxcbiAgICBib3JkZXJCb3R0b21SaWdodFJhZGl1cyxcbiAgICBib3JkZXJUb3BMZWZ0UmFkaXVzLFxuICAgIGJvcmRlclRvcFJpZ2h0UmFkaXVzXG59IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvYm9yZGVyLXJhZGl1cyc7XG5pbXBvcnQge1xuICAgIGJvcmRlckJvdHRvbVN0eWxlLFxuICAgIGJvcmRlckxlZnRTdHlsZSxcbiAgICBib3JkZXJSaWdodFN0eWxlLFxuICAgIGJvcmRlclRvcFN0eWxlXG59IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvYm9yZGVyLXN0eWxlJztcbmltcG9ydCB7XG4gICAgYm9yZGVyQm90dG9tV2lkdGgsXG4gICAgYm9yZGVyTGVmdFdpZHRoLFxuICAgIGJvcmRlclJpZ2h0V2lkdGgsXG4gICAgYm9yZGVyVG9wV2lkdGhcbn0gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9ib3JkZXItd2lkdGgnO1xuaW1wb3J0IHtjb2xvcn0gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9jb2xvcic7XG5pbXBvcnQge2Rpc3BsYXksIERJU1BMQVl9IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvZGlzcGxheSc7XG5pbXBvcnQge2Zsb2F0LCBGTE9BVH0gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9mbG9hdCc7XG5pbXBvcnQge2xldHRlclNwYWNpbmd9IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvbGV0dGVyLXNwYWNpbmcnO1xuaW1wb3J0IHtsaW5lQnJlYWt9IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvbGluZS1icmVhayc7XG5pbXBvcnQge2xpbmVIZWlnaHR9IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvbGluZS1oZWlnaHQnO1xuaW1wb3J0IHtsaXN0U3R5bGVJbWFnZX0gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9saXN0LXN0eWxlLWltYWdlJztcbmltcG9ydCB7bGlzdFN0eWxlUG9zaXRpb259IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvbGlzdC1zdHlsZS1wb3NpdGlvbic7XG5pbXBvcnQge2xpc3RTdHlsZVR5cGV9IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvbGlzdC1zdHlsZS10eXBlJztcbmltcG9ydCB7bWFyZ2luQm90dG9tLCBtYXJnaW5MZWZ0LCBtYXJnaW5SaWdodCwgbWFyZ2luVG9wfSBmcm9tICcuL3Byb3BlcnR5LWRlc2NyaXB0b3JzL21hcmdpbic7XG5pbXBvcnQge292ZXJmbG93LCBPVkVSRkxPV30gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9vdmVyZmxvdyc7XG5pbXBvcnQge292ZXJmbG93V3JhcH0gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9vdmVyZmxvdy13cmFwJztcbmltcG9ydCB7cGFkZGluZ0JvdHRvbSwgcGFkZGluZ0xlZnQsIHBhZGRpbmdSaWdodCwgcGFkZGluZ1RvcH0gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9wYWRkaW5nJztcbmltcG9ydCB7dGV4dEFsaWdufSBmcm9tICcuL3Byb3BlcnR5LWRlc2NyaXB0b3JzL3RleHQtYWxpZ24nO1xuaW1wb3J0IHtwb3NpdGlvbiwgUE9TSVRJT059IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvcG9zaXRpb24nO1xuaW1wb3J0IHt0ZXh0U2hhZG93fSBmcm9tICcuL3Byb3BlcnR5LWRlc2NyaXB0b3JzL3RleHQtc2hhZG93JztcbmltcG9ydCB7dGV4dFRyYW5zZm9ybX0gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy90ZXh0LXRyYW5zZm9ybSc7XG5pbXBvcnQge3RyYW5zZm9ybX0gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy90cmFuc2Zvcm0nO1xuaW1wb3J0IHt0cmFuc2Zvcm1PcmlnaW59IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvdHJhbnNmb3JtLW9yaWdpbic7XG5pbXBvcnQge3Zpc2liaWxpdHksIFZJU0lCSUxJVFl9IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvdmlzaWJpbGl0eSc7XG5pbXBvcnQge3dvcmRCcmVha30gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy93b3JkLWJyZWFrJztcbmltcG9ydCB7ekluZGV4fSBmcm9tICcuL3Byb3BlcnR5LWRlc2NyaXB0b3JzL3otaW5kZXgnO1xuaW1wb3J0IHtDU1NWYWx1ZSwgaXNJZGVudFRva2VuLCBQYXJzZXJ9IGZyb20gJy4vc3ludGF4L3BhcnNlcic7XG5pbXBvcnQge1Rva2VuaXplcn0gZnJvbSAnLi9zeW50YXgvdG9rZW5pemVyJztcbmltcG9ydCB7Q29sb3IsIGNvbG9yIGFzIGNvbG9yVHlwZSwgaXNUcmFuc3BhcmVudH0gZnJvbSAnLi90eXBlcy9jb2xvcic7XG5pbXBvcnQge2FuZ2xlfSBmcm9tICcuL3R5cGVzL2FuZ2xlJztcbmltcG9ydCB7aW1hZ2V9IGZyb20gJy4vdHlwZXMvaW1hZ2UnO1xuaW1wb3J0IHtvcGFjaXR5fSBmcm9tICcuL3Byb3BlcnR5LWRlc2NyaXB0b3JzL29wYWNpdHknO1xuaW1wb3J0IHt0ZXh0RGVjb3JhdGlvbkNvbG9yfSBmcm9tICcuL3Byb3BlcnR5LWRlc2NyaXB0b3JzL3RleHQtZGVjb3JhdGlvbi1jb2xvcic7XG5pbXBvcnQge3RleHREZWNvcmF0aW9uTGluZX0gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy90ZXh0LWRlY29yYXRpb24tbGluZSc7XG5pbXBvcnQge2lzTGVuZ3RoUGVyY2VudGFnZSwgTGVuZ3RoUGVyY2VudGFnZSwgWkVST19MRU5HVEh9IGZyb20gJy4vdHlwZXMvbGVuZ3RoLXBlcmNlbnRhZ2UnO1xuaW1wb3J0IHtmb250RmFtaWx5fSBmcm9tICcuL3Byb3BlcnR5LWRlc2NyaXB0b3JzL2ZvbnQtZmFtaWx5JztcbmltcG9ydCB7Zm9udFNpemV9IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvZm9udC1zaXplJztcbmltcG9ydCB7aXNMZW5ndGh9IGZyb20gJy4vdHlwZXMvbGVuZ3RoJztcbmltcG9ydCB7Zm9udFdlaWdodH0gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9mb250LXdlaWdodCc7XG5pbXBvcnQge2ZvbnRWYXJpYW50fSBmcm9tICcuL3Byb3BlcnR5LWRlc2NyaXB0b3JzL2ZvbnQtdmFyaWFudCc7XG5pbXBvcnQge2ZvbnRTdHlsZX0gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9mb250LXN0eWxlJztcbmltcG9ydCB7Y29udGFpbnN9IGZyb20gJy4uL2NvcmUvYml0d2lzZSc7XG5pbXBvcnQge2NvbnRlbnR9IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvY29udGVudCc7XG5pbXBvcnQge2NvdW50ZXJJbmNyZW1lbnR9IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvY291bnRlci1pbmNyZW1lbnQnO1xuaW1wb3J0IHtjb3VudGVyUmVzZXR9IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvY291bnRlci1yZXNldCc7XG5pbXBvcnQge3F1b3Rlc30gZnJvbSAnLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9xdW90ZXMnO1xuaW1wb3J0IHtib3hTaGFkb3d9IGZyb20gJy4vcHJvcGVydHktZGVzY3JpcHRvcnMvYm94LXNoYWRvdyc7XG5cbmV4cG9ydCBjbGFzcyBDU1NQYXJzZWREZWNsYXJhdGlvbiB7XG4gICAgYmFja2dyb3VuZENsaXA6IFJldHVyblR5cGU8dHlwZW9mIGJhY2tncm91bmRDbGlwLnBhcnNlPjtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IENvbG9yO1xuICAgIGJhY2tncm91bmRJbWFnZTogUmV0dXJuVHlwZTx0eXBlb2YgYmFja2dyb3VuZEltYWdlLnBhcnNlPjtcbiAgICBiYWNrZ3JvdW5kT3JpZ2luOiBSZXR1cm5UeXBlPHR5cGVvZiBiYWNrZ3JvdW5kT3JpZ2luLnBhcnNlPjtcbiAgICBiYWNrZ3JvdW5kUG9zaXRpb246IFJldHVyblR5cGU8dHlwZW9mIGJhY2tncm91bmRQb3NpdGlvbi5wYXJzZT47XG4gICAgYmFja2dyb3VuZFJlcGVhdDogUmV0dXJuVHlwZTx0eXBlb2YgYmFja2dyb3VuZFJlcGVhdC5wYXJzZT47XG4gICAgYmFja2dyb3VuZFNpemU6IFJldHVyblR5cGU8dHlwZW9mIGJhY2tncm91bmRTaXplLnBhcnNlPjtcbiAgICBib3JkZXJUb3BDb2xvcjogQ29sb3I7XG4gICAgYm9yZGVyUmlnaHRDb2xvcjogQ29sb3I7XG4gICAgYm9yZGVyQm90dG9tQ29sb3I6IENvbG9yO1xuICAgIGJvcmRlckxlZnRDb2xvcjogQ29sb3I7XG4gICAgYm9yZGVyVG9wTGVmdFJhZGl1czogUmV0dXJuVHlwZTx0eXBlb2YgYm9yZGVyVG9wTGVmdFJhZGl1cy5wYXJzZT47XG4gICAgYm9yZGVyVG9wUmlnaHRSYWRpdXM6IFJldHVyblR5cGU8dHlwZW9mIGJvcmRlclRvcFJpZ2h0UmFkaXVzLnBhcnNlPjtcbiAgICBib3JkZXJCb3R0b21SaWdodFJhZGl1czogUmV0dXJuVHlwZTx0eXBlb2YgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMucGFyc2U+O1xuICAgIGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6IFJldHVyblR5cGU8dHlwZW9mIGJvcmRlckJvdHRvbUxlZnRSYWRpdXMucGFyc2U+O1xuICAgIGJvcmRlclRvcFN0eWxlOiBSZXR1cm5UeXBlPHR5cGVvZiBib3JkZXJUb3BTdHlsZS5wYXJzZT47XG4gICAgYm9yZGVyUmlnaHRTdHlsZTogUmV0dXJuVHlwZTx0eXBlb2YgYm9yZGVyUmlnaHRTdHlsZS5wYXJzZT47XG4gICAgYm9yZGVyQm90dG9tU3R5bGU6IFJldHVyblR5cGU8dHlwZW9mIGJvcmRlckJvdHRvbVN0eWxlLnBhcnNlPjtcbiAgICBib3JkZXJMZWZ0U3R5bGU6IFJldHVyblR5cGU8dHlwZW9mIGJvcmRlckxlZnRTdHlsZS5wYXJzZT47XG4gICAgYm9yZGVyVG9wV2lkdGg6IFJldHVyblR5cGU8dHlwZW9mIGJvcmRlclRvcFdpZHRoLnBhcnNlPjtcbiAgICBib3JkZXJSaWdodFdpZHRoOiBSZXR1cm5UeXBlPHR5cGVvZiBib3JkZXJSaWdodFdpZHRoLnBhcnNlPjtcbiAgICBib3JkZXJCb3R0b21XaWR0aDogUmV0dXJuVHlwZTx0eXBlb2YgYm9yZGVyQm90dG9tV2lkdGgucGFyc2U+O1xuICAgIGJvcmRlckxlZnRXaWR0aDogUmV0dXJuVHlwZTx0eXBlb2YgYm9yZGVyTGVmdFdpZHRoLnBhcnNlPjtcbiAgICBib3hTaGFkb3c6IFJldHVyblR5cGU8dHlwZW9mIGJveFNoYWRvdy5wYXJzZT47XG4gICAgY29sb3I6IENvbG9yO1xuICAgIGRpc3BsYXk6IFJldHVyblR5cGU8dHlwZW9mIGRpc3BsYXkucGFyc2U+O1xuICAgIGZsb2F0OiBSZXR1cm5UeXBlPHR5cGVvZiBmbG9hdC5wYXJzZT47XG4gICAgZm9udEZhbWlseTogUmV0dXJuVHlwZTx0eXBlb2YgZm9udEZhbWlseS5wYXJzZT47XG4gICAgZm9udFNpemU6IExlbmd0aFBlcmNlbnRhZ2U7XG4gICAgZm9udFN0eWxlOiBSZXR1cm5UeXBlPHR5cGVvZiBmb250U3R5bGUucGFyc2U+O1xuICAgIGZvbnRWYXJpYW50OiBSZXR1cm5UeXBlPHR5cGVvZiBmb250VmFyaWFudC5wYXJzZT47XG4gICAgZm9udFdlaWdodDogUmV0dXJuVHlwZTx0eXBlb2YgZm9udFdlaWdodC5wYXJzZT47XG4gICAgbGV0dGVyU3BhY2luZzogUmV0dXJuVHlwZTx0eXBlb2YgbGV0dGVyU3BhY2luZy5wYXJzZT47XG4gICAgbGluZUJyZWFrOiBSZXR1cm5UeXBlPHR5cGVvZiBsaW5lQnJlYWsucGFyc2U+O1xuICAgIGxpbmVIZWlnaHQ6IENTU1ZhbHVlO1xuICAgIGxpc3RTdHlsZUltYWdlOiBSZXR1cm5UeXBlPHR5cGVvZiBsaXN0U3R5bGVJbWFnZS5wYXJzZT47XG4gICAgbGlzdFN0eWxlUG9zaXRpb246IFJldHVyblR5cGU8dHlwZW9mIGxpc3RTdHlsZVBvc2l0aW9uLnBhcnNlPjtcbiAgICBsaXN0U3R5bGVUeXBlOiBSZXR1cm5UeXBlPHR5cGVvZiBsaXN0U3R5bGVUeXBlLnBhcnNlPjtcbiAgICBtYXJnaW5Ub3A6IENTU1ZhbHVlO1xuICAgIG1hcmdpblJpZ2h0OiBDU1NWYWx1ZTtcbiAgICBtYXJnaW5Cb3R0b206IENTU1ZhbHVlO1xuICAgIG1hcmdpbkxlZnQ6IENTU1ZhbHVlO1xuICAgIG9wYWNpdHk6IFJldHVyblR5cGU8dHlwZW9mIG9wYWNpdHkucGFyc2U+O1xuICAgIG92ZXJmbG93WDogT1ZFUkZMT1c7XG4gICAgb3ZlcmZsb3dZOiBPVkVSRkxPVztcbiAgICBvdmVyZmxvd1dyYXA6IFJldHVyblR5cGU8dHlwZW9mIG92ZXJmbG93V3JhcC5wYXJzZT47XG4gICAgcGFkZGluZ1RvcDogTGVuZ3RoUGVyY2VudGFnZTtcbiAgICBwYWRkaW5nUmlnaHQ6IExlbmd0aFBlcmNlbnRhZ2U7XG4gICAgcGFkZGluZ0JvdHRvbTogTGVuZ3RoUGVyY2VudGFnZTtcbiAgICBwYWRkaW5nTGVmdDogTGVuZ3RoUGVyY2VudGFnZTtcbiAgICBwb3NpdGlvbjogUmV0dXJuVHlwZTx0eXBlb2YgcG9zaXRpb24ucGFyc2U+O1xuICAgIHRleHRBbGlnbjogUmV0dXJuVHlwZTx0eXBlb2YgdGV4dEFsaWduLnBhcnNlPjtcbiAgICB0ZXh0RGVjb3JhdGlvbkNvbG9yOiBDb2xvcjtcbiAgICB0ZXh0RGVjb3JhdGlvbkxpbmU6IFJldHVyblR5cGU8dHlwZW9mIHRleHREZWNvcmF0aW9uTGluZS5wYXJzZT47XG4gICAgdGV4dFNoYWRvdzogUmV0dXJuVHlwZTx0eXBlb2YgdGV4dFNoYWRvdy5wYXJzZT47XG4gICAgdGV4dFRyYW5zZm9ybTogUmV0dXJuVHlwZTx0eXBlb2YgdGV4dFRyYW5zZm9ybS5wYXJzZT47XG4gICAgdHJhbnNmb3JtOiBSZXR1cm5UeXBlPHR5cGVvZiB0cmFuc2Zvcm0ucGFyc2U+O1xuICAgIHRyYW5zZm9ybU9yaWdpbjogUmV0dXJuVHlwZTx0eXBlb2YgdHJhbnNmb3JtT3JpZ2luLnBhcnNlPjtcbiAgICB2aXNpYmlsaXR5OiBSZXR1cm5UeXBlPHR5cGVvZiB2aXNpYmlsaXR5LnBhcnNlPjtcbiAgICB3b3JkQnJlYWs6IFJldHVyblR5cGU8dHlwZW9mIHdvcmRCcmVhay5wYXJzZT47XG4gICAgekluZGV4OiBSZXR1cm5UeXBlPHR5cGVvZiB6SW5kZXgucGFyc2U+O1xuXG4gICAgY29uc3RydWN0b3IoZGVjbGFyYXRpb246IENTU1N0eWxlRGVjbGFyYXRpb24pIHtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ2xpcCA9IHBhcnNlKGJhY2tncm91bmRDbGlwLCBkZWNsYXJhdGlvbi5iYWNrZ3JvdW5kQ2xpcCk7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gcGFyc2UoYmFja2dyb3VuZENvbG9yLCBkZWNsYXJhdGlvbi5iYWNrZ3JvdW5kQ29sb3IpO1xuICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZSA9IHBhcnNlKGJhY2tncm91bmRJbWFnZSwgZGVjbGFyYXRpb24uYmFja2dyb3VuZEltYWdlKTtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kT3JpZ2luID0gcGFyc2UoYmFja2dyb3VuZE9yaWdpbiwgZGVjbGFyYXRpb24uYmFja2dyb3VuZE9yaWdpbik7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZFBvc2l0aW9uID0gcGFyc2UoYmFja2dyb3VuZFBvc2l0aW9uLCBkZWNsYXJhdGlvbi5iYWNrZ3JvdW5kUG9zaXRpb24pO1xuICAgICAgICB0aGlzLmJhY2tncm91bmRSZXBlYXQgPSBwYXJzZShiYWNrZ3JvdW5kUmVwZWF0LCBkZWNsYXJhdGlvbi5iYWNrZ3JvdW5kUmVwZWF0KTtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kU2l6ZSA9IHBhcnNlKGJhY2tncm91bmRTaXplLCBkZWNsYXJhdGlvbi5iYWNrZ3JvdW5kU2l6ZSk7XG4gICAgICAgIHRoaXMuYm9yZGVyVG9wQ29sb3IgPSBwYXJzZShib3JkZXJUb3BDb2xvciwgZGVjbGFyYXRpb24uYm9yZGVyVG9wQ29sb3IpO1xuICAgICAgICB0aGlzLmJvcmRlclJpZ2h0Q29sb3IgPSBwYXJzZShib3JkZXJSaWdodENvbG9yLCBkZWNsYXJhdGlvbi5ib3JkZXJSaWdodENvbG9yKTtcbiAgICAgICAgdGhpcy5ib3JkZXJCb3R0b21Db2xvciA9IHBhcnNlKGJvcmRlckJvdHRvbUNvbG9yLCBkZWNsYXJhdGlvbi5ib3JkZXJCb3R0b21Db2xvcik7XG4gICAgICAgIHRoaXMuYm9yZGVyTGVmdENvbG9yID0gcGFyc2UoYm9yZGVyTGVmdENvbG9yLCBkZWNsYXJhdGlvbi5ib3JkZXJMZWZ0Q29sb3IpO1xuICAgICAgICB0aGlzLmJvcmRlclRvcExlZnRSYWRpdXMgPSBwYXJzZShib3JkZXJUb3BMZWZ0UmFkaXVzLCBkZWNsYXJhdGlvbi5ib3JkZXJUb3BMZWZ0UmFkaXVzKTtcbiAgICAgICAgdGhpcy5ib3JkZXJUb3BSaWdodFJhZGl1cyA9IHBhcnNlKGJvcmRlclRvcFJpZ2h0UmFkaXVzLCBkZWNsYXJhdGlvbi5ib3JkZXJUb3BSaWdodFJhZGl1cyk7XG4gICAgICAgIHRoaXMuYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMgPSBwYXJzZShib3JkZXJCb3R0b21SaWdodFJhZGl1cywgZGVjbGFyYXRpb24uYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMpO1xuICAgICAgICB0aGlzLmJvcmRlckJvdHRvbUxlZnRSYWRpdXMgPSBwYXJzZShib3JkZXJCb3R0b21MZWZ0UmFkaXVzLCBkZWNsYXJhdGlvbi5ib3JkZXJCb3R0b21MZWZ0UmFkaXVzKTtcbiAgICAgICAgdGhpcy5ib3JkZXJUb3BTdHlsZSA9IHBhcnNlKGJvcmRlclRvcFN0eWxlLCBkZWNsYXJhdGlvbi5ib3JkZXJUb3BTdHlsZSk7XG4gICAgICAgIHRoaXMuYm9yZGVyUmlnaHRTdHlsZSA9IHBhcnNlKGJvcmRlclJpZ2h0U3R5bGUsIGRlY2xhcmF0aW9uLmJvcmRlclJpZ2h0U3R5bGUpO1xuICAgICAgICB0aGlzLmJvcmRlckJvdHRvbVN0eWxlID0gcGFyc2UoYm9yZGVyQm90dG9tU3R5bGUsIGRlY2xhcmF0aW9uLmJvcmRlckJvdHRvbVN0eWxlKTtcbiAgICAgICAgdGhpcy5ib3JkZXJMZWZ0U3R5bGUgPSBwYXJzZShib3JkZXJMZWZ0U3R5bGUsIGRlY2xhcmF0aW9uLmJvcmRlckxlZnRTdHlsZSk7XG4gICAgICAgIHRoaXMuYm9yZGVyVG9wV2lkdGggPSBwYXJzZShib3JkZXJUb3BXaWR0aCwgZGVjbGFyYXRpb24uYm9yZGVyVG9wV2lkdGgpO1xuICAgICAgICB0aGlzLmJvcmRlclJpZ2h0V2lkdGggPSBwYXJzZShib3JkZXJSaWdodFdpZHRoLCBkZWNsYXJhdGlvbi5ib3JkZXJSaWdodFdpZHRoKTtcbiAgICAgICAgdGhpcy5ib3JkZXJCb3R0b21XaWR0aCA9IHBhcnNlKGJvcmRlckJvdHRvbVdpZHRoLCBkZWNsYXJhdGlvbi5ib3JkZXJCb3R0b21XaWR0aCk7XG4gICAgICAgIHRoaXMuYm9yZGVyTGVmdFdpZHRoID0gcGFyc2UoYm9yZGVyTGVmdFdpZHRoLCBkZWNsYXJhdGlvbi5ib3JkZXJMZWZ0V2lkdGgpO1xuICAgICAgICB0aGlzLmJveFNoYWRvdyA9IHBhcnNlKGJveFNoYWRvdywgZGVjbGFyYXRpb24uYm94U2hhZG93KTtcbiAgICAgICAgdGhpcy5jb2xvciA9IHBhcnNlKGNvbG9yLCBkZWNsYXJhdGlvbi5jb2xvcik7XG4gICAgICAgIHRoaXMuZGlzcGxheSA9IHBhcnNlKGRpc3BsYXksIGRlY2xhcmF0aW9uLmRpc3BsYXkpO1xuICAgICAgICB0aGlzLmZsb2F0ID0gcGFyc2UoZmxvYXQsIGRlY2xhcmF0aW9uLmNzc0Zsb2F0KTtcbiAgICAgICAgdGhpcy5mb250RmFtaWx5ID0gcGFyc2UoZm9udEZhbWlseSwgZGVjbGFyYXRpb24uZm9udEZhbWlseSk7XG4gICAgICAgIHRoaXMuZm9udFNpemUgPSBwYXJzZShmb250U2l6ZSwgZGVjbGFyYXRpb24uZm9udFNpemUpO1xuICAgICAgICB0aGlzLmZvbnRTdHlsZSA9IHBhcnNlKGZvbnRTdHlsZSwgZGVjbGFyYXRpb24uZm9udFN0eWxlKTtcbiAgICAgICAgdGhpcy5mb250VmFyaWFudCA9IHBhcnNlKGZvbnRWYXJpYW50LCBkZWNsYXJhdGlvbi5mb250VmFyaWFudCk7XG4gICAgICAgIHRoaXMuZm9udFdlaWdodCA9IHBhcnNlKGZvbnRXZWlnaHQsIGRlY2xhcmF0aW9uLmZvbnRXZWlnaHQpO1xuICAgICAgICB0aGlzLmxldHRlclNwYWNpbmcgPSBwYXJzZShsZXR0ZXJTcGFjaW5nLCBkZWNsYXJhdGlvbi5sZXR0ZXJTcGFjaW5nKTtcbiAgICAgICAgdGhpcy5saW5lQnJlYWsgPSBwYXJzZShsaW5lQnJlYWssIGRlY2xhcmF0aW9uLmxpbmVCcmVhayk7XG4gICAgICAgIHRoaXMubGluZUhlaWdodCA9IHBhcnNlKGxpbmVIZWlnaHQsIGRlY2xhcmF0aW9uLmxpbmVIZWlnaHQpO1xuICAgICAgICB0aGlzLmxpc3RTdHlsZUltYWdlID0gcGFyc2UobGlzdFN0eWxlSW1hZ2UsIGRlY2xhcmF0aW9uLmxpc3RTdHlsZUltYWdlKTtcbiAgICAgICAgdGhpcy5saXN0U3R5bGVQb3NpdGlvbiA9IHBhcnNlKGxpc3RTdHlsZVBvc2l0aW9uLCBkZWNsYXJhdGlvbi5saXN0U3R5bGVQb3NpdGlvbik7XG4gICAgICAgIHRoaXMubGlzdFN0eWxlVHlwZSA9IHBhcnNlKGxpc3RTdHlsZVR5cGUsIGRlY2xhcmF0aW9uLmxpc3RTdHlsZVR5cGUpO1xuICAgICAgICB0aGlzLm1hcmdpblRvcCA9IHBhcnNlKG1hcmdpblRvcCwgZGVjbGFyYXRpb24ubWFyZ2luVG9wKTtcbiAgICAgICAgdGhpcy5tYXJnaW5SaWdodCA9IHBhcnNlKG1hcmdpblJpZ2h0LCBkZWNsYXJhdGlvbi5tYXJnaW5SaWdodCk7XG4gICAgICAgIHRoaXMubWFyZ2luQm90dG9tID0gcGFyc2UobWFyZ2luQm90dG9tLCBkZWNsYXJhdGlvbi5tYXJnaW5Cb3R0b20pO1xuICAgICAgICB0aGlzLm1hcmdpbkxlZnQgPSBwYXJzZShtYXJnaW5MZWZ0LCBkZWNsYXJhdGlvbi5tYXJnaW5MZWZ0KTtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gcGFyc2Uob3BhY2l0eSwgZGVjbGFyYXRpb24ub3BhY2l0eSk7XG4gICAgICAgIGNvbnN0IG92ZXJmbG93VHVwbGUgPSBwYXJzZShvdmVyZmxvdywgZGVjbGFyYXRpb24ub3ZlcmZsb3cpO1xuICAgICAgICB0aGlzLm92ZXJmbG93WCA9IG92ZXJmbG93VHVwbGVbMF07XG4gICAgICAgIHRoaXMub3ZlcmZsb3dZID0gb3ZlcmZsb3dUdXBsZVtvdmVyZmxvd1R1cGxlLmxlbmd0aCA+IDEgPyAxIDogMF07XG4gICAgICAgIHRoaXMub3ZlcmZsb3dXcmFwID0gcGFyc2Uob3ZlcmZsb3dXcmFwLCBkZWNsYXJhdGlvbi5vdmVyZmxvd1dyYXApO1xuICAgICAgICB0aGlzLnBhZGRpbmdUb3AgPSBwYXJzZShwYWRkaW5nVG9wLCBkZWNsYXJhdGlvbi5wYWRkaW5nVG9wKTtcbiAgICAgICAgdGhpcy5wYWRkaW5nUmlnaHQgPSBwYXJzZShwYWRkaW5nUmlnaHQsIGRlY2xhcmF0aW9uLnBhZGRpbmdSaWdodCk7XG4gICAgICAgIHRoaXMucGFkZGluZ0JvdHRvbSA9IHBhcnNlKHBhZGRpbmdCb3R0b20sIGRlY2xhcmF0aW9uLnBhZGRpbmdCb3R0b20pO1xuICAgICAgICB0aGlzLnBhZGRpbmdMZWZ0ID0gcGFyc2UocGFkZGluZ0xlZnQsIGRlY2xhcmF0aW9uLnBhZGRpbmdMZWZ0KTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBhcnNlKHBvc2l0aW9uLCBkZWNsYXJhdGlvbi5wb3NpdGlvbik7XG4gICAgICAgIHRoaXMudGV4dEFsaWduID0gcGFyc2UodGV4dEFsaWduLCBkZWNsYXJhdGlvbi50ZXh0QWxpZ24pO1xuICAgICAgICB0aGlzLnRleHREZWNvcmF0aW9uQ29sb3IgPSBwYXJzZSh0ZXh0RGVjb3JhdGlvbkNvbG9yLCBkZWNsYXJhdGlvbi50ZXh0RGVjb3JhdGlvbkNvbG9yIHx8IGRlY2xhcmF0aW9uLmNvbG9yKTtcbiAgICAgICAgdGhpcy50ZXh0RGVjb3JhdGlvbkxpbmUgPSBwYXJzZSh0ZXh0RGVjb3JhdGlvbkxpbmUsIGRlY2xhcmF0aW9uLnRleHREZWNvcmF0aW9uTGluZSk7XG4gICAgICAgIHRoaXMudGV4dFNoYWRvdyA9IHBhcnNlKHRleHRTaGFkb3csIGRlY2xhcmF0aW9uLnRleHRTaGFkb3cpO1xuICAgICAgICB0aGlzLnRleHRUcmFuc2Zvcm0gPSBwYXJzZSh0ZXh0VHJhbnNmb3JtLCBkZWNsYXJhdGlvbi50ZXh0VHJhbnNmb3JtKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBwYXJzZSh0cmFuc2Zvcm0sIGRlY2xhcmF0aW9uLnRyYW5zZm9ybSk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtT3JpZ2luID0gcGFyc2UodHJhbnNmb3JtT3JpZ2luLCBkZWNsYXJhdGlvbi50cmFuc2Zvcm1PcmlnaW4pO1xuICAgICAgICB0aGlzLnZpc2liaWxpdHkgPSBwYXJzZSh2aXNpYmlsaXR5LCBkZWNsYXJhdGlvbi52aXNpYmlsaXR5KTtcbiAgICAgICAgdGhpcy53b3JkQnJlYWsgPSBwYXJzZSh3b3JkQnJlYWssIGRlY2xhcmF0aW9uLndvcmRCcmVhayk7XG4gICAgICAgIHRoaXMuekluZGV4ID0gcGFyc2UoekluZGV4LCBkZWNsYXJhdGlvbi56SW5kZXgpO1xuICAgIH1cblxuICAgIGlzVmlzaWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheSA+IDAgJiYgdGhpcy5vcGFjaXR5ID4gMCAmJiB0aGlzLnZpc2liaWxpdHkgPT09IFZJU0lCSUxJVFkuVklTSUJMRTtcbiAgICB9XG5cbiAgICBpc1RyYW5zcGFyZW50KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gaXNUcmFuc3BhcmVudCh0aGlzLmJhY2tncm91bmRDb2xvcik7XG4gICAgfVxuXG4gICAgaXNUcmFuc2Zvcm1lZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtICE9PSBudWxsO1xuICAgIH1cblxuICAgIGlzUG9zaXRpb25lZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24gIT09IFBPU0lUSU9OLlNUQVRJQztcbiAgICB9XG5cbiAgICBpc1Bvc2l0aW9uZWRXaXRoWkluZGV4KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1Bvc2l0aW9uZWQoKSAmJiAhdGhpcy56SW5kZXguYXV0bztcbiAgICB9XG5cbiAgICBpc0Zsb2F0aW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mbG9hdCAhPT0gRkxPQVQuTk9ORTtcbiAgICB9XG5cbiAgICBpc0lubGluZUxldmVsKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY29udGFpbnModGhpcy5kaXNwbGF5LCBESVNQTEFZLklOTElORSkgfHxcbiAgICAgICAgICAgIGNvbnRhaW5zKHRoaXMuZGlzcGxheSwgRElTUExBWS5JTkxJTkVfQkxPQ0spIHx8XG4gICAgICAgICAgICBjb250YWlucyh0aGlzLmRpc3BsYXksIERJU1BMQVkuSU5MSU5FX0ZMRVgpIHx8XG4gICAgICAgICAgICBjb250YWlucyh0aGlzLmRpc3BsYXksIERJU1BMQVkuSU5MSU5FX0dSSUQpIHx8XG4gICAgICAgICAgICBjb250YWlucyh0aGlzLmRpc3BsYXksIERJU1BMQVkuSU5MSU5FX0xJU1RfSVRFTSkgfHxcbiAgICAgICAgICAgIGNvbnRhaW5zKHRoaXMuZGlzcGxheSwgRElTUExBWS5JTkxJTkVfVEFCTEUpXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ1NTUGFyc2VkUHNldWRvRGVjbGFyYXRpb24ge1xuICAgIGNvbnRlbnQ6IFJldHVyblR5cGU8dHlwZW9mIGNvbnRlbnQucGFyc2U+O1xuICAgIHF1b3RlczogUmV0dXJuVHlwZTx0eXBlb2YgcXVvdGVzLnBhcnNlPjtcblxuICAgIGNvbnN0cnVjdG9yKGRlY2xhcmF0aW9uOiBDU1NTdHlsZURlY2xhcmF0aW9uKSB7XG4gICAgICAgIHRoaXMuY29udGVudCA9IHBhcnNlKGNvbnRlbnQsIGRlY2xhcmF0aW9uLmNvbnRlbnQpO1xuICAgICAgICB0aGlzLnF1b3RlcyA9IHBhcnNlKHF1b3RlcywgZGVjbGFyYXRpb24ucXVvdGVzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDU1NQYXJzZWRDb3VudGVyRGVjbGFyYXRpb24ge1xuICAgIGNvdW50ZXJJbmNyZW1lbnQ6IFJldHVyblR5cGU8dHlwZW9mIGNvdW50ZXJJbmNyZW1lbnQucGFyc2U+O1xuICAgIGNvdW50ZXJSZXNldDogUmV0dXJuVHlwZTx0eXBlb2YgY291bnRlclJlc2V0LnBhcnNlPjtcblxuICAgIGNvbnN0cnVjdG9yKGRlY2xhcmF0aW9uOiBDU1NTdHlsZURlY2xhcmF0aW9uKSB7XG4gICAgICAgIHRoaXMuY291bnRlckluY3JlbWVudCA9IHBhcnNlKGNvdW50ZXJJbmNyZW1lbnQsIGRlY2xhcmF0aW9uLmNvdW50ZXJJbmNyZW1lbnQpO1xuICAgICAgICB0aGlzLmNvdW50ZXJSZXNldCA9IHBhcnNlKGNvdW50ZXJSZXNldCwgZGVjbGFyYXRpb24uY291bnRlclJlc2V0KTtcbiAgICB9XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5jb25zdCBwYXJzZSA9IChkZXNjcmlwdG9yOiBDU1NQcm9wZXJ0eURlc2NyaXB0b3I8YW55Piwgc3R5bGU/OiBzdHJpbmcgfCBudWxsKSA9PiB7XG4gICAgY29uc3QgdG9rZW5pemVyID0gbmV3IFRva2VuaXplcigpO1xuICAgIGNvbnN0IHZhbHVlID0gc3R5bGUgIT09IG51bGwgJiYgdHlwZW9mIHN0eWxlICE9PSAndW5kZWZpbmVkJyA/IHN0eWxlLnRvU3RyaW5nKCkgOiBkZXNjcmlwdG9yLmluaXRpYWxWYWx1ZTtcbiAgICB0b2tlbml6ZXIud3JpdGUodmFsdWUpO1xuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBQYXJzZXIodG9rZW5pemVyLnJlYWQoKSk7XG4gICAgc3dpdGNoIChkZXNjcmlwdG9yLnR5cGUpIHtcbiAgICAgICAgY2FzZSBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRTpcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gcGFyc2VyLnBhcnNlQ29tcG9uZW50VmFsdWUoKTtcbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLnBhcnNlKGlzSWRlbnRUb2tlbih0b2tlbikgPyB0b2tlbi52YWx1ZSA6IGRlc2NyaXB0b3IuaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgY2FzZSBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRTpcbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLnBhcnNlKHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCkpO1xuICAgICAgICBjYXNlIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1Q6XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvci5wYXJzZShwYXJzZXIucGFyc2VDb21wb25lbnRWYWx1ZXMoKSk7XG4gICAgICAgIGNhc2UgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVE9LRU5fVkFMVUU6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VyLnBhcnNlQ29tcG9uZW50VmFsdWUoKTtcbiAgICAgICAgY2FzZSBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFOlxuICAgICAgICAgICAgc3dpdGNoIChkZXNjcmlwdG9yLmZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FuZ2xlJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ2xlLnBhcnNlKHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCkpO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbG9yJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yVHlwZS5wYXJzZShwYXJzZXIucGFyc2VDb21wb25lbnRWYWx1ZSgpKTtcbiAgICAgICAgICAgICAgICBjYXNlICdpbWFnZSc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZS5wYXJzZShwYXJzZXIucGFyc2VDb21wb25lbnRWYWx1ZSgpKTtcbiAgICAgICAgICAgICAgICBjYXNlICdsZW5ndGgnOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBwYXJzZXIucGFyc2VDb21wb25lbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNMZW5ndGgobGVuZ3RoKSA/IGxlbmd0aCA6IFpFUk9fTEVOR1RIO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2xlbmd0aC1wZXJjZW50YWdlJzpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZXIucGFyc2VDb21wb25lbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNMZW5ndGhQZXJjZW50YWdlKHZhbHVlKSA/IHZhbHVlIDogWkVST19MRU5HVEg7XG4gICAgICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKGBBdHRlbXB0aW5nIHRvIHBhcnNlIHVuc3VwcG9ydGVkIGNzcyBmb3JtYXQgdHlwZSAke2Rlc2NyaXB0b3IuZm9ybWF0fWApO1xufTtcbiIsImltcG9ydCB7Q1NTUGFyc2VkRGVjbGFyYXRpb259IGZyb20gJy4uL2Nzcy9pbmRleCc7XG5pbXBvcnQge1RleHRDb250YWluZXJ9IGZyb20gJy4vdGV4dC1jb250YWluZXInO1xuaW1wb3J0IHtCb3VuZHMsIHBhcnNlQm91bmRzfSBmcm9tICcuLi9jc3MvbGF5b3V0L2JvdW5kcyc7XG5pbXBvcnQge2lzSFRNTEVsZW1lbnROb2RlfSBmcm9tICcuL25vZGUtcGFyc2VyJztcblxuZXhwb3J0IGNvbnN0IGVudW0gRkxBR1Mge1xuICAgIENSRUFURVNfU1RBQ0tJTkdfQ09OVEVYVCA9IDEgPDwgMSxcbiAgICBDUkVBVEVTX1JFQUxfU1RBQ0tJTkdfQ09OVEVYVCA9IDEgPDwgMixcbiAgICBJU19MSVNUX09XTkVSID0gMSA8PCAzXG59XG5cbmV4cG9ydCBjbGFzcyBFbGVtZW50Q29udGFpbmVyIHtcbiAgICByZWFkb25seSBzdHlsZXM6IENTU1BhcnNlZERlY2xhcmF0aW9uO1xuICAgIHJlYWRvbmx5IHRleHROb2RlczogVGV4dENvbnRhaW5lcltdO1xuICAgIHJlYWRvbmx5IGVsZW1lbnRzOiBFbGVtZW50Q29udGFpbmVyW107XG4gICAgYm91bmRzOiBCb3VuZHM7XG4gICAgZmxhZ3M6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBuZXcgQ1NTUGFyc2VkRGVjbGFyYXRpb24od2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCkpO1xuICAgICAgICB0aGlzLnRleHROb2RlcyA9IFtdO1xuICAgICAgICB0aGlzLmVsZW1lbnRzID0gW107XG4gICAgICAgIGlmICh0aGlzLnN0eWxlcy50cmFuc2Zvcm0gIT09IG51bGwgJiYgaXNIVE1MRWxlbWVudE5vZGUoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCB0YWtlcyB0cmFuc2Zvcm1zIGludG8gYWNjb3VudFxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ib3VuZHMgPSBwYXJzZUJvdW5kcyhlbGVtZW50KTtcbiAgICAgICAgdGhpcy5mbGFncyA9IDA7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtPVkVSRkxPV19XUkFQfSBmcm9tICcuLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9vdmVyZmxvdy13cmFwJztcbmltcG9ydCB7Q1NTUGFyc2VkRGVjbGFyYXRpb259IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7ZnJvbUNvZGVQb2ludCwgTGluZUJyZWFrZXIsIHRvQ29kZVBvaW50c30gZnJvbSAnY3NzLWxpbmUtYnJlYWsnO1xuaW1wb3J0IHtCb3VuZHMsIHBhcnNlQm91bmRzfSBmcm9tICcuL2JvdW5kcyc7XG5pbXBvcnQge0ZFQVRVUkVTfSBmcm9tICcuLi8uLi9jb3JlL2ZlYXR1cmVzJztcblxuZXhwb3J0IGNsYXNzIFRleHRCb3VuZHMge1xuICAgIHJlYWRvbmx5IHRleHQ6IHN0cmluZztcbiAgICByZWFkb25seSBib3VuZHM6IEJvdW5kcztcblxuICAgIGNvbnN0cnVjdG9yKHRleHQ6IHN0cmluZywgYm91bmRzOiBCb3VuZHMpIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgcGFyc2VUZXh0Qm91bmRzID0gKHZhbHVlOiBzdHJpbmcsIHN0eWxlczogQ1NTUGFyc2VkRGVjbGFyYXRpb24sIG5vZGU6IFRleHQpOiBUZXh0Qm91bmRzW10gPT4ge1xuICAgIGNvbnN0IHRleHRMaXN0ID0gYnJlYWtUZXh0KHZhbHVlLCBzdHlsZXMpO1xuICAgIGNvbnN0IHRleHRCb3VuZHM6IFRleHRCb3VuZHNbXSA9IFtdO1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIHRleHRMaXN0LmZvckVhY2godGV4dCA9PiB7XG4gICAgICAgIGlmIChzdHlsZXMudGV4dERlY29yYXRpb25MaW5lLmxlbmd0aCB8fCB0ZXh0LnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAoRkVBVFVSRVMuU1VQUE9SVF9SQU5HRV9CT1VORFMpIHtcbiAgICAgICAgICAgICAgICB0ZXh0Qm91bmRzLnB1c2gobmV3IFRleHRCb3VuZHModGV4dCwgZ2V0UmFuZ2VCb3VuZHMobm9kZSwgb2Zmc2V0LCB0ZXh0Lmxlbmd0aCkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVwbGFjZW1lbnROb2RlID0gbm9kZS5zcGxpdFRleHQodGV4dC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRleHRCb3VuZHMucHVzaChuZXcgVGV4dEJvdW5kcyh0ZXh0LCBnZXRXcmFwcGVyQm91bmRzKG5vZGUpKSk7XG4gICAgICAgICAgICAgICAgbm9kZSA9IHJlcGxhY2VtZW50Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghRkVBVFVSRVMuU1VQUE9SVF9SQU5HRV9CT1VORFMpIHtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnNwbGl0VGV4dCh0ZXh0Lmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0ICs9IHRleHQubGVuZ3RoO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRleHRCb3VuZHM7XG59O1xuXG5jb25zdCBnZXRXcmFwcGVyQm91bmRzID0gKG5vZGU6IFRleHQpOiBCb3VuZHMgPT4ge1xuICAgIGNvbnN0IG93bmVyRG9jdW1lbnQgPSBub2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgaWYgKG93bmVyRG9jdW1lbnQpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaHRtbDJjYW52YXN3cmFwcGVyJyk7XG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQobm9kZS5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgICBjb25zdCBwYXJlbnROb2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgcGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQod3JhcHBlciwgbm9kZSk7XG4gICAgICAgICAgICBjb25zdCBib3VuZHMgPSBwYXJzZUJvdW5kcyh3cmFwcGVyKTtcbiAgICAgICAgICAgIGlmICh3cmFwcGVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh3cmFwcGVyLmZpcnN0Q2hpbGQsIHdyYXBwZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJvdW5kcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgQm91bmRzKDAsIDAsIDAsIDApO1xufTtcblxuY29uc3QgZ2V0UmFuZ2VCb3VuZHMgPSAobm9kZTogVGV4dCwgb2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyKTogQm91bmRzID0+IHtcbiAgICBjb25zdCBvd25lckRvY3VtZW50ID0gbm9kZS5vd25lckRvY3VtZW50O1xuICAgIGlmICghb3duZXJEb2N1bWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vZGUgaGFzIG5vIG93bmVyIGRvY3VtZW50Jyk7XG4gICAgfVxuICAgIGNvbnN0IHJhbmdlID0gb3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIG9mZnNldCk7XG4gICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIG9mZnNldCArIGxlbmd0aCk7XG4gICAgcmV0dXJuIEJvdW5kcy5mcm9tQ2xpZW50UmVjdChyYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG59O1xuXG5jb25zdCBicmVha1RleHQgPSAodmFsdWU6IHN0cmluZywgc3R5bGVzOiBDU1NQYXJzZWREZWNsYXJhdGlvbik6IHN0cmluZ1tdID0+IHtcbiAgICByZXR1cm4gc3R5bGVzLmxldHRlclNwYWNpbmcgIT09IDAgPyB0b0NvZGVQb2ludHModmFsdWUpLm1hcChpID0+IGZyb21Db2RlUG9pbnQoaSkpIDogYnJlYWtXb3Jkcyh2YWx1ZSwgc3R5bGVzKTtcbn07XG5cbmNvbnN0IGJyZWFrV29yZHMgPSAoc3RyOiBzdHJpbmcsIHN0eWxlczogQ1NTUGFyc2VkRGVjbGFyYXRpb24pOiBzdHJpbmdbXSA9PiB7XG4gICAgY29uc3QgYnJlYWtlciA9IExpbmVCcmVha2VyKHN0ciwge1xuICAgICAgICBsaW5lQnJlYWs6IHN0eWxlcy5saW5lQnJlYWssXG4gICAgICAgIHdvcmRCcmVhazogc3R5bGVzLm92ZXJmbG93V3JhcCA9PT0gT1ZFUkZMT1dfV1JBUC5CUkVBS19XT1JEID8gJ2JyZWFrLXdvcmQnIDogc3R5bGVzLndvcmRCcmVha1xuICAgIH0pO1xuXG4gICAgY29uc3Qgd29yZHMgPSBbXTtcbiAgICBsZXQgYms7XG5cbiAgICB3aGlsZSAoIShiayA9IGJyZWFrZXIubmV4dCgpKS5kb25lKSB7XG4gICAgICAgIGlmIChiay52YWx1ZSkge1xuICAgICAgICAgICAgd29yZHMucHVzaChiay52YWx1ZS5zbGljZSgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB3b3Jkcztcbn07XG4iLCJpbXBvcnQge0NTU1BhcnNlZERlY2xhcmF0aW9ufSBmcm9tICcuLi9jc3MvaW5kZXgnO1xuaW1wb3J0IHtURVhUX1RSQU5TRk9STX0gZnJvbSAnLi4vY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL3RleHQtdHJhbnNmb3JtJztcbmltcG9ydCB7cGFyc2VUZXh0Qm91bmRzLCBUZXh0Qm91bmRzfSBmcm9tICcuLi9jc3MvbGF5b3V0L3RleHQnO1xuXG5leHBvcnQgY2xhc3MgVGV4dENvbnRhaW5lciB7XG4gICAgdGV4dDogc3RyaW5nO1xuICAgIHRleHRCb3VuZHM6IFRleHRCb3VuZHNbXTtcblxuICAgIGNvbnN0cnVjdG9yKG5vZGU6IFRleHQsIHN0eWxlczogQ1NTUGFyc2VkRGVjbGFyYXRpb24pIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gdHJhbnNmb3JtKG5vZGUuZGF0YSwgc3R5bGVzLnRleHRUcmFuc2Zvcm0pO1xuICAgICAgICB0aGlzLnRleHRCb3VuZHMgPSBwYXJzZVRleHRCb3VuZHModGhpcy50ZXh0LCBzdHlsZXMsIG5vZGUpO1xuICAgIH1cbn1cblxuY29uc3QgdHJhbnNmb3JtID0gKHRleHQ6IHN0cmluZywgdHJhbnNmb3JtOiBURVhUX1RSQU5TRk9STSkgPT4ge1xuICAgIHN3aXRjaCAodHJhbnNmb3JtKSB7XG4gICAgICAgIGNhc2UgVEVYVF9UUkFOU0ZPUk0uTE9XRVJDQVNFOlxuICAgICAgICAgICAgcmV0dXJuIHRleHQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY2FzZSBURVhUX1RSQU5TRk9STS5DQVBJVEFMSVpFOlxuICAgICAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZShDQVBJVEFMSVpFLCBjYXBpdGFsaXplKTtcbiAgICAgICAgY2FzZSBURVhUX1RSQU5TRk9STS5VUFBFUkNBU0U6XG4gICAgICAgICAgICByZXR1cm4gdGV4dC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxufTtcblxuY29uc3QgQ0FQSVRBTElaRSA9IC8oXnxcXHN8OnwtfFxcKHxcXCkpKFthLXpdKS9nO1xuXG5jb25zdCBjYXBpdGFsaXplID0gKG06IHN0cmluZywgcDE6IHN0cmluZywgcDI6IHN0cmluZykgPT4ge1xuICAgIGlmIChtLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHAxICsgcDIudG9VcHBlckNhc2UoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbTtcbn07XG4iLCJpbXBvcnQge0VsZW1lbnRDb250YWluZXJ9IGZyb20gJy4uL2VsZW1lbnQtY29udGFpbmVyJztcbmltcG9ydCB7Q2FjaGVTdG9yYWdlfSBmcm9tICcuLi8uLi9jb3JlL2NhY2hlLXN0b3JhZ2UnO1xuXG5leHBvcnQgY2xhc3MgSW1hZ2VFbGVtZW50Q29udGFpbmVyIGV4dGVuZHMgRWxlbWVudENvbnRhaW5lciB7XG4gICAgc3JjOiBzdHJpbmc7XG4gICAgaW50cmluc2ljV2lkdGg6IG51bWJlcjtcbiAgICBpbnRyaW5zaWNIZWlnaHQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGltZzogSFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgICBzdXBlcihpbWcpO1xuICAgICAgICB0aGlzLnNyYyA9IGltZy5jdXJyZW50U3JjIHx8IGltZy5zcmM7XG4gICAgICAgIHRoaXMuaW50cmluc2ljV2lkdGggPSBpbWcubmF0dXJhbFdpZHRoO1xuICAgICAgICB0aGlzLmludHJpbnNpY0hlaWdodCA9IGltZy5uYXR1cmFsSGVpZ2h0O1xuICAgICAgICBDYWNoZVN0b3JhZ2UuZ2V0SW5zdGFuY2UoKS5hZGRJbWFnZSh0aGlzLnNyYyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtFbGVtZW50Q29udGFpbmVyfSBmcm9tICcuLi9lbGVtZW50LWNvbnRhaW5lcic7XG5cbmV4cG9ydCBjbGFzcyBDYW52YXNFbGVtZW50Q29udGFpbmVyIGV4dGVuZHMgRWxlbWVudENvbnRhaW5lciB7XG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBpbnRyaW5zaWNXaWR0aDogbnVtYmVyO1xuICAgIGludHJpbnNpY0hlaWdodDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICBzdXBlcihjYW52YXMpO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgdGhpcy5pbnRyaW5zaWNXaWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICAgICAgdGhpcy5pbnRyaW5zaWNIZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuICAgIH1cbn1cbiIsImltcG9ydCB7RWxlbWVudENvbnRhaW5lcn0gZnJvbSAnLi4vZWxlbWVudC1jb250YWluZXInO1xuaW1wb3J0IHtDYWNoZVN0b3JhZ2V9IGZyb20gJy4uLy4uL2NvcmUvY2FjaGUtc3RvcmFnZSc7XG5cbmV4cG9ydCBjbGFzcyBTVkdFbGVtZW50Q29udGFpbmVyIGV4dGVuZHMgRWxlbWVudENvbnRhaW5lciB7XG4gICAgc3ZnOiBzdHJpbmc7XG4gICAgaW50cmluc2ljV2lkdGg6IG51bWJlcjtcbiAgICBpbnRyaW5zaWNIZWlnaHQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGltZzogU1ZHU1ZHRWxlbWVudCkge1xuICAgICAgICBzdXBlcihpbWcpO1xuICAgICAgICBjb25zdCBzID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTtcbiAgICAgICAgdGhpcy5zdmcgPSBgZGF0YTppbWFnZS9zdmcreG1sLCR7ZW5jb2RlVVJJQ29tcG9uZW50KHMuc2VyaWFsaXplVG9TdHJpbmcoaW1nKSl9YDtcbiAgICAgICAgdGhpcy5pbnRyaW5zaWNXaWR0aCA9IGltZy53aWR0aC5iYXNlVmFsLnZhbHVlO1xuICAgICAgICB0aGlzLmludHJpbnNpY0hlaWdodCA9IGltZy5oZWlnaHQuYmFzZVZhbC52YWx1ZTtcblxuICAgICAgICBDYWNoZVN0b3JhZ2UuZ2V0SW5zdGFuY2UoKS5hZGRJbWFnZSh0aGlzLnN2Zyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtFbGVtZW50Q29udGFpbmVyfSBmcm9tICcuLi9lbGVtZW50LWNvbnRhaW5lcic7XG5leHBvcnQgY2xhc3MgTElFbGVtZW50Q29udGFpbmVyIGV4dGVuZHMgRWxlbWVudENvbnRhaW5lciB7XG4gICAgcmVhZG9ubHkgdmFsdWU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEhUTUxMSUVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCk7XG4gICAgICAgIHRoaXMudmFsdWUgPSBlbGVtZW50LnZhbHVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7RWxlbWVudENvbnRhaW5lcn0gZnJvbSAnLi4vZWxlbWVudC1jb250YWluZXInO1xuZXhwb3J0IGNsYXNzIE9MRWxlbWVudENvbnRhaW5lciBleHRlbmRzIEVsZW1lbnRDb250YWluZXIge1xuICAgIHJlYWRvbmx5IHN0YXJ0OiBudW1iZXI7XG4gICAgcmVhZG9ubHkgcmV2ZXJzZWQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MT0xpc3RFbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQpO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gZWxlbWVudC5zdGFydDtcbiAgICAgICAgdGhpcy5yZXZlcnNlZCA9IHR5cGVvZiBlbGVtZW50LnJldmVyc2VkID09PSAnYm9vbGVhbicgJiYgZWxlbWVudC5yZXZlcnNlZCA9PT0gdHJ1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0VsZW1lbnRDb250YWluZXJ9IGZyb20gJy4uL2VsZW1lbnQtY29udGFpbmVyJztcbmltcG9ydCB7Qk9SREVSX1NUWUxFfSBmcm9tICcuLi8uLi9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvYm9yZGVyLXN0eWxlJztcbmltcG9ydCB7QkFDS0dST1VORF9DTElQfSBmcm9tICcuLi8uLi9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvYmFja2dyb3VuZC1jbGlwJztcbmltcG9ydCB7QkFDS0dST1VORF9PUklHSU59IGZyb20gJy4uLy4uL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9iYWNrZ3JvdW5kLW9yaWdpbic7XG5pbXBvcnQge1Rva2VuVHlwZX0gZnJvbSAnLi4vLi4vY3NzL3N5bnRheC90b2tlbml6ZXInO1xuaW1wb3J0IHtMZW5ndGhQZXJjZW50YWdlVHVwbGV9IGZyb20gJy4uLy4uL2Nzcy90eXBlcy9sZW5ndGgtcGVyY2VudGFnZSc7XG5pbXBvcnQge0JvdW5kc30gZnJvbSAnLi4vLi4vY3NzL2xheW91dC9ib3VuZHMnO1xuXG5jb25zdCBDSEVDS0JPWF9CT1JERVJfUkFESVVTOiBMZW5ndGhQZXJjZW50YWdlVHVwbGUgPSBbXG4gICAge1xuICAgICAgICB0eXBlOiBUb2tlblR5cGUuRElNRU5TSU9OX1RPS0VOLFxuICAgICAgICBmbGFnczogMCxcbiAgICAgICAgdW5pdDogJ3B4JyxcbiAgICAgICAgbnVtYmVyOiAzXG4gICAgfVxuXTtcblxuY29uc3QgUkFESU9fQk9SREVSX1JBRElVUzogTGVuZ3RoUGVyY2VudGFnZVR1cGxlID0gW1xuICAgIHtcbiAgICAgICAgdHlwZTogVG9rZW5UeXBlLlBFUkNFTlRBR0VfVE9LRU4sXG4gICAgICAgIGZsYWdzOiAwLFxuICAgICAgICBudW1iZXI6IDUwXG4gICAgfVxuXTtcblxuY29uc3QgcmVmb3JtYXRJbnB1dEJvdW5kcyA9IChib3VuZHM6IEJvdW5kcyk6IEJvdW5kcyA9PiB7XG4gICAgaWYgKGJvdW5kcy53aWR0aCA+IGJvdW5kcy5oZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCb3VuZHMoYm91bmRzLmxlZnQgKyAoYm91bmRzLndpZHRoIC0gYm91bmRzLmhlaWdodCkgLyAyLCBib3VuZHMudG9wLCBib3VuZHMuaGVpZ2h0LCBib3VuZHMuaGVpZ2h0KTtcbiAgICB9IGVsc2UgaWYgKGJvdW5kcy53aWR0aCA8IGJvdW5kcy5oZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCb3VuZHMoYm91bmRzLmxlZnQsIGJvdW5kcy50b3AgKyAoYm91bmRzLmhlaWdodCAtIGJvdW5kcy53aWR0aCkgLyAyLCBib3VuZHMud2lkdGgsIGJvdW5kcy53aWR0aCk7XG4gICAgfVxuICAgIHJldHVybiBib3VuZHM7XG59O1xuXG5jb25zdCBnZXRJbnB1dFZhbHVlID0gKG5vZGU6IEhUTUxJbnB1dEVsZW1lbnQpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gbm9kZS50eXBlID09PSBQQVNTV09SRCA/IG5ldyBBcnJheShub2RlLnZhbHVlLmxlbmd0aCArIDEpLmpvaW4oJ1xcdTIwMjInKSA6IG5vZGUudmFsdWU7XG5cbiAgICByZXR1cm4gdmFsdWUubGVuZ3RoID09PSAwID8gbm9kZS5wbGFjZWhvbGRlciB8fCAnJyA6IHZhbHVlO1xufTtcblxuZXhwb3J0IGNvbnN0IENIRUNLQk9YID0gJ2NoZWNrYm94JztcbmV4cG9ydCBjb25zdCBSQURJTyA9ICdyYWRpbyc7XG5leHBvcnQgY29uc3QgUEFTU1dPUkQgPSAncGFzc3dvcmQnO1xuZXhwb3J0IGNvbnN0IElOUFVUX0NPTE9SID0gMHgyYTJhMmFmZjtcblxuZXhwb3J0IGNsYXNzIElucHV0RWxlbWVudENvbnRhaW5lciBleHRlbmRzIEVsZW1lbnRDb250YWluZXIge1xuICAgIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcbiAgICByZWFkb25seSBjaGVja2VkOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IHZhbHVlOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihpbnB1dDogSFRNTElucHV0RWxlbWVudCkge1xuICAgICAgICBzdXBlcihpbnB1dCk7XG4gICAgICAgIHRoaXMudHlwZSA9IGlucHV0LnR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdGhpcy5jaGVja2VkID0gaW5wdXQuY2hlY2tlZDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IGdldElucHV0VmFsdWUoaW5wdXQpO1xuXG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09IENIRUNLQk9YIHx8IHRoaXMudHlwZSA9PT0gUkFESU8pIHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVzLmJhY2tncm91bmRDb2xvciA9IDB4ZGVkZWRlZmY7XG4gICAgICAgICAgICB0aGlzLnN0eWxlcy5ib3JkZXJUb3BDb2xvciA9IHRoaXMuc3R5bGVzLmJvcmRlclJpZ2h0Q29sb3IgPSB0aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21Db2xvciA9IHRoaXMuc3R5bGVzLmJvcmRlckxlZnRDb2xvciA9IDB4YTVhNWE1ZmY7XG4gICAgICAgICAgICB0aGlzLnN0eWxlcy5ib3JkZXJUb3BXaWR0aCA9IHRoaXMuc3R5bGVzLmJvcmRlclJpZ2h0V2lkdGggPSB0aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21XaWR0aCA9IHRoaXMuc3R5bGVzLmJvcmRlckxlZnRXaWR0aCA9IDE7XG4gICAgICAgICAgICB0aGlzLnN0eWxlcy5ib3JkZXJUb3BTdHlsZSA9IHRoaXMuc3R5bGVzLmJvcmRlclJpZ2h0U3R5bGUgPSB0aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21TdHlsZSA9IHRoaXMuc3R5bGVzLmJvcmRlckxlZnRTdHlsZSA9XG4gICAgICAgICAgICAgICAgQk9SREVSX1NUWUxFLlNPTElEO1xuICAgICAgICAgICAgdGhpcy5zdHlsZXMuYmFja2dyb3VuZENsaXAgPSBbQkFDS0dST1VORF9DTElQLkJPUkRFUl9CT1hdO1xuICAgICAgICAgICAgdGhpcy5zdHlsZXMuYmFja2dyb3VuZE9yaWdpbiA9IFtCQUNLR1JPVU5EX09SSUdJTi5CT1JERVJfQk9YXTtcbiAgICAgICAgICAgIHRoaXMuYm91bmRzID0gcmVmb3JtYXRJbnB1dEJvdW5kcyh0aGlzLmJvdW5kcyk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBDSEVDS0JPWDpcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlcy5ib3JkZXJUb3BSaWdodFJhZGl1cyA9IHRoaXMuc3R5bGVzLmJvcmRlclRvcExlZnRSYWRpdXMgPSB0aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21SaWdodFJhZGl1cyA9IHRoaXMuc3R5bGVzLmJvcmRlckJvdHRvbUxlZnRSYWRpdXMgPSBDSEVDS0JPWF9CT1JERVJfUkFESVVTO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSQURJTzpcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlcy5ib3JkZXJUb3BSaWdodFJhZGl1cyA9IHRoaXMuc3R5bGVzLmJvcmRlclRvcExlZnRSYWRpdXMgPSB0aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21SaWdodFJhZGl1cyA9IHRoaXMuc3R5bGVzLmJvcmRlckJvdHRvbUxlZnRSYWRpdXMgPSBSQURJT19CT1JERVJfUkFESVVTO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtFbGVtZW50Q29udGFpbmVyfSBmcm9tICcuLi9lbGVtZW50LWNvbnRhaW5lcic7XG5leHBvcnQgY2xhc3MgU2VsZWN0RWxlbWVudENvbnRhaW5lciBleHRlbmRzIEVsZW1lbnRDb250YWluZXIge1xuICAgIHJlYWRvbmx5IHZhbHVlOiBzdHJpbmc7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTFNlbGVjdEVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGVsZW1lbnQub3B0aW9uc1tlbGVtZW50LnNlbGVjdGVkSW5kZXggfHwgMF07XG4gICAgICAgIHRoaXMudmFsdWUgPSBvcHRpb24gPyBvcHRpb24udGV4dCB8fCAnJyA6ICcnO1xuICAgIH1cbn1cbiIsImltcG9ydCB7RWxlbWVudENvbnRhaW5lcn0gZnJvbSAnLi4vZWxlbWVudC1jb250YWluZXInO1xuZXhwb3J0IGNsYXNzIFRleHRhcmVhRWxlbWVudENvbnRhaW5lciBleHRlbmRzIEVsZW1lbnRDb250YWluZXIge1xuICAgIHJlYWRvbmx5IHZhbHVlOiBzdHJpbmc7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTFRleHRBcmVhRWxlbWVudCkge1xuICAgICAgICBzdXBlcihlbGVtZW50KTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IGVsZW1lbnQudmFsdWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtFbGVtZW50Q29udGFpbmVyfSBmcm9tICcuLi9lbGVtZW50LWNvbnRhaW5lcic7XG5pbXBvcnQge3BhcnNlVHJlZX0gZnJvbSAnLi4vbm9kZS1wYXJzZXInO1xuaW1wb3J0IHtDb2xvciwgY29sb3IsIENPTE9SUywgaXNUcmFuc3BhcmVudH0gZnJvbSAnLi4vLi4vY3NzL3R5cGVzL2NvbG9yJztcbmltcG9ydCB7UGFyc2VyfSBmcm9tICcuLi8uLi9jc3Mvc3ludGF4L3BhcnNlcic7XG5cbmNvbnN0IHBhcnNlQ29sb3IgPSAodmFsdWU6IHN0cmluZyk6IENvbG9yID0+IGNvbG9yLnBhcnNlKFBhcnNlci5jcmVhdGUodmFsdWUpLnBhcnNlQ29tcG9uZW50VmFsdWUoKSk7XG5cbmV4cG9ydCBjbGFzcyBJRnJhbWVFbGVtZW50Q29udGFpbmVyIGV4dGVuZHMgRWxlbWVudENvbnRhaW5lciB7XG4gICAgc3JjOiBzdHJpbmc7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICB0cmVlPzogRWxlbWVudENvbnRhaW5lcjtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IENvbG9yO1xuXG4gICAgY29uc3RydWN0b3IoaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICBzdXBlcihpZnJhbWUpO1xuICAgICAgICB0aGlzLnNyYyA9IGlmcmFtZS5zcmM7XG4gICAgICAgIHRoaXMud2lkdGggPSBwYXJzZUludChpZnJhbWUud2lkdGgsIDEwKSB8fCAwO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHBhcnNlSW50KGlmcmFtZS5oZWlnaHQsIDEwKSB8fCAwO1xuICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IHRoaXMuc3R5bGVzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBpZnJhbWUuY29udGVudFdpbmRvdyAmJlxuICAgICAgICAgICAgICAgIGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50ICYmXG4gICAgICAgICAgICAgICAgaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyZWUgPSBwYXJzZVRyZWUoaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcblxuICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtYmFja2dyb3VuZC8jc3BlY2lhbC1iYWNrZ3JvdW5kc1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvY3VtZW50QmFja2dyb3VuZENvbG9yID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG4gICAgICAgICAgICAgICAgICAgID8gcGFyc2VDb2xvcihnZXRDb21wdXRlZFN0eWxlKGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmJhY2tncm91bmRDb2xvciBhcyBzdHJpbmcpXG4gICAgICAgICAgICAgICAgICAgIDogQ09MT1JTLlRSQU5TUEFSRU5UO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvZHlCYWNrZ3JvdW5kQ29sb3IgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5ib2R5XG4gICAgICAgICAgICAgICAgICAgID8gcGFyc2VDb2xvcihnZXRDb21wdXRlZFN0eWxlKGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LmJvZHkpLmJhY2tncm91bmRDb2xvciBhcyBzdHJpbmcpXG4gICAgICAgICAgICAgICAgICAgIDogQ09MT1JTLlRSQU5TUEFSRU5UO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBpc1RyYW5zcGFyZW50KGRvY3VtZW50QmFja2dyb3VuZENvbG9yKVxuICAgICAgICAgICAgICAgICAgICA/IGlzVHJhbnNwYXJlbnQoYm9keUJhY2tncm91bmRDb2xvcilcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5zdHlsZXMuYmFja2dyb3VuZENvbG9yXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGJvZHlCYWNrZ3JvdW5kQ29sb3JcbiAgICAgICAgICAgICAgICAgICAgOiBkb2N1bWVudEJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG59XG4iLCJpbXBvcnQge0NTU1BhcnNlZERlY2xhcmF0aW9ufSBmcm9tICcuLi9jc3MvaW5kZXgnO1xuaW1wb3J0IHtFbGVtZW50Q29udGFpbmVyLCBGTEFHU30gZnJvbSAnLi9lbGVtZW50LWNvbnRhaW5lcic7XG5pbXBvcnQge1RleHRDb250YWluZXJ9IGZyb20gJy4vdGV4dC1jb250YWluZXInO1xuaW1wb3J0IHtJbWFnZUVsZW1lbnRDb250YWluZXJ9IGZyb20gJy4vcmVwbGFjZWQtZWxlbWVudHMvaW1hZ2UtZWxlbWVudC1jb250YWluZXInO1xuaW1wb3J0IHtDYW52YXNFbGVtZW50Q29udGFpbmVyfSBmcm9tICcuL3JlcGxhY2VkLWVsZW1lbnRzL2NhbnZhcy1lbGVtZW50LWNvbnRhaW5lcic7XG5pbXBvcnQge1NWR0VsZW1lbnRDb250YWluZXJ9IGZyb20gJy4vcmVwbGFjZWQtZWxlbWVudHMvc3ZnLWVsZW1lbnQtY29udGFpbmVyJztcbmltcG9ydCB7TElFbGVtZW50Q29udGFpbmVyfSBmcm9tICcuL2VsZW1lbnRzL2xpLWVsZW1lbnQtY29udGFpbmVyJztcbmltcG9ydCB7T0xFbGVtZW50Q29udGFpbmVyfSBmcm9tICcuL2VsZW1lbnRzL29sLWVsZW1lbnQtY29udGFpbmVyJztcbmltcG9ydCB7SW5wdXRFbGVtZW50Q29udGFpbmVyfSBmcm9tICcuL3JlcGxhY2VkLWVsZW1lbnRzL2lucHV0LWVsZW1lbnQtY29udGFpbmVyJztcbmltcG9ydCB7U2VsZWN0RWxlbWVudENvbnRhaW5lcn0gZnJvbSAnLi9lbGVtZW50cy9zZWxlY3QtZWxlbWVudC1jb250YWluZXInO1xuaW1wb3J0IHtUZXh0YXJlYUVsZW1lbnRDb250YWluZXJ9IGZyb20gJy4vZWxlbWVudHMvdGV4dGFyZWEtZWxlbWVudC1jb250YWluZXInO1xuaW1wb3J0IHtJRnJhbWVFbGVtZW50Q29udGFpbmVyfSBmcm9tICcuL3JlcGxhY2VkLWVsZW1lbnRzL2lmcmFtZS1lbGVtZW50LWNvbnRhaW5lcic7XG5cbmNvbnN0IExJU1RfT1dORVJTID0gWydPTCcsICdVTCcsICdNRU5VJ107XG5cbmNvbnN0IHBhcnNlTm9kZVRyZWUgPSAobm9kZTogTm9kZSwgcGFyZW50OiBFbGVtZW50Q29udGFpbmVyLCByb290OiBFbGVtZW50Q29udGFpbmVyKSA9PiB7XG4gICAgZm9yIChsZXQgY2hpbGROb2RlID0gbm9kZS5maXJzdENoaWxkLCBuZXh0Tm9kZTsgY2hpbGROb2RlOyBjaGlsZE5vZGUgPSBuZXh0Tm9kZSkge1xuICAgICAgICBuZXh0Tm9kZSA9IGNoaWxkTm9kZS5uZXh0U2libGluZztcblxuICAgICAgICBpZiAoaXNUZXh0Tm9kZShjaGlsZE5vZGUpICYmIGNoaWxkTm9kZS5kYXRhLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBwYXJlbnQudGV4dE5vZGVzLnB1c2gobmV3IFRleHRDb250YWluZXIoY2hpbGROb2RlLCBwYXJlbnQuc3R5bGVzKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50Tm9kZShjaGlsZE5vZGUpKSB7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBjcmVhdGVDb250YWluZXIoY2hpbGROb2RlKTtcbiAgICAgICAgICAgIGlmIChjb250YWluZXIuc3R5bGVzLmlzVmlzaWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNyZWF0ZXNSZWFsU3RhY2tpbmdDb250ZXh0KGNoaWxkTm9kZSwgY29udGFpbmVyLCByb290KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuZmxhZ3MgfD0gRkxBR1MuQ1JFQVRFU19SRUFMX1NUQUNLSU5HX0NPTlRFWFQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjcmVhdGVzU3RhY2tpbmdDb250ZXh0KGNvbnRhaW5lci5zdHlsZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5mbGFncyB8PSBGTEFHUy5DUkVBVEVTX1NUQUNLSU5HX0NPTlRFWFQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKExJU1RfT1dORVJTLmluZGV4T2YoY2hpbGROb2RlLnRhZ05hbWUpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuZmxhZ3MgfD0gRkxBR1MuSVNfTElTVF9PV05FUjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwYXJlbnQuZWxlbWVudHMucHVzaChjb250YWluZXIpO1xuICAgICAgICAgICAgICAgIGlmICghaXNUZXh0YXJlYUVsZW1lbnQoY2hpbGROb2RlKSAmJiAhaXNTVkdFbGVtZW50KGNoaWxkTm9kZSkgJiYgIWlzU2VsZWN0RWxlbWVudChjaGlsZE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlTm9kZVRyZWUoY2hpbGROb2RlLCBjb250YWluZXIsIHJvb3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmNvbnN0IGNyZWF0ZUNvbnRhaW5lciA9IChlbGVtZW50OiBFbGVtZW50KTogRWxlbWVudENvbnRhaW5lciA9PiB7XG4gICAgaWYgKGlzSW1hZ2VFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW1hZ2VFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGlmIChpc0NhbnZhc0VsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGlmIChpc1NWR0VsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTVkdFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGlmIChpc0xJRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgICByZXR1cm4gbmV3IExJRWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcbiAgICB9XG5cbiAgICBpZiAoaXNPTEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPTEVsZW1lbnRDb250YWluZXIoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgaWYgKGlzSW5wdXRFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW5wdXRFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGlmIChpc1NlbGVjdEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3RFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGlmIChpc1RleHRhcmVhRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgICByZXR1cm4gbmV3IFRleHRhcmVhRWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcbiAgICB9XG5cbiAgICBpZiAoaXNJRnJhbWVFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybiBuZXcgSUZyYW1lRWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEVsZW1lbnRDb250YWluZXIoZWxlbWVudCk7XG59O1xuXG5leHBvcnQgY29uc3QgcGFyc2VUcmVlID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogRWxlbWVudENvbnRhaW5lciA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gY3JlYXRlQ29udGFpbmVyKGVsZW1lbnQpO1xuICAgIGNvbnRhaW5lci5mbGFncyB8PSBGTEFHUy5DUkVBVEVTX1JFQUxfU1RBQ0tJTkdfQ09OVEVYVDtcbiAgICBwYXJzZU5vZGVUcmVlKGVsZW1lbnQsIGNvbnRhaW5lciwgY29udGFpbmVyKTtcbiAgICByZXR1cm4gY29udGFpbmVyO1xufTtcblxuY29uc3QgY3JlYXRlc1JlYWxTdGFja2luZ0NvbnRleHQgPSAobm9kZTogRWxlbWVudCwgY29udGFpbmVyOiBFbGVtZW50Q29udGFpbmVyLCByb290OiBFbGVtZW50Q29udGFpbmVyKTogYm9vbGVhbiA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgY29udGFpbmVyLnN0eWxlcy5pc1Bvc2l0aW9uZWRXaXRoWkluZGV4KCkgfHxcbiAgICAgICAgY29udGFpbmVyLnN0eWxlcy5vcGFjaXR5IDwgMSB8fFxuICAgICAgICBjb250YWluZXIuc3R5bGVzLmlzVHJhbnNmb3JtZWQoKSB8fFxuICAgICAgICAoaXNCb2R5RWxlbWVudChub2RlKSAmJiByb290LnN0eWxlcy5pc1RyYW5zcGFyZW50KCkpXG4gICAgKTtcbn07XG5cbmNvbnN0IGNyZWF0ZXNTdGFja2luZ0NvbnRleHQgPSAoc3R5bGVzOiBDU1NQYXJzZWREZWNsYXJhdGlvbik6IGJvb2xlYW4gPT4gc3R5bGVzLmlzUG9zaXRpb25lZCgpIHx8IHN0eWxlcy5pc0Zsb2F0aW5nKCk7XG5cbmV4cG9ydCBjb25zdCBpc1RleHROb2RlID0gKG5vZGU6IE5vZGUpOiBub2RlIGlzIFRleHQgPT4gbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREU7XG5leHBvcnQgY29uc3QgaXNFbGVtZW50Tm9kZSA9IChub2RlOiBOb2RlKTogbm9kZSBpcyBFbGVtZW50ID0+IG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFO1xuZXhwb3J0IGNvbnN0IGlzSFRNTEVsZW1lbnROb2RlID0gKG5vZGU6IE5vZGUpOiBub2RlIGlzIEhUTUxFbGVtZW50ID0+XG4gICAgaXNFbGVtZW50Tm9kZShub2RlKSAmJiB0eXBlb2YgKG5vZGUgYXMgSFRNTEVsZW1lbnQpLnN0eWxlICE9PSAndW5kZWZpbmVkJyAmJiAhaXNTVkdFbGVtZW50Tm9kZShub2RlKTtcbmV4cG9ydCBjb25zdCBpc1NWR0VsZW1lbnROb2RlID0gKGVsZW1lbnQ6IEVsZW1lbnQpOiBlbGVtZW50IGlzIFNWR0VsZW1lbnQgPT5cbiAgICB0eXBlb2YgKGVsZW1lbnQgYXMgU1ZHRWxlbWVudCkuY2xhc3NOYW1lID09PSAnb2JqZWN0JztcbmV4cG9ydCBjb25zdCBpc0xJRWxlbWVudCA9IChub2RlOiBFbGVtZW50KTogbm9kZSBpcyBIVE1MTElFbGVtZW50ID0+IG5vZGUudGFnTmFtZSA9PT0gJ0xJJztcbmV4cG9ydCBjb25zdCBpc09MRWxlbWVudCA9IChub2RlOiBFbGVtZW50KTogbm9kZSBpcyBIVE1MT0xpc3RFbGVtZW50ID0+IG5vZGUudGFnTmFtZSA9PT0gJ09MJztcbmV4cG9ydCBjb25zdCBpc0lucHV0RWxlbWVudCA9IChub2RlOiBFbGVtZW50KTogbm9kZSBpcyBIVE1MSW5wdXRFbGVtZW50ID0+IG5vZGUudGFnTmFtZSA9PT0gJ0lOUFVUJztcbmV4cG9ydCBjb25zdCBpc0hUTUxFbGVtZW50ID0gKG5vZGU6IEVsZW1lbnQpOiBub2RlIGlzIEhUTUxIdG1sRWxlbWVudCA9PiBub2RlLnRhZ05hbWUgPT09ICdIVE1MJztcbmV4cG9ydCBjb25zdCBpc1NWR0VsZW1lbnQgPSAobm9kZTogRWxlbWVudCk6IG5vZGUgaXMgU1ZHU1ZHRWxlbWVudCA9PiBub2RlLnRhZ05hbWUgPT09ICdzdmcnO1xuZXhwb3J0IGNvbnN0IGlzQm9keUVsZW1lbnQgPSAobm9kZTogRWxlbWVudCk6IG5vZGUgaXMgSFRNTEJvZHlFbGVtZW50ID0+IG5vZGUudGFnTmFtZSA9PT0gJ0JPRFknO1xuZXhwb3J0IGNvbnN0IGlzQ2FudmFzRWxlbWVudCA9IChub2RlOiBFbGVtZW50KTogbm9kZSBpcyBIVE1MQ2FudmFzRWxlbWVudCA9PiBub2RlLnRhZ05hbWUgPT09ICdDQU5WQVMnO1xuZXhwb3J0IGNvbnN0IGlzSW1hZ2VFbGVtZW50ID0gKG5vZGU6IEVsZW1lbnQpOiBub2RlIGlzIEhUTUxJbWFnZUVsZW1lbnQgPT4gbm9kZS50YWdOYW1lID09PSAnSU1HJztcbmV4cG9ydCBjb25zdCBpc0lGcmFtZUVsZW1lbnQgPSAobm9kZTogRWxlbWVudCk6IG5vZGUgaXMgSFRNTElGcmFtZUVsZW1lbnQgPT4gbm9kZS50YWdOYW1lID09PSAnSUZSQU1FJztcbmV4cG9ydCBjb25zdCBpc1N0eWxlRWxlbWVudCA9IChub2RlOiBFbGVtZW50KTogbm9kZSBpcyBIVE1MU3R5bGVFbGVtZW50ID0+IG5vZGUudGFnTmFtZSA9PT0gJ1NUWUxFJztcbmV4cG9ydCBjb25zdCBpc1NjcmlwdEVsZW1lbnQgPSAobm9kZTogRWxlbWVudCk6IG5vZGUgaXMgSFRNTFNjcmlwdEVsZW1lbnQgPT4gbm9kZS50YWdOYW1lID09PSAnU0NSSVBUJztcbmV4cG9ydCBjb25zdCBpc1RleHRhcmVhRWxlbWVudCA9IChub2RlOiBFbGVtZW50KTogbm9kZSBpcyBIVE1MVGV4dEFyZWFFbGVtZW50ID0+IG5vZGUudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJztcbmV4cG9ydCBjb25zdCBpc1NlbGVjdEVsZW1lbnQgPSAobm9kZTogRWxlbWVudCk6IG5vZGUgaXMgSFRNTFNlbGVjdEVsZW1lbnQgPT4gbm9kZS50YWdOYW1lID09PSAnU0VMRUNUJztcbiIsImltcG9ydCB7TElTVF9TVFlMRV9UWVBFfSBmcm9tICcuLi8uLi9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9saXN0LXN0eWxlLXR5cGUnO1xuaW1wb3J0IHtmcm9tQ29kZVBvaW50fSBmcm9tICdjc3MtbGluZS1icmVhayc7XG5pbXBvcnQge2NvbnRhaW5zfSBmcm9tICcuLi8uLi8uLi9jb3JlL2JpdHdpc2UnO1xuaW1wb3J0IHtDU1NQYXJzZWRDb3VudGVyRGVjbGFyYXRpb259IGZyb20gJy4uLy4uL2luZGV4JztcblxuZXhwb3J0IGNsYXNzIENvdW50ZXJTdGF0ZSB7XG4gICAgcmVhZG9ubHkgY291bnRlcnM6IHtba2V5OiBzdHJpbmddOiBudW1iZXJbXX07XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY291bnRlcnMgPSB7fTtcbiAgICB9XG5cbiAgICBnZXRDb3VudGVyVmFsdWUobmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGNvdW50ZXIgPSB0aGlzLmNvdW50ZXJzW25hbWVdO1xuXG4gICAgICAgIGlmIChjb3VudGVyICYmIGNvdW50ZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gY291bnRlcltjb3VudGVyLmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIGdldENvdW50ZXJWYWx1ZXMobmFtZTogc3RyaW5nKTogbnVtYmVyW10ge1xuICAgICAgICBjb25zdCBjb3VudGVyID0gdGhpcy5jb3VudGVyc1tuYW1lXTtcbiAgICAgICAgcmV0dXJuIGNvdW50ZXIgPyBjb3VudGVyIDogW107XG4gICAgfVxuXG4gICAgcG9wKGNvdW50ZXJzOiBzdHJpbmdbXSkge1xuICAgICAgICBjb3VudGVycy5mb3JFYWNoKGNvdW50ZXIgPT4gdGhpcy5jb3VudGVyc1tjb3VudGVyXS5wb3AoKSk7XG4gICAgfVxuXG4gICAgcGFyc2Uoc3R5bGU6IENTU1BhcnNlZENvdW50ZXJEZWNsYXJhdGlvbik6IHN0cmluZ1tdIHtcbiAgICAgICAgY29uc3QgY291bnRlckluY3JlbWVudCA9IHN0eWxlLmNvdW50ZXJJbmNyZW1lbnQ7XG4gICAgICAgIGNvbnN0IGNvdW50ZXJSZXNldCA9IHN0eWxlLmNvdW50ZXJSZXNldDtcbiAgICAgICAgbGV0IGNhblJlc2V0ID0gdHJ1ZTtcblxuICAgICAgICBpZiAoY291bnRlckluY3JlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY291bnRlckluY3JlbWVudC5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb3VudGVyID0gdGhpcy5jb3VudGVyc1tlbnRyeS5jb3VudGVyXTtcbiAgICAgICAgICAgICAgICBpZiAoY291bnRlciAmJiBlbnRyeS5pbmNyZW1lbnQgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY2FuUmVzZXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlcltNYXRoLm1heCgwLCBjb3VudGVyLmxlbmd0aCAtIDEpXSArPSBlbnRyeS5pbmNyZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb3VudGVyTmFtZXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGlmIChjYW5SZXNldCkge1xuICAgICAgICAgICAgY291bnRlclJlc2V0LmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjb3VudGVyID0gdGhpcy5jb3VudGVyc1tlbnRyeS5jb3VudGVyXTtcbiAgICAgICAgICAgICAgICBjb3VudGVyTmFtZXMucHVzaChlbnRyeS5jb3VudGVyKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvdW50ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlciA9IHRoaXMuY291bnRlcnNbZW50cnkuY291bnRlcl0gPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY291bnRlci5wdXNoKGVudHJ5LnJlc2V0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvdW50ZXJOYW1lcztcbiAgICB9XG59XG5cbmludGVyZmFjZSBDb3VudGVyU3ltYm9scyB7XG4gICAgaW50ZWdlcnM6IG51bWJlcltdO1xuICAgIHZhbHVlczogc3RyaW5nW107XG59XG5cbmNvbnN0IFJPTUFOX1VQUEVSOiBDb3VudGVyU3ltYm9scyA9IHtcbiAgICBpbnRlZ2VyczogWzEwMDAsIDkwMCwgNTAwLCA0MDAsIDEwMCwgOTAsIDUwLCA0MCwgMTAsIDksIDUsIDQsIDFdLFxuICAgIHZhbHVlczogWydNJywgJ0NNJywgJ0QnLCAnQ0QnLCAnQycsICdYQycsICdMJywgJ1hMJywgJ1gnLCAnSVgnLCAnVicsICdJVicsICdJJ11cbn07XG5cbmNvbnN0IEFSTUVOSUFOOiBDb3VudGVyU3ltYm9scyA9IHtcbiAgICBpbnRlZ2VyczogW1xuICAgICAgICA5MDAwLFxuICAgICAgICA4MDAwLFxuICAgICAgICA3MDAwLFxuICAgICAgICA2MDAwLFxuICAgICAgICA1MDAwLFxuICAgICAgICA0MDAwLFxuICAgICAgICAzMDAwLFxuICAgICAgICAyMDAwLFxuICAgICAgICAxMDAwLFxuICAgICAgICA5MDAsXG4gICAgICAgIDgwMCxcbiAgICAgICAgNzAwLFxuICAgICAgICA2MDAsXG4gICAgICAgIDUwMCxcbiAgICAgICAgNDAwLFxuICAgICAgICAzMDAsXG4gICAgICAgIDIwMCxcbiAgICAgICAgMTAwLFxuICAgICAgICA5MCxcbiAgICAgICAgODAsXG4gICAgICAgIDcwLFxuICAgICAgICA2MCxcbiAgICAgICAgNTAsXG4gICAgICAgIDQwLFxuICAgICAgICAzMCxcbiAgICAgICAgMjAsXG4gICAgICAgIDEwLFxuICAgICAgICA5LFxuICAgICAgICA4LFxuICAgICAgICA3LFxuICAgICAgICA2LFxuICAgICAgICA1LFxuICAgICAgICA0LFxuICAgICAgICAzLFxuICAgICAgICAyLFxuICAgICAgICAxXG4gICAgXSxcbiAgICB2YWx1ZXM6IFtcbiAgICAgICAgJ9WUJyxcbiAgICAgICAgJ9WTJyxcbiAgICAgICAgJ9WSJyxcbiAgICAgICAgJ9WRJyxcbiAgICAgICAgJ9WQJyxcbiAgICAgICAgJ9WPJyxcbiAgICAgICAgJ9WOJyxcbiAgICAgICAgJ9WNJyxcbiAgICAgICAgJ9WMJyxcbiAgICAgICAgJ9WLJyxcbiAgICAgICAgJ9WKJyxcbiAgICAgICAgJ9WJJyxcbiAgICAgICAgJ9WIJyxcbiAgICAgICAgJ9WHJyxcbiAgICAgICAgJ9WGJyxcbiAgICAgICAgJ9WFJyxcbiAgICAgICAgJ9WEJyxcbiAgICAgICAgJ9WDJyxcbiAgICAgICAgJ9WCJyxcbiAgICAgICAgJ9WBJyxcbiAgICAgICAgJ9WAJyxcbiAgICAgICAgJ9S/JyxcbiAgICAgICAgJ9S+JyxcbiAgICAgICAgJ9S9JyxcbiAgICAgICAgJ9S8JyxcbiAgICAgICAgJ9S7JyxcbiAgICAgICAgJ9S6JyxcbiAgICAgICAgJ9S5JyxcbiAgICAgICAgJ9S4JyxcbiAgICAgICAgJ9S3JyxcbiAgICAgICAgJ9S2JyxcbiAgICAgICAgJ9S1JyxcbiAgICAgICAgJ9S0JyxcbiAgICAgICAgJ9SzJyxcbiAgICAgICAgJ9SyJyxcbiAgICAgICAgJ9SxJ1xuICAgIF1cbn07XG5cbmNvbnN0IEhFQlJFVzogQ291bnRlclN5bWJvbHMgPSB7XG4gICAgaW50ZWdlcnM6IFtcbiAgICAgICAgMTAwMDAsXG4gICAgICAgIDkwMDAsXG4gICAgICAgIDgwMDAsXG4gICAgICAgIDcwMDAsXG4gICAgICAgIDYwMDAsXG4gICAgICAgIDUwMDAsXG4gICAgICAgIDQwMDAsXG4gICAgICAgIDMwMDAsXG4gICAgICAgIDIwMDAsXG4gICAgICAgIDEwMDAsXG4gICAgICAgIDQwMCxcbiAgICAgICAgMzAwLFxuICAgICAgICAyMDAsXG4gICAgICAgIDEwMCxcbiAgICAgICAgOTAsXG4gICAgICAgIDgwLFxuICAgICAgICA3MCxcbiAgICAgICAgNjAsXG4gICAgICAgIDUwLFxuICAgICAgICA0MCxcbiAgICAgICAgMzAsXG4gICAgICAgIDIwLFxuICAgICAgICAxOSxcbiAgICAgICAgMTgsXG4gICAgICAgIDE3LFxuICAgICAgICAxNixcbiAgICAgICAgMTUsXG4gICAgICAgIDEwLFxuICAgICAgICA5LFxuICAgICAgICA4LFxuICAgICAgICA3LFxuICAgICAgICA2LFxuICAgICAgICA1LFxuICAgICAgICA0LFxuICAgICAgICAzLFxuICAgICAgICAyLFxuICAgICAgICAxXG4gICAgXSxcbiAgICB2YWx1ZXM6IFtcbiAgICAgICAgJ9eZ17MnLFxuICAgICAgICAn15jXsycsXG4gICAgICAgICfXl9ezJyxcbiAgICAgICAgJ9eW17MnLFxuICAgICAgICAn15XXsycsXG4gICAgICAgICfXlNezJyxcbiAgICAgICAgJ9eT17MnLFxuICAgICAgICAn15LXsycsXG4gICAgICAgICfXkdezJyxcbiAgICAgICAgJ9eQ17MnLFxuICAgICAgICAn16onLFxuICAgICAgICAn16knLFxuICAgICAgICAn16gnLFxuICAgICAgICAn16cnLFxuICAgICAgICAn16YnLFxuICAgICAgICAn16QnLFxuICAgICAgICAn16InLFxuICAgICAgICAn16EnLFxuICAgICAgICAn16AnLFxuICAgICAgICAn154nLFxuICAgICAgICAn15wnLFxuICAgICAgICAn15snLFxuICAgICAgICAn15nXmCcsXG4gICAgICAgICfXmdeXJyxcbiAgICAgICAgJ9eZ15YnLFxuICAgICAgICAn15jXlicsXG4gICAgICAgICfXmNeVJyxcbiAgICAgICAgJ9eZJyxcbiAgICAgICAgJ9eYJyxcbiAgICAgICAgJ9eXJyxcbiAgICAgICAgJ9eWJyxcbiAgICAgICAgJ9eVJyxcbiAgICAgICAgJ9eUJyxcbiAgICAgICAgJ9eTJyxcbiAgICAgICAgJ9eSJyxcbiAgICAgICAgJ9eRJyxcbiAgICAgICAgJ9eQJ1xuICAgIF1cbn07XG5cbmNvbnN0IEdFT1JHSUFOOiBDb3VudGVyU3ltYm9scyA9IHtcbiAgICBpbnRlZ2VyczogW1xuICAgICAgICAxMDAwMCxcbiAgICAgICAgOTAwMCxcbiAgICAgICAgODAwMCxcbiAgICAgICAgNzAwMCxcbiAgICAgICAgNjAwMCxcbiAgICAgICAgNTAwMCxcbiAgICAgICAgNDAwMCxcbiAgICAgICAgMzAwMCxcbiAgICAgICAgMjAwMCxcbiAgICAgICAgMTAwMCxcbiAgICAgICAgOTAwLFxuICAgICAgICA4MDAsXG4gICAgICAgIDcwMCxcbiAgICAgICAgNjAwLFxuICAgICAgICA1MDAsXG4gICAgICAgIDQwMCxcbiAgICAgICAgMzAwLFxuICAgICAgICAyMDAsXG4gICAgICAgIDEwMCxcbiAgICAgICAgOTAsXG4gICAgICAgIDgwLFxuICAgICAgICA3MCxcbiAgICAgICAgNjAsXG4gICAgICAgIDUwLFxuICAgICAgICA0MCxcbiAgICAgICAgMzAsXG4gICAgICAgIDIwLFxuICAgICAgICAxMCxcbiAgICAgICAgOSxcbiAgICAgICAgOCxcbiAgICAgICAgNyxcbiAgICAgICAgNixcbiAgICAgICAgNSxcbiAgICAgICAgNCxcbiAgICAgICAgMyxcbiAgICAgICAgMixcbiAgICAgICAgMVxuICAgIF0sXG4gICAgdmFsdWVzOiBbXG4gICAgICAgICfhg7UnLFxuICAgICAgICAn4YOwJyxcbiAgICAgICAgJ+GDrycsXG4gICAgICAgICfhg7QnLFxuICAgICAgICAn4YOuJyxcbiAgICAgICAgJ+GDrScsXG4gICAgICAgICfhg6wnLFxuICAgICAgICAn4YOrJyxcbiAgICAgICAgJ+GDqicsXG4gICAgICAgICfhg6knLFxuICAgICAgICAn4YOoJyxcbiAgICAgICAgJ+GDpycsXG4gICAgICAgICfhg6YnLFxuICAgICAgICAn4YOlJyxcbiAgICAgICAgJ+GDpCcsXG4gICAgICAgICfhg7MnLFxuICAgICAgICAn4YOiJyxcbiAgICAgICAgJ+GDoScsXG4gICAgICAgICfhg6AnLFxuICAgICAgICAn4YOfJyxcbiAgICAgICAgJ+GDnicsXG4gICAgICAgICfhg50nLFxuICAgICAgICAn4YOyJyxcbiAgICAgICAgJ+GDnCcsXG4gICAgICAgICfhg5snLFxuICAgICAgICAn4YOaJyxcbiAgICAgICAgJ+GDmScsXG4gICAgICAgICfhg5gnLFxuICAgICAgICAn4YOXJyxcbiAgICAgICAgJ+GDsScsXG4gICAgICAgICfhg5YnLFxuICAgICAgICAn4YOVJyxcbiAgICAgICAgJ+GDlCcsXG4gICAgICAgICfhg5MnLFxuICAgICAgICAn4YOSJyxcbiAgICAgICAgJ+GDkScsXG4gICAgICAgICfhg5AnXG4gICAgXVxufTtcblxuY29uc3QgY3JlYXRlQWRkaXRpdmVDb3VudGVyID0gKFxuICAgIHZhbHVlOiBudW1iZXIsXG4gICAgbWluOiBudW1iZXIsXG4gICAgbWF4OiBudW1iZXIsXG4gICAgc3ltYm9sczogQ291bnRlclN5bWJvbHMsXG4gICAgZmFsbGJhY2s6IExJU1RfU1RZTEVfVFlQRSxcbiAgICBzdWZmaXg6IHN0cmluZ1xuKSA9PiB7XG4gICAgaWYgKHZhbHVlIDwgbWluIHx8IHZhbHVlID4gbWF4KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyVGV4dCh2YWx1ZSwgZmFsbGJhY2ssIHN1ZmZpeC5sZW5ndGggPiAwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICBzeW1ib2xzLmludGVnZXJzLnJlZHVjZSgoc3RyaW5nLCBpbnRlZ2VyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgd2hpbGUgKHZhbHVlID49IGludGVnZXIpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSAtPSBpbnRlZ2VyO1xuICAgICAgICAgICAgICAgIHN0cmluZyArPSBzeW1ib2xzLnZhbHVlc1tpbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgICB9LCAnJykgKyBzdWZmaXhcbiAgICApO1xufTtcblxuY29uc3QgY3JlYXRlQ291bnRlclN0eWxlV2l0aFN5bWJvbFJlc29sdmVyID0gKFxuICAgIHZhbHVlOiBudW1iZXIsXG4gICAgY29kZVBvaW50UmFuZ2VMZW5ndGg6IG51bWJlcixcbiAgICBpc051bWVyaWM6IGJvb2xlYW4sXG4gICAgcmVzb2x2ZXI6IChjb2RlUG9pbnQ6IG51bWJlcikgPT4gc3RyaW5nXG4pOiBzdHJpbmcgPT4ge1xuICAgIGxldCBzdHJpbmcgPSAnJztcblxuICAgIGRvIHtcbiAgICAgICAgaWYgKCFpc051bWVyaWMpIHtcbiAgICAgICAgICAgIHZhbHVlLS07XG4gICAgICAgIH1cbiAgICAgICAgc3RyaW5nID0gcmVzb2x2ZXIodmFsdWUpICsgc3RyaW5nO1xuICAgICAgICB2YWx1ZSAvPSBjb2RlUG9pbnRSYW5nZUxlbmd0aDtcbiAgICB9IHdoaWxlICh2YWx1ZSAqIGNvZGVQb2ludFJhbmdlTGVuZ3RoID49IGNvZGVQb2ludFJhbmdlTGVuZ3RoKTtcblxuICAgIHJldHVybiBzdHJpbmc7XG59O1xuXG5jb25zdCBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UgPSAoXG4gICAgdmFsdWU6IG51bWJlcixcbiAgICBjb2RlUG9pbnRSYW5nZVN0YXJ0OiBudW1iZXIsXG4gICAgY29kZVBvaW50UmFuZ2VFbmQ6IG51bWJlcixcbiAgICBpc051bWVyaWM6IGJvb2xlYW4sXG4gICAgc3VmZml4OiBzdHJpbmdcbik6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgY29kZVBvaW50UmFuZ2VMZW5ndGggPSBjb2RlUG9pbnRSYW5nZUVuZCAtIGNvZGVQb2ludFJhbmdlU3RhcnQgKyAxO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgKHZhbHVlIDwgMCA/ICctJyA6ICcnKSArXG4gICAgICAgIChjcmVhdGVDb3VudGVyU3R5bGVXaXRoU3ltYm9sUmVzb2x2ZXIoTWF0aC5hYnModmFsdWUpLCBjb2RlUG9pbnRSYW5nZUxlbmd0aCwgaXNOdW1lcmljLCBjb2RlUG9pbnQgPT5cbiAgICAgICAgICAgIGZyb21Db2RlUG9pbnQoTWF0aC5mbG9vcihjb2RlUG9pbnQgJSBjb2RlUG9pbnRSYW5nZUxlbmd0aCkgKyBjb2RlUG9pbnRSYW5nZVN0YXJ0KVxuICAgICAgICApICtcbiAgICAgICAgICAgIHN1ZmZpeClcbiAgICApO1xufTtcblxuY29uc3QgY3JlYXRlQ291bnRlclN0eWxlRnJvbVN5bWJvbHMgPSAodmFsdWU6IG51bWJlciwgc3ltYm9sczogc3RyaW5nLCBzdWZmaXg6IHN0cmluZyA9ICcuICcpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGNvZGVQb2ludFJhbmdlTGVuZ3RoID0gc3ltYm9scy5sZW5ndGg7XG4gICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRlQ291bnRlclN0eWxlV2l0aFN5bWJvbFJlc29sdmVyKFxuICAgICAgICAgICAgTWF0aC5hYnModmFsdWUpLFxuICAgICAgICAgICAgY29kZVBvaW50UmFuZ2VMZW5ndGgsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIGNvZGVQb2ludCA9PiBzeW1ib2xzW01hdGguZmxvb3IoY29kZVBvaW50ICUgY29kZVBvaW50UmFuZ2VMZW5ndGgpXVxuICAgICAgICApICsgc3VmZml4XG4gICAgKTtcbn07XG5cbmNvbnN0IENKS19aRVJPUyA9IDEgPDwgMDtcbmNvbnN0IENKS19URU5fQ09FRkZJQ0lFTlRTID0gMSA8PCAxO1xuY29uc3QgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UUyA9IDEgPDwgMjtcbmNvbnN0IENKS19IVU5EUkVEX0NPRUZGSUNJRU5UUyA9IDEgPDwgMztcblxuY29uc3QgY3JlYXRlQ0pLQ291bnRlciA9IChcbiAgICB2YWx1ZTogbnVtYmVyLFxuICAgIG51bWJlcnM6IHN0cmluZyxcbiAgICBtdWx0aXBsaWVyczogc3RyaW5nLFxuICAgIG5lZ2F0aXZlU2lnbjogc3RyaW5nLFxuICAgIHN1ZmZpeDogc3RyaW5nLFxuICAgIGZsYWdzOiBudW1iZXJcbik6IHN0cmluZyA9PiB7XG4gICAgaWYgKHZhbHVlIDwgLTk5OTkgfHwgdmFsdWUgPiA5OTk5KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyVGV4dCh2YWx1ZSwgTElTVF9TVFlMRV9UWVBFLkNKS19ERUNJTUFMLCBzdWZmaXgubGVuZ3RoID4gMCk7XG4gICAgfVxuICAgIGxldCB0bXAgPSBNYXRoLmFicyh2YWx1ZSk7XG4gICAgbGV0IHN0cmluZyA9IHN1ZmZpeDtcblxuICAgIGlmICh0bXAgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bWJlcnNbMF0gKyBzdHJpbmc7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgZGlnaXQgPSAwOyB0bXAgPiAwICYmIGRpZ2l0IDw9IDQ7IGRpZ2l0KyspIHtcbiAgICAgICAgbGV0IGNvZWZmaWNpZW50ID0gdG1wICUgMTA7XG5cbiAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwICYmIGNvbnRhaW5zKGZsYWdzLCBDSktfWkVST1MpICYmIHN0cmluZyAhPT0gJycpIHtcbiAgICAgICAgICAgIHN0cmluZyA9IG51bWJlcnNbY29lZmZpY2llbnRdICsgc3RyaW5nO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgY29lZmZpY2llbnQgPiAxIHx8XG4gICAgICAgICAgICAoY29lZmZpY2llbnQgPT09IDEgJiYgZGlnaXQgPT09IDApIHx8XG4gICAgICAgICAgICAoY29lZmZpY2llbnQgPT09IDEgJiYgZGlnaXQgPT09IDEgJiYgY29udGFpbnMoZmxhZ3MsIENKS19URU5fQ09FRkZJQ0lFTlRTKSkgfHxcbiAgICAgICAgICAgIChjb2VmZmljaWVudCA9PT0gMSAmJiBkaWdpdCA9PT0gMSAmJiBjb250YWlucyhmbGFncywgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UUykgJiYgdmFsdWUgPiAxMDApIHx8XG4gICAgICAgICAgICAoY29lZmZpY2llbnQgPT09IDEgJiYgZGlnaXQgPiAxICYmIGNvbnRhaW5zKGZsYWdzLCBDSktfSFVORFJFRF9DT0VGRklDSUVOVFMpKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHN0cmluZyA9IG51bWJlcnNbY29lZmZpY2llbnRdICsgKGRpZ2l0ID4gMCA/IG11bHRpcGxpZXJzW2RpZ2l0IC0gMV0gOiAnJykgKyBzdHJpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAoY29lZmZpY2llbnQgPT09IDEgJiYgZGlnaXQgPiAwKSB7XG4gICAgICAgICAgICBzdHJpbmcgPSBtdWx0aXBsaWVyc1tkaWdpdCAtIDFdICsgc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIHRtcCA9IE1hdGguZmxvb3IodG1wIC8gMTApO1xuICAgIH1cblxuICAgIHJldHVybiAodmFsdWUgPCAwID8gbmVnYXRpdmVTaWduIDogJycpICsgc3RyaW5nO1xufTtcblxuY29uc3QgQ0hJTkVTRV9JTkZPUk1BTF9NVUxUSVBMSUVSUyA9ICfljYHnmb7ljYPokKwnO1xuY29uc3QgQ0hJTkVTRV9GT1JNQUxfTVVMVElQTElFUlMgPSAn5ou+5L2w5Luf6JCsJztcbmNvbnN0IEpBUEFORVNFX05FR0FUSVZFID0gJ+ODnuOCpOODiuOCuSc7XG5jb25zdCBLT1JFQU5fTkVHQVRJVkUgPSAn66eI7J2064SI7IqkJztcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvdW50ZXJUZXh0ID0gKHZhbHVlOiBudW1iZXIsIHR5cGU6IExJU1RfU1RZTEVfVFlQRSwgYXBwZW5kU3VmZml4OiBib29sZWFuKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCBkZWZhdWx0U3VmZml4ID0gYXBwZW5kU3VmZml4ID8gJy4gJyA6ICcnO1xuICAgIGNvbnN0IGNqa1N1ZmZpeCA9IGFwcGVuZFN1ZmZpeCA/ICfjgIEnIDogJyc7XG4gICAgY29uc3Qga29yZWFuU3VmZml4ID0gYXBwZW5kU3VmZml4ID8gJywgJyA6ICcnO1xuICAgIGNvbnN0IHNwYWNlU3VmZml4ID0gYXBwZW5kU3VmZml4ID8gJyAnIDogJyc7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkRJU0M6XG4gICAgICAgICAgICByZXR1cm4gJ+KAoicgKyBzcGFjZVN1ZmZpeDtcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuQ0lSQ0xFOlxuICAgICAgICAgICAgcmV0dXJuICfil6YnICsgc3BhY2VTdWZmaXg7XG4gICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlNRVUFSRTpcbiAgICAgICAgICAgIHJldHVybiAn4pe+JyArIHNwYWNlU3VmZml4O1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5ERUNJTUFMX0xFQURJTkdfWkVSTzpcbiAgICAgICAgICAgIGNvbnN0IHN0cmluZyA9IGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgNDgsIDU3LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmcubGVuZ3RoIDwgNCA/IGAwJHtzdHJpbmd9YCA6IHN0cmluZztcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuQ0pLX0RFQ0lNQUw6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVN5bWJvbHModmFsdWUsICfjgIfkuIDkuozkuInlm5vkupTlha3kuIPlhavkuZ0nLCBjamtTdWZmaXgpO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5MT1dFUl9ST01BTjpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVBZGRpdGl2ZUNvdW50ZXIoXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAzOTk5LFxuICAgICAgICAgICAgICAgIFJPTUFOX1VQUEVSLFxuICAgICAgICAgICAgICAgIExJU1RfU1RZTEVfVFlQRS5ERUNJTUFMLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRTdWZmaXhcbiAgICAgICAgICAgICkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuVVBQRVJfUk9NQU46XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQWRkaXRpdmVDb3VudGVyKHZhbHVlLCAxLCAzOTk5LCBST01BTl9VUFBFUiwgTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUwsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5MT1dFUl9HUkVFSzpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDk0NSwgOTY5LCBmYWxzZSwgZGVmYXVsdFN1ZmZpeCk7XG4gICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkxPV0VSX0FMUEhBOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgOTcsIDEyMiwgZmFsc2UsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5VUFBFUl9BTFBIQTpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDY1LCA5MCwgZmFsc2UsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5BUkFCSUNfSU5ESUM6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAxNjMyLCAxNjQxLCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuQVJNRU5JQU46XG4gICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlVQUEVSX0FSTUVOSUFOOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFkZGl0aXZlQ291bnRlcih2YWx1ZSwgMSwgOTk5OSwgQVJNRU5JQU4sIExJU1RfU1RZTEVfVFlQRS5ERUNJTUFMLCBkZWZhdWx0U3VmZml4KTtcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfQVJNRU5JQU46XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQWRkaXRpdmVDb3VudGVyKFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgOTk5OSxcbiAgICAgICAgICAgICAgICBBUk1FTklBTixcbiAgICAgICAgICAgICAgICBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTCxcbiAgICAgICAgICAgICAgICBkZWZhdWx0U3VmZml4XG4gICAgICAgICAgICApLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkJFTkdBTEk6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAyNTM0LCAyNTQzLCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuQ0FNQk9ESUFOOlxuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5LSE1FUjpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDYxMTIsIDYxMjEsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5DSktfRUFSVEhMWV9CUkFOQ0g6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVN5bWJvbHModmFsdWUsICflrZDkuJHlr4Xlja/ovrDlt7PljYjmnKrnlLPphYnmiIzkuqUnLCBjamtTdWZmaXgpO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5DSktfSEVBVkVOTFlfU1RFTTpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyh2YWx1ZSwgJ+eUsuS5meS4meS4geaIiuW3seW6mui+m+WjrOeZuCcsIGNqa1N1ZmZpeCk7XG4gICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkNKS19JREVPR1JBUEhJQzpcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuVFJBRF9DSElORVNFX0lORk9STUFMOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIoXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgJ+mbtuS4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsXG4gICAgICAgICAgICAgICAgQ0hJTkVTRV9JTkZPUk1BTF9NVUxUSVBMSUVSUyxcbiAgICAgICAgICAgICAgICAn6LKgJyxcbiAgICAgICAgICAgICAgICBjamtTdWZmaXgsXG4gICAgICAgICAgICAgICAgQ0pLX1RFTl9DT0VGRklDSUVOVFMgfCBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTIHwgQ0pLX0hVTkRSRURfQ09FRkZJQ0lFTlRTXG4gICAgICAgICAgICApO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5UUkFEX0NISU5FU0VfRk9STUFMOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIoXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgJ+mbtuWjueiys+WPg+iChuS8jemZuOafkuaNjOeOlicsXG4gICAgICAgICAgICAgICAgQ0hJTkVTRV9GT1JNQUxfTVVMVElQTElFUlMsXG4gICAgICAgICAgICAgICAgJ+iyoCcsXG4gICAgICAgICAgICAgICAgY2prU3VmZml4LFxuICAgICAgICAgICAgICAgIENKS19aRVJPUyB8IENKS19URU5fQ09FRkZJQ0lFTlRTIHwgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UUyB8IENKS19IVU5EUkVEX0NPRUZGSUNJRU5UU1xuICAgICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuU0lNUF9DSElORVNFX0lORk9STUFMOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIoXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgJ+mbtuS4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsXG4gICAgICAgICAgICAgICAgQ0hJTkVTRV9JTkZPUk1BTF9NVUxUSVBMSUVSUyxcbiAgICAgICAgICAgICAgICAn6LSfJyxcbiAgICAgICAgICAgICAgICBjamtTdWZmaXgsXG4gICAgICAgICAgICAgICAgQ0pLX1RFTl9DT0VGRklDSUVOVFMgfCBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTIHwgQ0pLX0hVTkRSRURfQ09FRkZJQ0lFTlRTXG4gICAgICAgICAgICApO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5TSU1QX0NISU5FU0VfRk9STUFMOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIoXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgJ+mbtuWjuei0sOWPgeiChuS8jemZhuafkuaNjOeOlicsXG4gICAgICAgICAgICAgICAgQ0hJTkVTRV9GT1JNQUxfTVVMVElQTElFUlMsXG4gICAgICAgICAgICAgICAgJ+i0nycsXG4gICAgICAgICAgICAgICAgY2prU3VmZml4LFxuICAgICAgICAgICAgICAgIENKS19aRVJPUyB8IENKS19URU5fQ09FRkZJQ0lFTlRTIHwgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UUyB8IENKS19IVU5EUkVEX0NPRUZGSUNJRU5UU1xuICAgICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuSkFQQU5FU0VfSU5GT1JNQUw6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+OAh+S4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsICfljYHnmb7ljYPkuIcnLCBKQVBBTkVTRV9ORUdBVElWRSwgY2prU3VmZml4LCAwKTtcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuSkFQQU5FU0VfRk9STUFMOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIoXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgJ+mbtuWjseW8kOWPguWbm+S8jeWFreS4g+WFq+S5nScsXG4gICAgICAgICAgICAgICAgJ+aLvueZvuWNg+S4hycsXG4gICAgICAgICAgICAgICAgSkFQQU5FU0VfTkVHQVRJVkUsXG4gICAgICAgICAgICAgICAgY2prU3VmZml4LFxuICAgICAgICAgICAgICAgIENKS19aRVJPUyB8IENKS19URU5fQ09FRkZJQ0lFTlRTIHwgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UU1xuICAgICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuS09SRUFOX0hBTkdVTF9GT1JNQUw6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcihcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAn7JiB7J287J207IK87IKs7Jik7Jyh7Lmg7YyU6rWsJyxcbiAgICAgICAgICAgICAgICAn7Iut67Cx7LKc66eMJyxcbiAgICAgICAgICAgICAgICBLT1JFQU5fTkVHQVRJVkUsXG4gICAgICAgICAgICAgICAga29yZWFuU3VmZml4LFxuICAgICAgICAgICAgICAgIENKS19aRVJPUyB8IENKS19URU5fQ09FRkZJQ0lFTlRTIHwgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UU1xuICAgICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuS09SRUFOX0hBTkpBX0lORk9STUFMOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIodmFsdWUsICfpm7bkuIDkuozkuInlm5vkupTlha3kuIPlhavkuZ0nLCAn5Y2B55m+5Y2D6JCsJywgS09SRUFOX05FR0FUSVZFLCBrb3JlYW5TdWZmaXgsIDApO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5LT1JFQU5fSEFOSkFfRk9STUFMOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNKS0NvdW50ZXIoXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgJ+mbtuWjueiys+WPg+Wbm+S6lOWFreS4g+WFq+S5nScsXG4gICAgICAgICAgICAgICAgJ+aLvueZvuWNgycsXG4gICAgICAgICAgICAgICAgS09SRUFOX05FR0FUSVZFLFxuICAgICAgICAgICAgICAgIGtvcmVhblN1ZmZpeCxcbiAgICAgICAgICAgICAgICBDSktfWkVST1MgfCBDSktfVEVOX0NPRUZGSUNJRU5UUyB8IENKS19URU5fSElHSF9DT0VGRklDSUVOVFNcbiAgICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkRFVkFOQUdBUkk6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweDk2NiwgMHg5NmYsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5HRU9SR0lBTjpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVBZGRpdGl2ZUNvdW50ZXIodmFsdWUsIDEsIDE5OTk5LCBHRU9SR0lBTiwgTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUwsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5HVUpBUkFUSTpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4YWU2LCAweGFlZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XG4gICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkdVUk1VS0hJOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhhNjYsIDB4YTZmLCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuSEVCUkVXOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFkZGl0aXZlQ291bnRlcih2YWx1ZSwgMSwgMTA5OTksIEhFQlJFVywgTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUwsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5ISVJBR0FOQTpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyhcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAn44GC44GE44GG44GI44GK44GL44GN44GP44GR44GT44GV44GX44GZ44Gb44Gd44Gf44Gh44Gk44Gm44Go44Gq44Gr44Gs44Gt44Gu44Gv44Gy44G144G444G744G+44G/44KA44KB44KC44KE44KG44KI44KJ44KK44KL44KM44KN44KP44KQ44KR44KS44KTJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuSElSQUdBTkFfSVJPSEE6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVN5bWJvbHMoXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgJ+OBhOOCjeOBr+OBq+OBu+OBuOOBqOOBoeOCiuOBrOOCi+OCkuOCj+OBi+OCiOOBn+OCjOOBneOBpOOBreOBquOCieOCgOOBhuOCkOOBruOBiuOBj+OChOOBvuOBkeOBteOBk+OBiOOBpuOBguOBleOBjeOChuOCgeOBv+OBl+OCkeOBsuOCguOBm+OBmSdcbiAgICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLktBTk5BREE6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweGNlNiwgMHhjZWYsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5LQVRBS0FOQTpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyhcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAn44Ki44Kk44Km44Ko44Kq44Kr44Kt44Kv44Kx44Kz44K144K344K544K744K944K/44OB44OE44OG44OI44OK44OL44OM44ON44OO44OP44OS44OV44OY44Ob44Oe44Of44Og44Oh44Oi44Ok44Om44Oo44Op44Oq44Or44Os44Ot44Ov44Ow44Ox44Oy44OzJyxcbiAgICAgICAgICAgICAgICBjamtTdWZmaXhcbiAgICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLktBVEFLQU5BX0lST0hBOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICfjgqTjg63jg4/jg4vjg5vjg5jjg4jjg4Hjg6rjg4zjg6vjg7Ljg6/jgqvjg6jjgr/jg6zjgr3jg4Tjg43jg4rjg6njg6Djgqbjg7Djg47jgqrjgq/jg6Tjg57jgrHjg5XjgrPjgqjjg4bjgqLjgrXjgq3jg6bjg6Hjg5/jgrfjg7Hjg5Ljg6LjgrvjgrknLFxuICAgICAgICAgICAgICAgIGNqa1N1ZmZpeFxuICAgICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuTEFPOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhlZDAsIDB4ZWQ5LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuTU9OR09MSUFOOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHgxODEwLCAweDE4MTksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5NWUFOTUFSOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHgxMDQwLCAweDEwNDksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5PUklZQTpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4YjY2LCAweGI2ZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XG4gICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlBFUlNJQU46XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweDZmMCwgMHg2ZjksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5UQU1JTDpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4YmU2LCAweGJlZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XG4gICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlRFTFVHVTpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4YzY2LCAweGM2ZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XG4gICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlRIQUk6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweGU1MCwgMHhlNTksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xuICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5USUJFVEFOOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhmMjAsIDB4ZjI5LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcbiAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDQ4LCA1NywgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7Qm91bmRzfSBmcm9tICcuLi9jc3MvbGF5b3V0L2JvdW5kcyc7XG5pbXBvcnQge1xuICAgIGlzQm9keUVsZW1lbnQsXG4gICAgaXNDYW52YXNFbGVtZW50LFxuICAgIGlzRWxlbWVudE5vZGUsXG4gICAgaXNIVE1MRWxlbWVudE5vZGUsXG4gICAgaXNJRnJhbWVFbGVtZW50LFxuICAgIGlzSW1hZ2VFbGVtZW50LFxuICAgIGlzU2NyaXB0RWxlbWVudCxcbiAgICBpc1NlbGVjdEVsZW1lbnQsXG4gICAgaXNTdHlsZUVsZW1lbnQsXG4gICAgaXNTVkdFbGVtZW50Tm9kZSxcbiAgICBpc1RleHRhcmVhRWxlbWVudCxcbiAgICBpc1RleHROb2RlXG59IGZyb20gJy4vbm9kZS1wYXJzZXInO1xuaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4uL2NvcmUvbG9nZ2VyJztcbmltcG9ydCB7aXNJZGVudFRva2VuLCBub25GdW5jdGlvbkFyZ1NlcGFyYXRvcn0gZnJvbSAnLi4vY3NzL3N5bnRheC9wYXJzZXInO1xuaW1wb3J0IHtUb2tlblR5cGV9IGZyb20gJy4uL2Nzcy9zeW50YXgvdG9rZW5pemVyJztcbmltcG9ydCB7Q291bnRlclN0YXRlLCBjcmVhdGVDb3VudGVyVGV4dH0gZnJvbSAnLi4vY3NzL3R5cGVzL2Z1bmN0aW9ucy9jb3VudGVyJztcbmltcG9ydCB7TElTVF9TVFlMRV9UWVBFLCBsaXN0U3R5bGVUeXBlfSBmcm9tICcuLi9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvbGlzdC1zdHlsZS10eXBlJztcbmltcG9ydCB7Q1NTUGFyc2VkQ291bnRlckRlY2xhcmF0aW9uLCBDU1NQYXJzZWRQc2V1ZG9EZWNsYXJhdGlvbn0gZnJvbSAnLi4vY3NzL2luZGV4JztcbmltcG9ydCB7Z2V0UXVvdGV9IGZyb20gJy4uL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9xdW90ZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIENsb25lT3B0aW9ucyB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBpZ25vcmVFbGVtZW50cz86IChlbGVtZW50OiBFbGVtZW50KSA9PiBib29sZWFuO1xuICAgIG9uY2xvbmU/OiAoZG9jdW1lbnQ6IERvY3VtZW50KSA9PiB2b2lkO1xufVxuXG5leHBvcnQgdHlwZSBDbG9uZUNvbmZpZ3VyYXRpb25zID0gQ2xvbmVPcHRpb25zICYge1xuICAgIGlubGluZUltYWdlczogYm9vbGVhbjtcbiAgICBjb3B5U3R5bGVzOiBib29sZWFuO1xufTtcblxuY29uc3QgSUdOT1JFX0FUVFJJQlVURSA9ICdkYXRhLWh0bWwyY2FudmFzLWlnbm9yZSc7XG5cbmV4cG9ydCBjbGFzcyBEb2N1bWVudENsb25lciB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBzY3JvbGxlZEVsZW1lbnRzOiBbRWxlbWVudCwgbnVtYmVyLCBudW1iZXJdW107XG4gICAgcHJpdmF0ZSByZWFkb25seSBvcHRpb25zOiBDbG9uZUNvbmZpZ3VyYXRpb25zO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcmVmZXJlbmNlRWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgY2xvbmVkUmVmZXJlbmNlRWxlbWVudD86IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZG9jdW1lbnRFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvdW50ZXJzOiBDb3VudGVyU3RhdGU7XG4gICAgcHJpdmF0ZSBxdW90ZURlcHRoOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRWxlbWVudCwgb3B0aW9uczogQ2xvbmVDb25maWd1cmF0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnNjcm9sbGVkRWxlbWVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5jb3VudGVycyA9IG5ldyBDb3VudGVyU3RhdGUoKTtcbiAgICAgICAgdGhpcy5xdW90ZURlcHRoID0gMDtcbiAgICAgICAgaWYgKCFlbGVtZW50Lm93bmVyRG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2xvbmVkIGVsZW1lbnQgZG9lcyBub3QgaGF2ZSBhbiBvd25lciBkb2N1bWVudCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kb2N1bWVudEVsZW1lbnQgPSB0aGlzLmNsb25lTm9kZShlbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSBhcyBIVE1MRWxlbWVudDtcbiAgICB9XG5cbiAgICB0b0lGcmFtZShvd25lckRvY3VtZW50OiBEb2N1bWVudCwgd2luZG93U2l6ZTogQm91bmRzKTogUHJvbWlzZTxIVE1MSUZyYW1lRWxlbWVudD4ge1xuICAgICAgICBjb25zdCBpZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50ID0gY3JlYXRlSUZyYW1lQ29udGFpbmVyKG93bmVyRG9jdW1lbnQsIHdpbmRvd1NpemUpO1xuXG4gICAgICAgIGlmICghaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgVW5hYmxlIHRvIGZpbmQgaWZyYW1lIHdpbmRvd2ApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2Nyb2xsWCA9IChvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IGFzIFdpbmRvdykucGFnZVhPZmZzZXQ7XG4gICAgICAgIGNvbnN0IHNjcm9sbFkgPSAob3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyBhcyBXaW5kb3cpLnBhZ2VZT2Zmc2V0O1xuXG4gICAgICAgIGNvbnN0IGNsb25lV2luZG93ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3c7XG4gICAgICAgIGNvbnN0IGRvY3VtZW50Q2xvbmU6IERvY3VtZW50ID0gY2xvbmVXaW5kb3cuZG9jdW1lbnQ7XG5cbiAgICAgICAgLyogQ2hyb21lIGRvZXNuJ3QgZGV0ZWN0IHJlbGF0aXZlIGJhY2tncm91bmQtaW1hZ2VzIGFzc2lnbmVkIGluIGlubGluZSA8c3R5bGU+IHNoZWV0cyB3aGVuIGZldGNoZWQgdGhyb3VnaCBnZXRDb21wdXRlZFN0eWxlXG4gICAgICAgICBpZiB3aW5kb3cgdXJsIGlzIGFib3V0OmJsYW5rLCB3ZSBjYW4gYXNzaWduIHRoZSB1cmwgdG8gY3VycmVudCBieSB3cml0aW5nIG9udG8gdGhlIGRvY3VtZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIGNvbnN0IGlmcmFtZUxvYWQgPSBpZnJhbWVMb2FkZXIoaWZyYW1lKS50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsZWRFbGVtZW50cy5mb3JFYWNoKHJlc3RvcmVOb2RlU2Nyb2xsKTtcbiAgICAgICAgICAgIGlmIChjbG9uZVdpbmRvdykge1xuICAgICAgICAgICAgICAgIGNsb25lV2luZG93LnNjcm9sbFRvKHdpbmRvd1NpemUubGVmdCwgd2luZG93U2l6ZS50b3ApO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgLyhpUGFkfGlQaG9uZXxpUG9kKS9nLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGNsb25lV2luZG93LnNjcm9sbFkgIT09IHdpbmRvd1NpemUudG9wIHx8IGNsb25lV2luZG93LnNjcm9sbFggIT09IHdpbmRvd1NpemUubGVmdClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRDbG9uZS5kb2N1bWVudEVsZW1lbnQuc3R5bGUudG9wID0gLXdpbmRvd1NpemUudG9wICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRDbG9uZS5kb2N1bWVudEVsZW1lbnQuc3R5bGUubGVmdCA9IC13aW5kb3dTaXplLmxlZnQgKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudENsb25lLmRvY3VtZW50RWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBvbmNsb25lID0gdGhpcy5vcHRpb25zLm9uY2xvbmU7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5jbG9uZWRSZWZlcmVuY2VFbGVtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3IgZmluZGluZyB0aGUgJHt0aGlzLnJlZmVyZW5jZUVsZW1lbnQubm9kZU5hbWV9IGluIHRoZSBjbG9uZWQgZG9jdW1lbnRgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRvY3VtZW50Q2xvbmUuZm9udHMgJiYgZG9jdW1lbnRDbG9uZS5mb250cy5yZWFkeSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGRvY3VtZW50Q2xvbmUuZm9udHMucmVhZHk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25jbG9uZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiBvbmNsb25lKGRvY3VtZW50Q2xvbmUpKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiBpZnJhbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaWZyYW1lO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudENsb25lLm9wZW4oKTtcbiAgICAgICAgZG9jdW1lbnRDbG9uZS53cml0ZShgJHtzZXJpYWxpemVEb2N0eXBlKGRvY3VtZW50LmRvY3R5cGUpfTxodG1sPjwvaHRtbD5gKTtcbiAgICAgICAgLy8gQ2hyb21lIHNjcm9sbHMgdGhlIHBhcmVudCBkb2N1bWVudCBmb3Igc29tZSByZWFzb24gYWZ0ZXIgdGhlIHdyaXRlIHRvIHRoZSBjbG9uZWQgd2luZG93Pz8/XG4gICAgICAgIHJlc3RvcmVPd25lclNjcm9sbCh0aGlzLnJlZmVyZW5jZUVsZW1lbnQub3duZXJEb2N1bWVudCwgc2Nyb2xsWCwgc2Nyb2xsWSk7XG4gICAgICAgIGRvY3VtZW50Q2xvbmUucmVwbGFjZUNoaWxkKGRvY3VtZW50Q2xvbmUuYWRvcHROb2RlKHRoaXMuZG9jdW1lbnRFbGVtZW50KSwgZG9jdW1lbnRDbG9uZS5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgICBkb2N1bWVudENsb25lLmNsb3NlKCk7XG5cbiAgICAgICAgcmV0dXJuIGlmcmFtZUxvYWQ7XG4gICAgfVxuXG4gICAgY3JlYXRlRWxlbWVudENsb25lPFQgZXh0ZW5kcyBIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnQ+KG5vZGU6IFQpOiBIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnQge1xuICAgICAgICBpZiAoaXNDYW52YXNFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVDYW52YXNDbG9uZShub2RlKTtcbiAgICAgICAgfVxuICAgICAgICAvKlxuICAgICAgICBpZiAoaXNJRnJhbWVFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVJRnJhbWVDbG9uZShub2RlKTtcbiAgICAgICAgfVxuKi9cbiAgICAgICAgaWYgKGlzU3R5bGVFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVTdHlsZUNsb25lKG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2xvbmUgPSBub2RlLmNsb25lTm9kZShmYWxzZSkgYXMgVDtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoaXNJbWFnZUVsZW1lbnQoY2xvbmUpICYmIGNsb25lLmxvYWRpbmcgPT09ICdsYXp5Jykge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgY2xvbmUubG9hZGluZyA9ICdlYWdlcic7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxuXG4gICAgY3JlYXRlU3R5bGVDbG9uZShub2RlOiBIVE1MU3R5bGVFbGVtZW50KTogSFRNTFN0eWxlRWxlbWVudCB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzaGVldCA9IG5vZGUuc2hlZXQgYXMgQ1NTU3R5bGVTaGVldCB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChzaGVldCAmJiBzaGVldC5jc3NSdWxlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNzczogc3RyaW5nID0gW10uc2xpY2UuY2FsbChzaGVldC5jc3NSdWxlcywgMCkucmVkdWNlKChjc3M6IHN0cmluZywgcnVsZTogQ1NTUnVsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocnVsZSAmJiB0eXBlb2YgcnVsZS5jc3NUZXh0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNzcyArIHJ1bGUuY3NzVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3NzO1xuICAgICAgICAgICAgICAgIH0sICcnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZSA9IG5vZGUuY2xvbmVOb2RlKGZhbHNlKSBhcyBIVE1MU3R5bGVFbGVtZW50O1xuICAgICAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gY3NzO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gYWNjZXNzaW5nIG5vZGUuc2hlZXQuY3NzUnVsZXMgdGhyb3dzIGEgRE9NRXhjZXB0aW9uXG4gICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UodGhpcy5vcHRpb25zLmlkKS5lcnJvcignVW5hYmxlIHRvIGFjY2VzcyBjc3NSdWxlcyBwcm9wZXJ0eScsIGUpO1xuICAgICAgICAgICAgaWYgKGUubmFtZSAhPT0gJ1NlY3VyaXR5RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZS5jbG9uZU5vZGUoZmFsc2UpIGFzIEhUTUxTdHlsZUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgY3JlYXRlQ2FudmFzQ2xvbmUoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCk6IEhUTUxJbWFnZUVsZW1lbnQgfCBIVE1MQ2FudmFzRWxlbWVudCB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5saW5lSW1hZ2VzICYmIGNhbnZhcy5vd25lckRvY3VtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBpbWcgPSBjYW52YXMub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaW1nLnNyYyA9IGNhbnZhcy50b0RhdGFVUkwoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW1nO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZSh0aGlzLm9wdGlvbnMuaWQpLmluZm8oYFVuYWJsZSB0byBjbG9uZSBjYW52YXMgY29udGVudHMsIGNhbnZhcyBpcyB0YWludGVkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjbG9uZWRDYW52YXMgPSBjYW52YXMuY2xvbmVOb2RlKGZhbHNlKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2xvbmVkQ2FudmFzLndpZHRoID0gY2FudmFzLndpZHRoO1xuICAgICAgICAgICAgY2xvbmVkQ2FudmFzLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lZEN0eCA9IGNsb25lZENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgaWYgKGNsb25lZEN0eCkge1xuICAgICAgICAgICAgICAgIGlmIChjdHgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkQ3R4LnB1dEltYWdlRGF0YShjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCksIDAsIDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb25lZEN0eC5kcmF3SW1hZ2UoY2FudmFzLCAwLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2xvbmVkQ2FudmFzO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICAgIHJldHVybiBjbG9uZWRDYW52YXM7XG4gICAgfVxuICAgIC8qXG4gICAgY3JlYXRlSUZyYW1lQ2xvbmUoaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICBjb25zdCB0ZW1wSWZyYW1lID0gPEhUTUxJRnJhbWVFbGVtZW50PmlmcmFtZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICBjb25zdCBpZnJhbWVLZXkgPSBnZW5lcmF0ZUlmcmFtZUtleSgpO1xuICAgICAgICB0ZW1wSWZyYW1lLnNldEF0dHJpYnV0ZSgnZGF0YS1odG1sMmNhbnZhcy1pbnRlcm5hbC1pZnJhbWUta2V5JywgaWZyYW1lS2V5KTtcblxuICAgICAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBwYXJzZUJvdW5kcyhpZnJhbWUpO1xuXG4gICAgICAgIHRoaXMucmVzb3VyY2VMb2FkZXIuY2FjaGVbaWZyYW1lS2V5XSA9IGdldElmcmFtZURvY3VtZW50RWxlbWVudChpZnJhbWUsIHRoaXMub3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKGRvY3VtZW50RWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIoXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dUYWludDogdGhpcy5vcHRpb25zLmFsbG93VGFpbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVGltZW91dDogdGhpcy5vcHRpb25zLmltYWdlVGltZW91dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmc6IHRoaXMub3B0aW9ucy5sb2dnaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJveHk6IHRoaXMub3B0aW9ucy5wcm94eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNvbnRhaW5lcjogdGhpcy5vcHRpb25zLnJlbW92ZUNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiB0aGlzLm9wdGlvbnMuc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JlaWduT2JqZWN0UmVuZGVyaW5nOiB0aGlzLm9wdGlvbnMuZm9yZWlnbk9iamVjdFJlbmRlcmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZUNPUlM6IHRoaXMub3B0aW9ucy51c2VDT1JTLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBuZXcgQ2FudmFzUmVuZGVyZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dXaWR0aDogZG9jdW1lbnRFbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuaW5uZXJXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0hlaWdodDogZG9jdW1lbnRFbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuaW5uZXJIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxYOiBkb2N1bWVudEVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5wYWdlWE9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFk6IGRvY3VtZW50RWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnBhZ2VZT2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihcbiAgICAgICAgICAgICAgICAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkgPT5cbiAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWZyYW1lQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWVDYW52YXMub25sb2FkID0gKCkgPT4gcmVzb2x2ZShjYW52YXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lQ2FudmFzLm9uZXJyb3IgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFbXB0eSBpZnJhbWVzIG1heSByZXN1bHQgaW4gZW1wdHkgXCJkYXRhOixcIiBVUkxzLCB3aGljaCBhcmUgaW52YWxpZCBmcm9tIHRoZSA8aW1nPidzIHBvaW50IG9mIHZpZXdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgaW5zdGVhZCBvZiBgb25sb2FkYCBjYXVzZSBgb25lcnJvcmAgYW5kIHVuaGFuZGxlZCByZWplY3Rpb24gd2FybmluZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbmlrbGFzdmgvaHRtbDJjYW52YXMvaXNzdWVzLzE1MDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWVDYW52YXMuc3JjID09ICdkYXRhOiwnID8gcmVzb2x2ZShjYW52YXMpIDogcmVqZWN0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWVDYW52YXMuc3JjID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBJZnJhbWUucGFyZW50Tm9kZSAmJiBpZnJhbWUub3duZXJEb2N1bWVudCAmJiBpZnJhbWUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBJZnJhbWUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlDU1NTdHlsZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGlmcmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWVDYW52YXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcElmcmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGVtcElmcmFtZTtcbiAgICB9XG4qL1xuICAgIGNsb25lTm9kZShub2RlOiBOb2RlKTogTm9kZSB7XG4gICAgICAgIGlmIChpc1RleHROb2RlKG5vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobm9kZS5kYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbm9kZS5vd25lckRvY3VtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd2luZG93ID0gbm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXG4gICAgICAgIGlmICh3aW5kb3cgJiYgaXNFbGVtZW50Tm9kZShub2RlKSAmJiAoaXNIVE1MRWxlbWVudE5vZGUobm9kZSkgfHwgaXNTVkdFbGVtZW50Tm9kZShub2RlKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lID0gdGhpcy5jcmVhdGVFbGVtZW50Q2xvbmUobm9kZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgICAgICAgICBjb25zdCBzdHlsZUJlZm9yZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUsICc6YmVmb3JlJyk7XG4gICAgICAgICAgICBjb25zdCBzdHlsZUFmdGVyID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSwgJzphZnRlcicpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5yZWZlcmVuY2VFbGVtZW50ID09PSBub2RlICYmIGlzSFRNTEVsZW1lbnROb2RlKGNsb25lKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvbmVkUmVmZXJlbmNlRWxlbWVudCA9IGNsb25lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzQm9keUVsZW1lbnQoY2xvbmUpKSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlUHNldWRvSGlkZVN0eWxlcyhjbG9uZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvdW50ZXJzID0gdGhpcy5jb3VudGVycy5wYXJzZShuZXcgQ1NTUGFyc2VkQ291bnRlckRlY2xhcmF0aW9uKHN0eWxlKSk7XG4gICAgICAgICAgICBjb25zdCBiZWZvcmUgPSB0aGlzLnJlc29sdmVQc2V1ZG9Db250ZW50KG5vZGUsIGNsb25lLCBzdHlsZUJlZm9yZSwgUHNldWRvRWxlbWVudFR5cGUuQkVGT1JFKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAhaXNFbGVtZW50Tm9kZShjaGlsZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKCFpc1NjcmlwdEVsZW1lbnQoY2hpbGQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhY2hpbGQuaGFzQXR0cmlidXRlKElHTk9SRV9BVFRSSUJVVEUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIHRoaXMub3B0aW9ucy5pZ25vcmVFbGVtZW50cyAhPT0gJ2Z1bmN0aW9uJyB8fCAhdGhpcy5vcHRpb25zLmlnbm9yZUVsZW1lbnRzKGNoaWxkKSkpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmNvcHlTdHlsZXMgfHwgIWlzRWxlbWVudE5vZGUoY2hpbGQpIHx8ICFpc1N0eWxlRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lLmFwcGVuZENoaWxkKHRoaXMuY2xvbmVOb2RlKGNoaWxkKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChiZWZvcmUpIHtcbiAgICAgICAgICAgICAgICBjbG9uZS5pbnNlcnRCZWZvcmUoYmVmb3JlLCBjbG9uZS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYWZ0ZXIgPSB0aGlzLnJlc29sdmVQc2V1ZG9Db250ZW50KG5vZGUsIGNsb25lLCBzdHlsZUFmdGVyLCBQc2V1ZG9FbGVtZW50VHlwZS5BRlRFUik7XG4gICAgICAgICAgICBpZiAoYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICBjbG9uZS5hcHBlbmRDaGlsZChhZnRlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY291bnRlcnMucG9wKGNvdW50ZXJzKTtcblxuICAgICAgICAgICAgaWYgKHN0eWxlICYmICh0aGlzLm9wdGlvbnMuY29weVN0eWxlcyB8fCBpc1NWR0VsZW1lbnROb2RlKG5vZGUpKSAmJiAhaXNJRnJhbWVFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgY29weUNTU1N0eWxlcyhzdHlsZSwgY2xvbmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL3RoaXMuaW5saW5lQWxsSW1hZ2VzKGNsb25lKTtcblxuICAgICAgICAgICAgaWYgKG5vZGUuc2Nyb2xsVG9wICE9PSAwIHx8IG5vZGUuc2Nyb2xsTGVmdCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsZWRFbGVtZW50cy5wdXNoKFtjbG9uZSwgbm9kZS5zY3JvbGxMZWZ0LCBub2RlLnNjcm9sbFRvcF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKGlzVGV4dGFyZWFFbGVtZW50KG5vZGUpIHx8IGlzU2VsZWN0RWxlbWVudChub2RlKSkgJiZcbiAgICAgICAgICAgICAgICAoaXNUZXh0YXJlYUVsZW1lbnQoY2xvbmUpIHx8IGlzU2VsZWN0RWxlbWVudChjbG9uZSkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjbG9uZS52YWx1ZSA9IG5vZGUudmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjbG9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub2RlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgfVxuXG4gICAgcmVzb2x2ZVBzZXVkb0NvbnRlbnQoXG4gICAgICAgIG5vZGU6IEVsZW1lbnQsXG4gICAgICAgIGNsb25lOiBFbGVtZW50LFxuICAgICAgICBzdHlsZTogQ1NTU3R5bGVEZWNsYXJhdGlvbixcbiAgICAgICAgcHNldWRvRWx0OiBQc2V1ZG9FbGVtZW50VHlwZVxuICAgICk6IEhUTUxFbGVtZW50IHwgdm9pZCB7XG4gICAgICAgIGlmICghc3R5bGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gc3R5bGUuY29udGVudDtcbiAgICAgICAgY29uc3QgZG9jdW1lbnQgPSBjbG9uZS5vd25lckRvY3VtZW50O1xuICAgICAgICBpZiAoIWRvY3VtZW50IHx8ICF2YWx1ZSB8fCB2YWx1ZSA9PT0gJ25vbmUnIHx8IHZhbHVlID09PSAnLW1vei1hbHQtY29udGVudCcgfHwgc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvdW50ZXJzLnBhcnNlKG5ldyBDU1NQYXJzZWRDb3VudGVyRGVjbGFyYXRpb24oc3R5bGUpKTtcbiAgICAgICAgY29uc3QgZGVjbGFyYXRpb24gPSBuZXcgQ1NTUGFyc2VkUHNldWRvRGVjbGFyYXRpb24oc3R5bGUpO1xuXG4gICAgICAgIGNvbnN0IGFub255bW91c1JlcGxhY2VkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2h0bWwyY2FudmFzcHNldWRvZWxlbWVudCcpO1xuICAgICAgICBjb3B5Q1NTU3R5bGVzKHN0eWxlLCBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQpO1xuXG4gICAgICAgIGRlY2xhcmF0aW9uLmNvbnRlbnQuZm9yRWFjaCh0b2tlbiA9PiB7XG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlNUUklOR19UT0tFTikge1xuICAgICAgICAgICAgICAgIGFub255bW91c1JlcGxhY2VkRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0b2tlbi52YWx1ZSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuVVJMX1RPS0VOKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICAgICAgaW1nLnNyYyA9IHRva2VuLnZhbHVlO1xuICAgICAgICAgICAgICAgIGltZy5zdHlsZS5vcGFjaXR5ID0gJzEnO1xuICAgICAgICAgICAgICAgIGFub255bW91c1JlcGxhY2VkRWxlbWVudC5hcHBlbmRDaGlsZChpbWcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRlVOQ1RJT04pIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4ubmFtZSA9PT0gJ2F0dHInKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHIgPSB0b2tlbi52YWx1ZXMuZmlsdGVyKGlzSWRlbnRUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJbMF0udmFsdWUpIHx8ICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4ubmFtZSA9PT0gJ2NvdW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtjb3VudGVyLCBjb3VudGVyU3R5bGVdID0gdG9rZW4udmFsdWVzLmZpbHRlcihub25GdW5jdGlvbkFyZ1NlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVyICYmIGlzSWRlbnRUb2tlbihjb3VudGVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnRlclN0YXRlID0gdGhpcy5jb3VudGVycy5nZXRDb3VudGVyVmFsdWUoY291bnRlci52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3VudGVyVHlwZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRlclN0eWxlICYmIGlzSWRlbnRUb2tlbihjb3VudGVyU3R5bGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbGlzdFN0eWxlVHlwZS5wYXJzZShjb3VudGVyU3R5bGUudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFub255bW91c1JlcGxhY2VkRWxlbWVudC5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjcmVhdGVDb3VudGVyVGV4dChjb3VudGVyU3RhdGUsIGNvdW50ZXJUeXBlLCBmYWxzZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi5uYW1lID09PSAnY291bnRlcnMnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtjb3VudGVyLCBkZWxpbSwgY291bnRlclN0eWxlXSA9IHRva2VuLnZhbHVlcy5maWx0ZXIobm9uRnVuY3Rpb25BcmdTZXBhcmF0b3IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRlciAmJiBpc0lkZW50VG9rZW4oY291bnRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ZXJTdGF0ZXMgPSB0aGlzLmNvdW50ZXJzLmdldENvdW50ZXJWYWx1ZXMoY291bnRlci52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3VudGVyVHlwZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRlclN0eWxlICYmIGlzSWRlbnRUb2tlbihjb3VudGVyU3R5bGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbGlzdFN0eWxlVHlwZS5wYXJzZShjb3VudGVyU3R5bGUudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUw7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXBhcmF0b3IgPSBkZWxpbSAmJiBkZWxpbS50eXBlID09PSBUb2tlblR5cGUuU1RSSU5HX1RPS0VOID8gZGVsaW0udmFsdWUgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBjb3VudGVyU3RhdGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCh2YWx1ZSA9PiBjcmVhdGVDb3VudGVyVGV4dCh2YWx1ZSwgY291bnRlclR5cGUsIGZhbHNlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuam9pbihzZXBhcmF0b3IpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZygnRlVOQ1RJT05fVE9LRU4nLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4pIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ29wZW4tcXVvdGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGdldFF1b3RlKGRlY2xhcmF0aW9uLnF1b3RlcywgdGhpcy5xdW90ZURlcHRoKyssIHRydWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdjbG9zZS1xdW90ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZ2V0UXVvdGUoZGVjbGFyYXRpb24ucXVvdGVzLCAtLXRoaXMucXVvdGVEZXB0aCwgZmFsc2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2FmYXJpIGRvZXNuJ3QgcGFyc2Ugc3RyaW5nIHRva2VucyBjb3JyZWN0bHkgYmVjYXVzZSBvZiBsYWNrIG9mIHF1b3Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRva2VuLnZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQuY2xhc3NOYW1lID0gYCR7UFNFVURPX0hJREVfRUxFTUVOVF9DTEFTU19CRUZPUkV9ICR7UFNFVURPX0hJREVfRUxFTUVOVF9DTEFTU19BRlRFUn1gO1xuICAgICAgICBjb25zdCBuZXdDbGFzc05hbWUgPVxuICAgICAgICAgICAgcHNldWRvRWx0ID09PSBQc2V1ZG9FbGVtZW50VHlwZS5CRUZPUkVcbiAgICAgICAgICAgICAgICA/IGAgJHtQU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0JFRk9SRX1gXG4gICAgICAgICAgICAgICAgOiBgICR7UFNFVURPX0hJREVfRUxFTUVOVF9DTEFTU19BRlRFUn1gO1xuXG4gICAgICAgIGlmIChpc1NWR0VsZW1lbnROb2RlKGNsb25lKSkge1xuICAgICAgICAgICAgY2xvbmUuY2xhc3NOYW1lLmJhc2VWYWx1ZSArPSBuZXdDbGFzc05hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbG9uZS5jbGFzc05hbWUgKz0gbmV3Q2xhc3NOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFub255bW91c1JlcGxhY2VkRWxlbWVudDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVzdHJveShjb250YWluZXI6IEhUTUxJRnJhbWVFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChjb250YWluZXIucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmVudW0gUHNldWRvRWxlbWVudFR5cGUge1xuICAgIEJFRk9SRSxcbiAgICBBRlRFUlxufVxuXG5jb25zdCBjcmVhdGVJRnJhbWVDb250YWluZXIgPSAob3duZXJEb2N1bWVudDogRG9jdW1lbnQsIGJvdW5kczogQm91bmRzKTogSFRNTElGcmFtZUVsZW1lbnQgPT4ge1xuICAgIGNvbnN0IGNsb25lSWZyYW1lQ29udGFpbmVyID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcblxuICAgIGNsb25lSWZyYW1lQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdodG1sMmNhbnZhcy1jb250YWluZXInO1xuICAgIGNsb25lSWZyYW1lQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgY2xvbmVJZnJhbWVDb250YWluZXIuc3R5bGUubGVmdCA9ICctMTAwMDBweCc7XG4gICAgY2xvbmVJZnJhbWVDb250YWluZXIuc3R5bGUudG9wID0gJzBweCc7XG4gICAgY2xvbmVJZnJhbWVDb250YWluZXIuc3R5bGUuYm9yZGVyID0gJzAnO1xuICAgIGNsb25lSWZyYW1lQ29udGFpbmVyLndpZHRoID0gYm91bmRzLndpZHRoLnRvU3RyaW5nKCk7XG4gICAgY2xvbmVJZnJhbWVDb250YWluZXIuaGVpZ2h0ID0gYm91bmRzLmhlaWdodC50b1N0cmluZygpO1xuICAgIGNsb25lSWZyYW1lQ29udGFpbmVyLnNjcm9sbGluZyA9ICdubyc7IC8vIGlvcyB3b24ndCBzY3JvbGwgd2l0aG91dCBpdFxuICAgIGNsb25lSWZyYW1lQ29udGFpbmVyLnNldEF0dHJpYnV0ZShJR05PUkVfQVRUUklCVVRFLCAndHJ1ZScpO1xuICAgIG93bmVyRG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjbG9uZUlmcmFtZUNvbnRhaW5lcik7XG5cbiAgICByZXR1cm4gY2xvbmVJZnJhbWVDb250YWluZXI7XG59O1xuXG5jb25zdCBpZnJhbWVMb2FkZXIgPSAoaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCk6IFByb21pc2U8SFRNTElGcmFtZUVsZW1lbnQ+ID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBjbG9uZVdpbmRvdyA9IGlmcmFtZS5jb250ZW50V2luZG93O1xuXG4gICAgICAgIGlmICghY2xvbmVXaW5kb3cpIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoYE5vIHdpbmRvdyBhc3NpZ25lZCBmb3IgaWZyYW1lYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkb2N1bWVudENsb25lID0gY2xvbmVXaW5kb3cuZG9jdW1lbnQ7XG5cbiAgICAgICAgY2xvbmVXaW5kb3cub25sb2FkID0gaWZyYW1lLm9ubG9hZCA9IGRvY3VtZW50Q2xvbmUub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgY2xvbmVXaW5kb3cub25sb2FkID0gaWZyYW1lLm9ubG9hZCA9IGRvY3VtZW50Q2xvbmUub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudENsb25lLmJvZHkuY2hpbGROb2Rlcy5sZW5ndGggPiAwICYmIGRvY3VtZW50Q2xvbmUucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpZnJhbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb3B5Q1NTU3R5bGVzID0gPFQgZXh0ZW5kcyBIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnQ+KHN0eWxlOiBDU1NTdHlsZURlY2xhcmF0aW9uLCB0YXJnZXQ6IFQpOiBUID0+IHtcbiAgICAvLyBFZGdlIGRvZXMgbm90IHByb3ZpZGUgdmFsdWUgZm9yIGNzc1RleHRcbiAgICBmb3IgKGxldCBpID0gc3R5bGUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgcHJvcGVydHkgPSBzdHlsZS5pdGVtKGkpO1xuICAgICAgICAvLyBTYWZhcmkgc2hvd3MgcHNldWRvZWxlbWVudHMgaWYgY29udGVudCBpcyBzZXRcbiAgICAgICAgaWYgKHByb3BlcnR5ICE9PSAnY29udGVudCcpIHtcbiAgICAgICAgICAgIHRhcmdldC5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59O1xuXG5jb25zdCBzZXJpYWxpemVEb2N0eXBlID0gKGRvY3R5cGU/OiBEb2N1bWVudFR5cGUgfCBudWxsKTogc3RyaW5nID0+IHtcbiAgICBsZXQgc3RyID0gJyc7XG4gICAgaWYgKGRvY3R5cGUpIHtcbiAgICAgICAgc3RyICs9ICc8IURPQ1RZUEUgJztcbiAgICAgICAgaWYgKGRvY3R5cGUubmFtZSkge1xuICAgICAgICAgICAgc3RyICs9IGRvY3R5cGUubmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkb2N0eXBlLmludGVybmFsU3Vic2V0KSB7XG4gICAgICAgICAgICBzdHIgKz0gZG9jdHlwZS5pbnRlcm5hbFN1YnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkb2N0eXBlLnB1YmxpY0lkKSB7XG4gICAgICAgICAgICBzdHIgKz0gYFwiJHtkb2N0eXBlLnB1YmxpY0lkfVwiYDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkb2N0eXBlLnN5c3RlbUlkKSB7XG4gICAgICAgICAgICBzdHIgKz0gYFwiJHtkb2N0eXBlLnN5c3RlbUlkfVwiYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0ciArPSAnPic7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cjtcbn07XG5cbmNvbnN0IHJlc3RvcmVPd25lclNjcm9sbCA9IChvd25lckRvY3VtZW50OiBEb2N1bWVudCB8IG51bGwsIHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB7XG4gICAgaWYgKFxuICAgICAgICBvd25lckRvY3VtZW50ICYmXG4gICAgICAgIG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgJiZcbiAgICAgICAgKHggIT09IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcucGFnZVhPZmZzZXQgfHwgeSAhPT0gb3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5wYWdlWU9mZnNldClcbiAgICApIHtcbiAgICAgICAgb3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5zY3JvbGxUbyh4LCB5KTtcbiAgICB9XG59O1xuXG5jb25zdCByZXN0b3JlTm9kZVNjcm9sbCA9IChbZWxlbWVudCwgeCwgeV06IFtIVE1MRWxlbWVudCwgbnVtYmVyLCBudW1iZXJdKSA9PiB7XG4gICAgZWxlbWVudC5zY3JvbGxMZWZ0ID0geDtcbiAgICBlbGVtZW50LnNjcm9sbFRvcCA9IHk7XG59O1xuXG5jb25zdCBQU0VVRE9fQkVGT1JFID0gJzpiZWZvcmUnO1xuY29uc3QgUFNFVURPX0FGVEVSID0gJzphZnRlcic7XG5jb25zdCBQU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0JFRk9SRSA9ICdfX19odG1sMmNhbnZhc19fX3BzZXVkb2VsZW1lbnRfYmVmb3JlJztcbmNvbnN0IFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQUZURVIgPSAnX19faHRtbDJjYW52YXNfX19wc2V1ZG9lbGVtZW50X2FmdGVyJztcblxuY29uc3QgUFNFVURPX0hJREVfRUxFTUVOVF9TVFlMRSA9IGB7XG4gICAgY29udGVudDogXCJcIiAhaW1wb3J0YW50O1xuICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbn1gO1xuXG5jb25zdCBjcmVhdGVQc2V1ZG9IaWRlU3R5bGVzID0gKGJvZHk6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgY3JlYXRlU3R5bGVzKFxuICAgICAgICBib2R5LFxuICAgICAgICBgLiR7UFNFVURPX0hJREVfRUxFTUVOVF9DTEFTU19CRUZPUkV9JHtQU0VVRE9fQkVGT1JFfSR7UFNFVURPX0hJREVfRUxFTUVOVF9TVFlMRX1cbiAgICAgICAgIC4ke1BTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQUZURVJ9JHtQU0VVRE9fQUZURVJ9JHtQU0VVRE9fSElERV9FTEVNRU5UX1NUWUxFfWBcbiAgICApO1xufTtcblxuY29uc3QgY3JlYXRlU3R5bGVzID0gKGJvZHk6IEhUTUxFbGVtZW50LCBzdHlsZXM6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGRvY3VtZW50ID0gYm9keS5vd25lckRvY3VtZW50O1xuICAgIGlmIChkb2N1bWVudCkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gc3R5bGVzO1xuICAgICAgICBib2R5LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHtCZXppZXJDdXJ2ZX0gZnJvbSAnLi9iZXppZXItY3VydmUnO1xuaW1wb3J0IHtWZWN0b3J9IGZyb20gJy4vdmVjdG9yJztcbmV4cG9ydCBlbnVtIFBhdGhUeXBlIHtcbiAgICBWRUNUT1IgPSAwLFxuICAgIEJFWklFUl9DVVJWRSA9IDFcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUGF0aCB7XG4gICAgdHlwZTogUGF0aFR5cGU7XG4gICAgYWRkKGRlbHRhWDogbnVtYmVyLCBkZWx0YVk6IG51bWJlcik6IElQYXRoO1xufVxuXG5leHBvcnQgY29uc3QgZXF1YWxQYXRoID0gKGE6IFBhdGhbXSwgYjogUGF0aFtdKTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKGEubGVuZ3RoID09PSBiLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gYS5zb21lKCh2LCBpKSA9PiB2ID09PSBiW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtUGF0aCA9IChwYXRoOiBQYXRoW10sIGRlbHRhWDogbnVtYmVyLCBkZWx0YVk6IG51bWJlciwgZGVsdGFXOiBudW1iZXIsIGRlbHRhSDogbnVtYmVyKTogUGF0aFtdID0+IHtcbiAgICByZXR1cm4gcGF0aC5tYXAoKHBvaW50LCBpbmRleCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGluZGV4KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50LmFkZChkZWx0YVgsIGRlbHRhWSk7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50LmFkZChkZWx0YVggKyBkZWx0YVcsIGRlbHRhWSk7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50LmFkZChkZWx0YVggKyBkZWx0YVcsIGRlbHRhWSArIGRlbHRhSCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50LmFkZChkZWx0YVgsIGRlbHRhWSArIGRlbHRhSCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH0pO1xufTtcblxuZXhwb3J0IHR5cGUgUGF0aCA9IFZlY3RvciB8IEJlemllckN1cnZlO1xuIiwiaW1wb3J0IHtJUGF0aCwgUGF0aCwgUGF0aFR5cGV9IGZyb20gJy4vcGF0aCc7XG5cbmV4cG9ydCBjbGFzcyBWZWN0b3IgaW1wbGVtZW50cyBJUGF0aCB7XG4gICAgdHlwZTogUGF0aFR5cGU7XG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IFBhdGhUeXBlLlZFQ1RPUjtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG5cbiAgICBhZGQoZGVsdGFYOiBudW1iZXIsIGRlbHRhWTogbnVtYmVyKTogVmVjdG9yIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IodGhpcy54ICsgZGVsdGFYLCB0aGlzLnkgKyBkZWx0YVkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGlzVmVjdG9yID0gKHBhdGg6IFBhdGgpOiBwYXRoIGlzIFZlY3RvciA9PiBwYXRoLnR5cGUgPT09IFBhdGhUeXBlLlZFQ1RPUjtcbiIsImltcG9ydCB7VmVjdG9yfSBmcm9tICcuL3ZlY3Rvcic7XG5pbXBvcnQge0lQYXRoLCBQYXRoVHlwZSwgUGF0aH0gZnJvbSAnLi9wYXRoJztcblxuY29uc3QgbGVycCA9IChhOiBWZWN0b3IsIGI6IFZlY3RvciwgdDogbnVtYmVyKTogVmVjdG9yID0+IHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcihhLnggKyAoYi54IC0gYS54KSAqIHQsIGEueSArIChiLnkgLSBhLnkpICogdCk7XG59O1xuXG5leHBvcnQgY2xhc3MgQmV6aWVyQ3VydmUgaW1wbGVtZW50cyBJUGF0aCB7XG4gICAgdHlwZTogUGF0aFR5cGU7XG4gICAgc3RhcnQ6IFZlY3RvcjtcbiAgICBzdGFydENvbnRyb2w6IFZlY3RvcjtcbiAgICBlbmRDb250cm9sOiBWZWN0b3I7XG4gICAgZW5kOiBWZWN0b3I7XG5cbiAgICBjb25zdHJ1Y3RvcihzdGFydDogVmVjdG9yLCBzdGFydENvbnRyb2w6IFZlY3RvciwgZW5kQ29udHJvbDogVmVjdG9yLCBlbmQ6IFZlY3Rvcikge1xuICAgICAgICB0aGlzLnR5cGUgPSBQYXRoVHlwZS5CRVpJRVJfQ1VSVkU7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgdGhpcy5zdGFydENvbnRyb2wgPSBzdGFydENvbnRyb2w7XG4gICAgICAgIHRoaXMuZW5kQ29udHJvbCA9IGVuZENvbnRyb2w7XG4gICAgICAgIHRoaXMuZW5kID0gZW5kO1xuICAgIH1cblxuICAgIHN1YmRpdmlkZSh0OiBudW1iZXIsIGZpcnN0SGFsZjogYm9vbGVhbik6IEJlemllckN1cnZlIHtcbiAgICAgICAgY29uc3QgYWIgPSBsZXJwKHRoaXMuc3RhcnQsIHRoaXMuc3RhcnRDb250cm9sLCB0KTtcbiAgICAgICAgY29uc3QgYmMgPSBsZXJwKHRoaXMuc3RhcnRDb250cm9sLCB0aGlzLmVuZENvbnRyb2wsIHQpO1xuICAgICAgICBjb25zdCBjZCA9IGxlcnAodGhpcy5lbmRDb250cm9sLCB0aGlzLmVuZCwgdCk7XG4gICAgICAgIGNvbnN0IGFiYmMgPSBsZXJwKGFiLCBiYywgdCk7XG4gICAgICAgIGNvbnN0IGJjY2QgPSBsZXJwKGJjLCBjZCwgdCk7XG4gICAgICAgIGNvbnN0IGRlc3QgPSBsZXJwKGFiYmMsIGJjY2QsIHQpO1xuICAgICAgICByZXR1cm4gZmlyc3RIYWxmID8gbmV3IEJlemllckN1cnZlKHRoaXMuc3RhcnQsIGFiLCBhYmJjLCBkZXN0KSA6IG5ldyBCZXppZXJDdXJ2ZShkZXN0LCBiY2NkLCBjZCwgdGhpcy5lbmQpO1xuICAgIH1cblxuICAgIGFkZChkZWx0YVg6IG51bWJlciwgZGVsdGFZOiBudW1iZXIpOiBCZXppZXJDdXJ2ZSB7XG4gICAgICAgIHJldHVybiBuZXcgQmV6aWVyQ3VydmUoXG4gICAgICAgICAgICB0aGlzLnN0YXJ0LmFkZChkZWx0YVgsIGRlbHRhWSksXG4gICAgICAgICAgICB0aGlzLnN0YXJ0Q29udHJvbC5hZGQoZGVsdGFYLCBkZWx0YVkpLFxuICAgICAgICAgICAgdGhpcy5lbmRDb250cm9sLmFkZChkZWx0YVgsIGRlbHRhWSksXG4gICAgICAgICAgICB0aGlzLmVuZC5hZGQoZGVsdGFYLCBkZWx0YVkpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmV2ZXJzZSgpOiBCZXppZXJDdXJ2ZSB7XG4gICAgICAgIHJldHVybiBuZXcgQmV6aWVyQ3VydmUodGhpcy5lbmQsIHRoaXMuZW5kQ29udHJvbCwgdGhpcy5zdGFydENvbnRyb2wsIHRoaXMuc3RhcnQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGlzQmV6aWVyQ3VydmUgPSAocGF0aDogUGF0aCk6IHBhdGggaXMgQmV6aWVyQ3VydmUgPT4gcGF0aC50eXBlID09PSBQYXRoVHlwZS5CRVpJRVJfQ1VSVkU7XG4iLCJpbXBvcnQge0VsZW1lbnRDb250YWluZXJ9IGZyb20gJy4uL2RvbS9lbGVtZW50LWNvbnRhaW5lcic7XG5pbXBvcnQge2dldEFic29sdXRlVmFsdWUsIGdldEFic29sdXRlVmFsdWVGb3JUdXBsZX0gZnJvbSAnLi4vY3NzL3R5cGVzL2xlbmd0aC1wZXJjZW50YWdlJztcbmltcG9ydCB7VmVjdG9yfSBmcm9tICcuL3ZlY3Rvcic7XG5pbXBvcnQge0JlemllckN1cnZlfSBmcm9tICcuL2Jlemllci1jdXJ2ZSc7XG5pbXBvcnQge1BhdGh9IGZyb20gJy4vcGF0aCc7XG5cbmV4cG9ydCBjbGFzcyBCb3VuZEN1cnZlcyB7XG4gICAgcmVhZG9ubHkgdG9wTGVmdEJvcmRlckJveDogUGF0aDtcbiAgICByZWFkb25seSB0b3BSaWdodEJvcmRlckJveDogUGF0aDtcbiAgICByZWFkb25seSBib3R0b21SaWdodEJvcmRlckJveDogUGF0aDtcbiAgICByZWFkb25seSBib3R0b21MZWZ0Qm9yZGVyQm94OiBQYXRoO1xuICAgIHJlYWRvbmx5IHRvcExlZnRQYWRkaW5nQm94OiBQYXRoO1xuICAgIHJlYWRvbmx5IHRvcFJpZ2h0UGFkZGluZ0JveDogUGF0aDtcbiAgICByZWFkb25seSBib3R0b21SaWdodFBhZGRpbmdCb3g6IFBhdGg7XG4gICAgcmVhZG9ubHkgYm90dG9tTGVmdFBhZGRpbmdCb3g6IFBhdGg7XG4gICAgcmVhZG9ubHkgdG9wTGVmdENvbnRlbnRCb3g6IFBhdGg7XG4gICAgcmVhZG9ubHkgdG9wUmlnaHRDb250ZW50Qm94OiBQYXRoO1xuICAgIHJlYWRvbmx5IGJvdHRvbVJpZ2h0Q29udGVudEJveDogUGF0aDtcbiAgICByZWFkb25seSBib3R0b21MZWZ0Q29udGVudEJveDogUGF0aDtcblxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEVsZW1lbnRDb250YWluZXIpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gZWxlbWVudC5zdHlsZXM7XG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IGVsZW1lbnQuYm91bmRzO1xuXG4gICAgICAgIGxldCBbdGxoLCB0bHZdID0gZ2V0QWJzb2x1dGVWYWx1ZUZvclR1cGxlKHN0eWxlcy5ib3JkZXJUb3BMZWZ0UmFkaXVzLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQpO1xuICAgICAgICBsZXQgW3RyaCwgdHJ2XSA9IGdldEFic29sdXRlVmFsdWVGb3JUdXBsZShzdHlsZXMuYm9yZGVyVG9wUmlnaHRSYWRpdXMsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCk7XG4gICAgICAgIGxldCBbYnJoLCBicnZdID0gZ2V0QWJzb2x1dGVWYWx1ZUZvclR1cGxlKHN0eWxlcy5ib3JkZXJCb3R0b21SaWdodFJhZGl1cywgYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0KTtcbiAgICAgICAgbGV0IFtibGgsIGJsdl0gPSBnZXRBYnNvbHV0ZVZhbHVlRm9yVHVwbGUoc3R5bGVzLmJvcmRlckJvdHRvbUxlZnRSYWRpdXMsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCk7XG5cbiAgICAgICAgY29uc3QgZmFjdG9ycyA9IFtdO1xuICAgICAgICBmYWN0b3JzLnB1c2goKHRsaCArIHRyaCkgLyBib3VuZHMud2lkdGgpO1xuICAgICAgICBmYWN0b3JzLnB1c2goKGJsaCArIGJyaCkgLyBib3VuZHMud2lkdGgpO1xuICAgICAgICBmYWN0b3JzLnB1c2goKHRsdiArIGJsdikgLyBib3VuZHMuaGVpZ2h0KTtcbiAgICAgICAgZmFjdG9ycy5wdXNoKCh0cnYgKyBicnYpIC8gYm91bmRzLmhlaWdodCk7XG4gICAgICAgIGNvbnN0IG1heEZhY3RvciA9IE1hdGgubWF4KC4uLmZhY3RvcnMpO1xuXG4gICAgICAgIGlmIChtYXhGYWN0b3IgPiAxKSB7XG4gICAgICAgICAgICB0bGggLz0gbWF4RmFjdG9yO1xuICAgICAgICAgICAgdGx2IC89IG1heEZhY3RvcjtcbiAgICAgICAgICAgIHRyaCAvPSBtYXhGYWN0b3I7XG4gICAgICAgICAgICB0cnYgLz0gbWF4RmFjdG9yO1xuICAgICAgICAgICAgYnJoIC89IG1heEZhY3RvcjtcbiAgICAgICAgICAgIGJydiAvPSBtYXhGYWN0b3I7XG4gICAgICAgICAgICBibGggLz0gbWF4RmFjdG9yO1xuICAgICAgICAgICAgYmx2IC89IG1heEZhY3RvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRvcFdpZHRoID0gYm91bmRzLndpZHRoIC0gdHJoO1xuICAgICAgICBjb25zdCByaWdodEhlaWdodCA9IGJvdW5kcy5oZWlnaHQgLSBicnY7XG4gICAgICAgIGNvbnN0IGJvdHRvbVdpZHRoID0gYm91bmRzLndpZHRoIC0gYnJoO1xuICAgICAgICBjb25zdCBsZWZ0SGVpZ2h0ID0gYm91bmRzLmhlaWdodCAtIGJsdjtcblxuICAgICAgICBjb25zdCBib3JkZXJUb3BXaWR0aCA9IHN0eWxlcy5ib3JkZXJUb3BXaWR0aDtcbiAgICAgICAgY29uc3QgYm9yZGVyUmlnaHRXaWR0aCA9IHN0eWxlcy5ib3JkZXJSaWdodFdpZHRoO1xuICAgICAgICBjb25zdCBib3JkZXJCb3R0b21XaWR0aCA9IHN0eWxlcy5ib3JkZXJCb3R0b21XaWR0aDtcbiAgICAgICAgY29uc3QgYm9yZGVyTGVmdFdpZHRoID0gc3R5bGVzLmJvcmRlckxlZnRXaWR0aDtcblxuICAgICAgICBjb25zdCBwYWRkaW5nVG9wID0gZ2V0QWJzb2x1dGVWYWx1ZShzdHlsZXMucGFkZGluZ1RvcCwgZWxlbWVudC5ib3VuZHMud2lkdGgpO1xuICAgICAgICBjb25zdCBwYWRkaW5nUmlnaHQgPSBnZXRBYnNvbHV0ZVZhbHVlKHN0eWxlcy5wYWRkaW5nUmlnaHQsIGVsZW1lbnQuYm91bmRzLndpZHRoKTtcbiAgICAgICAgY29uc3QgcGFkZGluZ0JvdHRvbSA9IGdldEFic29sdXRlVmFsdWUoc3R5bGVzLnBhZGRpbmdCb3R0b20sIGVsZW1lbnQuYm91bmRzLndpZHRoKTtcbiAgICAgICAgY29uc3QgcGFkZGluZ0xlZnQgPSBnZXRBYnNvbHV0ZVZhbHVlKHN0eWxlcy5wYWRkaW5nTGVmdCwgZWxlbWVudC5ib3VuZHMud2lkdGgpO1xuXG4gICAgICAgIHRoaXMudG9wTGVmdEJvcmRlckJveCA9XG4gICAgICAgICAgICB0bGggPiAwIHx8IHRsdiA+IDBcbiAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0LCBib3VuZHMudG9wLCB0bGgsIHRsdiwgQ09STkVSLlRPUF9MRUZUKVxuICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCwgYm91bmRzLnRvcCk7XG4gICAgICAgIHRoaXMudG9wUmlnaHRCb3JkZXJCb3ggPVxuICAgICAgICAgICAgdHJoID4gMCB8fCB0cnYgPiAwXG4gICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIHRvcFdpZHRoLCBib3VuZHMudG9wLCB0cmgsIHRydiwgQ09STkVSLlRPUF9SSUdIVClcbiAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGgsIGJvdW5kcy50b3ApO1xuICAgICAgICB0aGlzLmJvdHRvbVJpZ2h0Qm9yZGVyQm94ID1cbiAgICAgICAgICAgIGJyaCA+IDAgfHwgYnJ2ID4gMFxuICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQgKyBib3R0b21XaWR0aCwgYm91bmRzLnRvcCArIHJpZ2h0SGVpZ2h0LCBicmgsIGJydiwgQ09STkVSLkJPVFRPTV9SSUdIVClcbiAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGgsIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5ib3R0b21MZWZ0Qm9yZGVyQm94ID1cbiAgICAgICAgICAgIGJsaCA+IDAgfHwgYmx2ID4gMFxuICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQsIGJvdW5kcy50b3AgKyBsZWZ0SGVpZ2h0LCBibGgsIGJsdiwgQ09STkVSLkJPVFRPTV9MRUZUKVxuICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCwgYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLnRvcExlZnRQYWRkaW5nQm94ID1cbiAgICAgICAgICAgIHRsaCA+IDAgfHwgdGx2ID4gMFxuICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoXG4gICAgICAgICAgICAgICAgICAgICAgYm91bmRzLmxlZnQgKyBib3JkZXJMZWZ0V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgYm91bmRzLnRvcCArIGJvcmRlclRvcFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDAsIHRsaCAtIGJvcmRlckxlZnRXaWR0aCksXG4gICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoMCwgdGx2IC0gYm9yZGVyVG9wV2lkdGgpLFxuICAgICAgICAgICAgICAgICAgICAgIENPUk5FUi5UT1BfTEVGVFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvcmRlckxlZnRXaWR0aCwgYm91bmRzLnRvcCArIGJvcmRlclRvcFdpZHRoKTtcbiAgICAgICAgdGhpcy50b3BSaWdodFBhZGRpbmdCb3ggPVxuICAgICAgICAgICAgdHJoID4gMCB8fCB0cnYgPiAwXG4gICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhcbiAgICAgICAgICAgICAgICAgICAgICBib3VuZHMubGVmdCArIE1hdGgubWluKHRvcFdpZHRoLCBib3VuZHMud2lkdGggKyBib3JkZXJMZWZ0V2lkdGgpLFxuICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy50b3AgKyBib3JkZXJUb3BXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICB0b3BXaWR0aCA+IGJvdW5kcy53aWR0aCArIGJvcmRlckxlZnRXaWR0aCA/IDAgOiB0cmggLSBib3JkZXJMZWZ0V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgdHJ2IC0gYm9yZGVyVG9wV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgQ09STkVSLlRPUF9SSUdIVFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCAtIGJvcmRlclJpZ2h0V2lkdGgsIGJvdW5kcy50b3AgKyBib3JkZXJUb3BXaWR0aCk7XG4gICAgICAgIHRoaXMuYm90dG9tUmlnaHRQYWRkaW5nQm94ID1cbiAgICAgICAgICAgIGJyaCA+IDAgfHwgYnJ2ID4gMFxuICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoXG4gICAgICAgICAgICAgICAgICAgICAgYm91bmRzLmxlZnQgKyBNYXRoLm1pbihib3R0b21XaWR0aCwgYm91bmRzLndpZHRoIC0gYm9yZGVyTGVmdFdpZHRoKSxcbiAgICAgICAgICAgICAgICAgICAgICBib3VuZHMudG9wICsgTWF0aC5taW4ocmlnaHRIZWlnaHQsIGJvdW5kcy5oZWlnaHQgKyBib3JkZXJUb3BXaWR0aCksXG4gICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoMCwgYnJoIC0gYm9yZGVyUmlnaHRXaWR0aCksXG4gICAgICAgICAgICAgICAgICAgICAgYnJ2IC0gYm9yZGVyQm90dG9tV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgQ09STkVSLkJPVFRPTV9SSUdIVFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogbmV3IFZlY3RvcihcbiAgICAgICAgICAgICAgICAgICAgICBib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCAtIGJvcmRlclJpZ2h0V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQgLSBib3JkZXJCb3R0b21XaWR0aFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgdGhpcy5ib3R0b21MZWZ0UGFkZGluZ0JveCA9XG4gICAgICAgICAgICBibGggPiAwIHx8IGJsdiA+IDBcbiAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKFxuICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5sZWZ0ICsgYm9yZGVyTGVmdFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy50b3AgKyBsZWZ0SGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDAsIGJsaCAtIGJvcmRlckxlZnRXaWR0aCksXG4gICAgICAgICAgICAgICAgICAgICAgYmx2IC0gYm9yZGVyQm90dG9tV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgQ09STkVSLkJPVFRPTV9MRUZUXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm9yZGVyTGVmdFdpZHRoLCBib3VuZHMudG9wICsgYm91bmRzLmhlaWdodCAtIGJvcmRlckJvdHRvbVdpZHRoKTtcbiAgICAgICAgdGhpcy50b3BMZWZ0Q29udGVudEJveCA9XG4gICAgICAgICAgICB0bGggPiAwIHx8IHRsdiA+IDBcbiAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKFxuICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5sZWZ0ICsgYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgYm91bmRzLnRvcCArIGJvcmRlclRvcFdpZHRoICsgcGFkZGluZ1RvcCxcbiAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCgwLCB0bGggLSAoYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQpKSxcbiAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCgwLCB0bHYgLSAoYm9yZGVyVG9wV2lkdGggKyBwYWRkaW5nVG9wKSksXG4gICAgICAgICAgICAgICAgICAgICAgQ09STkVSLlRPUF9MRUZUXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQsIGJvdW5kcy50b3AgKyBib3JkZXJUb3BXaWR0aCArIHBhZGRpbmdUb3ApO1xuICAgICAgICB0aGlzLnRvcFJpZ2h0Q29udGVudEJveCA9XG4gICAgICAgICAgICB0cmggPiAwIHx8IHRydiA+IDBcbiAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKFxuICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5sZWZ0ICsgTWF0aC5taW4odG9wV2lkdGgsIGJvdW5kcy53aWR0aCArIGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0KSxcbiAgICAgICAgICAgICAgICAgICAgICBib3VuZHMudG9wICsgYm9yZGVyVG9wV2lkdGggKyBwYWRkaW5nVG9wLFxuICAgICAgICAgICAgICAgICAgICAgIHRvcFdpZHRoID4gYm91bmRzLndpZHRoICsgYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQgPyAwIDogdHJoIC0gYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgdHJ2IC0gKGJvcmRlclRvcFdpZHRoICsgcGFkZGluZ1RvcCksXG4gICAgICAgICAgICAgICAgICAgICAgQ09STkVSLlRPUF9SSUdIVFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogbmV3IFZlY3RvcihcbiAgICAgICAgICAgICAgICAgICAgICBib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCAtIChib3JkZXJSaWdodFdpZHRoICsgcGFkZGluZ1JpZ2h0KSxcbiAgICAgICAgICAgICAgICAgICAgICBib3VuZHMudG9wICsgYm9yZGVyVG9wV2lkdGggKyBwYWRkaW5nVG9wXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICB0aGlzLmJvdHRvbVJpZ2h0Q29udGVudEJveCA9XG4gICAgICAgICAgICBicmggPiAwIHx8IGJydiA+IDBcbiAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKFxuICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5sZWZ0ICsgTWF0aC5taW4oYm90dG9tV2lkdGgsIGJvdW5kcy53aWR0aCAtIChib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCkpLFxuICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy50b3AgKyBNYXRoLm1pbihyaWdodEhlaWdodCwgYm91bmRzLmhlaWdodCArIGJvcmRlclRvcFdpZHRoICsgcGFkZGluZ1RvcCksXG4gICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoMCwgYnJoIC0gKGJvcmRlclJpZ2h0V2lkdGggKyBwYWRkaW5nUmlnaHQpKSxcbiAgICAgICAgICAgICAgICAgICAgICBicnYgLSAoYm9yZGVyQm90dG9tV2lkdGggKyBwYWRkaW5nQm90dG9tKSxcbiAgICAgICAgICAgICAgICAgICAgICBDT1JORVIuQk9UVE9NX1JJR0hUXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKFxuICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoIC0gKGJvcmRlclJpZ2h0V2lkdGggKyBwYWRkaW5nUmlnaHQpLFxuICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0IC0gKGJvcmRlckJvdHRvbVdpZHRoICsgcGFkZGluZ0JvdHRvbSlcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgIHRoaXMuYm90dG9tTGVmdENvbnRlbnRCb3ggPVxuICAgICAgICAgICAgYmxoID4gMCB8fCBibHYgPiAwXG4gICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhcbiAgICAgICAgICAgICAgICAgICAgICBib3VuZHMubGVmdCArIGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy50b3AgKyBsZWZ0SGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KDAsIGJsaCAtIChib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCkpLFxuICAgICAgICAgICAgICAgICAgICAgIGJsdiAtIChib3JkZXJCb3R0b21XaWR0aCArIHBhZGRpbmdCb3R0b20pLFxuICAgICAgICAgICAgICAgICAgICAgIENPUk5FUi5CT1RUT01fTEVGVFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogbmV3IFZlY3RvcihcbiAgICAgICAgICAgICAgICAgICAgICBib3VuZHMubGVmdCArIGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0IC0gKGJvcmRlckJvdHRvbVdpZHRoICsgcGFkZGluZ0JvdHRvbSlcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgfVxufVxuXG5lbnVtIENPUk5FUiB7XG4gICAgVE9QX0xFRlQgPSAwLFxuICAgIFRPUF9SSUdIVCA9IDEsXG4gICAgQk9UVE9NX1JJR0hUID0gMixcbiAgICBCT1RUT01fTEVGVCA9IDNcbn1cblxuY29uc3QgZ2V0Q3VydmVQb2ludHMgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIsIHIxOiBudW1iZXIsIHIyOiBudW1iZXIsIHBvc2l0aW9uOiBDT1JORVIpOiBCZXppZXJDdXJ2ZSA9PiB7XG4gICAgY29uc3Qga2FwcGEgPSA0ICogKChNYXRoLnNxcnQoMikgLSAxKSAvIDMpO1xuICAgIGNvbnN0IG94ID0gcjEgKiBrYXBwYTsgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgaG9yaXpvbnRhbFxuICAgIGNvbnN0IG95ID0gcjIgKiBrYXBwYTsgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgdmVydGljYWxcbiAgICBjb25zdCB4bSA9IHggKyByMTsgLy8geC1taWRkbGVcbiAgICBjb25zdCB5bSA9IHkgKyByMjsgLy8geS1taWRkbGVcblxuICAgIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICAgICAgY2FzZSBDT1JORVIuVE9QX0xFRlQ6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEJlemllckN1cnZlKFxuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoeCwgeW0pLFxuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoeCwgeW0gLSBveSksXG4gICAgICAgICAgICAgICAgbmV3IFZlY3Rvcih4bSAtIG94LCB5KSxcbiAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKHhtLCB5KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBDT1JORVIuVE9QX1JJR0hUOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCZXppZXJDdXJ2ZShcbiAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKHgsIHkpLFxuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoeCArIG94LCB5KSxcbiAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKHhtLCB5bSAtIG95KSxcbiAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKHhtLCB5bSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgQ09STkVSLkJPVFRPTV9SSUdIVDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmV6aWVyQ3VydmUoXG4gICAgICAgICAgICAgICAgbmV3IFZlY3Rvcih4bSwgeSksXG4gICAgICAgICAgICAgICAgbmV3IFZlY3Rvcih4bSwgeSArIG95KSxcbiAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKHggKyBveCwgeW0pLFxuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoeCwgeW0pXG4gICAgICAgICAgICApO1xuICAgICAgICBjYXNlIENPUk5FUi5CT1RUT01fTEVGVDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmV6aWVyQ3VydmUoXG4gICAgICAgICAgICAgICAgbmV3IFZlY3Rvcih4bSwgeW0pLFxuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoeG0gLSBveCwgeW0pLFxuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoeCwgeSArIG95KSxcbiAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKHgsIHkpXG4gICAgICAgICAgICApO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVCb3JkZXJCb3hQYXRoID0gKGN1cnZlczogQm91bmRDdXJ2ZXMpOiBQYXRoW10gPT4ge1xuICAgIHJldHVybiBbY3VydmVzLnRvcExlZnRCb3JkZXJCb3gsIGN1cnZlcy50b3BSaWdodEJvcmRlckJveCwgY3VydmVzLmJvdHRvbVJpZ2h0Qm9yZGVyQm94LCBjdXJ2ZXMuYm90dG9tTGVmdEJvcmRlckJveF07XG59O1xuXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlQ29udGVudEJveFBhdGggPSAoY3VydmVzOiBCb3VuZEN1cnZlcyk6IFBhdGhbXSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgY3VydmVzLnRvcExlZnRDb250ZW50Qm94LFxuICAgICAgICBjdXJ2ZXMudG9wUmlnaHRDb250ZW50Qm94LFxuICAgICAgICBjdXJ2ZXMuYm90dG9tUmlnaHRDb250ZW50Qm94LFxuICAgICAgICBjdXJ2ZXMuYm90dG9tTGVmdENvbnRlbnRCb3hcbiAgICBdO1xufTtcblxuZXhwb3J0IGNvbnN0IGNhbGN1bGF0ZVBhZGRpbmdCb3hQYXRoID0gKGN1cnZlczogQm91bmRDdXJ2ZXMpOiBQYXRoW10gPT4ge1xuICAgIHJldHVybiBbXG4gICAgICAgIGN1cnZlcy50b3BMZWZ0UGFkZGluZ0JveCxcbiAgICAgICAgY3VydmVzLnRvcFJpZ2h0UGFkZGluZ0JveCxcbiAgICAgICAgY3VydmVzLmJvdHRvbVJpZ2h0UGFkZGluZ0JveCxcbiAgICAgICAgY3VydmVzLmJvdHRvbUxlZnRQYWRkaW5nQm94XG4gICAgXTtcbn07XG4iLCJpbXBvcnQge01hdHJpeH0gZnJvbSAnLi4vY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL3RyYW5zZm9ybSc7XG5pbXBvcnQge1BhdGh9IGZyb20gJy4vcGF0aCc7XG5cbmV4cG9ydCBjb25zdCBlbnVtIEVmZmVjdFR5cGUge1xuICAgIFRSQU5TRk9STSA9IDAsXG4gICAgQ0xJUCA9IDFcbn1cblxuZXhwb3J0IGNvbnN0IGVudW0gRWZmZWN0VGFyZ2V0IHtcbiAgICBCQUNLR1JPVU5EX0JPUkRFUlMgPSAxIDw8IDEsXG4gICAgQ09OVEVOVCA9IDEgPDwgMlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElFbGVtZW50RWZmZWN0IHtcbiAgICByZWFkb25seSB0eXBlOiBFZmZlY3RUeXBlO1xuICAgIHJlYWRvbmx5IHRhcmdldDogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtRWZmZWN0IGltcGxlbWVudHMgSUVsZW1lbnRFZmZlY3Qge1xuICAgIHJlYWRvbmx5IHR5cGU6IEVmZmVjdFR5cGU7XG4gICAgcmVhZG9ubHkgdGFyZ2V0OiBudW1iZXI7XG4gICAgcmVhZG9ubHkgb2Zmc2V0WDogbnVtYmVyO1xuICAgIHJlYWRvbmx5IG9mZnNldFk6IG51bWJlcjtcbiAgICByZWFkb25seSBtYXRyaXg6IE1hdHJpeDtcblxuICAgIGNvbnN0cnVjdG9yKG9mZnNldFg6IG51bWJlciwgb2Zmc2V0WTogbnVtYmVyLCBtYXRyaXg6IE1hdHJpeCkge1xuICAgICAgICB0aGlzLnR5cGUgPSBFZmZlY3RUeXBlLlRSQU5TRk9STTtcbiAgICAgICAgdGhpcy5vZmZzZXRYID0gb2Zmc2V0WDtcbiAgICAgICAgdGhpcy5vZmZzZXRZID0gb2Zmc2V0WTtcbiAgICAgICAgdGhpcy5tYXRyaXggPSBtYXRyaXg7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gRWZmZWN0VGFyZ2V0LkJBQ0tHUk9VTkRfQk9SREVSUyB8IEVmZmVjdFRhcmdldC5DT05URU5UO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENsaXBFZmZlY3QgaW1wbGVtZW50cyBJRWxlbWVudEVmZmVjdCB7XG4gICAgcmVhZG9ubHkgdHlwZTogRWZmZWN0VHlwZTtcbiAgICByZWFkb25seSB0YXJnZXQ6IG51bWJlcjtcbiAgICByZWFkb25seSBwYXRoOiBQYXRoW107XG5cbiAgICBjb25zdHJ1Y3RvcihwYXRoOiBQYXRoW10sIHRhcmdldDogRWZmZWN0VGFyZ2V0KSB7XG4gICAgICAgIHRoaXMudHlwZSA9IEVmZmVjdFR5cGUuQ0xJUDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgaXNUcmFuc2Zvcm1FZmZlY3QgPSAoZWZmZWN0OiBJRWxlbWVudEVmZmVjdCk6IGVmZmVjdCBpcyBUcmFuc2Zvcm1FZmZlY3QgPT5cbiAgICBlZmZlY3QudHlwZSA9PT0gRWZmZWN0VHlwZS5UUkFOU0ZPUk07XG5leHBvcnQgY29uc3QgaXNDbGlwRWZmZWN0ID0gKGVmZmVjdDogSUVsZW1lbnRFZmZlY3QpOiBlZmZlY3QgaXMgQ2xpcEVmZmVjdCA9PiBlZmZlY3QudHlwZSA9PT0gRWZmZWN0VHlwZS5DTElQO1xuIiwiaW1wb3J0IHtFbGVtZW50Q29udGFpbmVyLCBGTEFHU30gZnJvbSAnLi4vZG9tL2VsZW1lbnQtY29udGFpbmVyJztcbmltcG9ydCB7Y29udGFpbnN9IGZyb20gJy4uL2NvcmUvYml0d2lzZSc7XG5pbXBvcnQge0JvdW5kQ3VydmVzLCBjYWxjdWxhdGVCb3JkZXJCb3hQYXRoLCBjYWxjdWxhdGVQYWRkaW5nQm94UGF0aH0gZnJvbSAnLi9ib3VuZC1jdXJ2ZXMnO1xuaW1wb3J0IHtDbGlwRWZmZWN0LCBFZmZlY3RUYXJnZXQsIElFbGVtZW50RWZmZWN0LCBUcmFuc2Zvcm1FZmZlY3R9IGZyb20gJy4vZWZmZWN0cyc7XG5pbXBvcnQge09WRVJGTE9XfSBmcm9tICcuLi9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvb3ZlcmZsb3cnO1xuaW1wb3J0IHtlcXVhbFBhdGh9IGZyb20gJy4vcGF0aCc7XG5pbXBvcnQge0RJU1BMQVl9IGZyb20gJy4uL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9kaXNwbGF5JztcbmltcG9ydCB7T0xFbGVtZW50Q29udGFpbmVyfSBmcm9tICcuLi9kb20vZWxlbWVudHMvb2wtZWxlbWVudC1jb250YWluZXInO1xuaW1wb3J0IHtMSUVsZW1lbnRDb250YWluZXJ9IGZyb20gJy4uL2RvbS9lbGVtZW50cy9saS1lbGVtZW50LWNvbnRhaW5lcic7XG5pbXBvcnQge2NyZWF0ZUNvdW50ZXJUZXh0fSBmcm9tICcuLi9jc3MvdHlwZXMvZnVuY3Rpb25zL2NvdW50ZXInO1xuXG5leHBvcnQgY2xhc3MgU3RhY2tpbmdDb250ZXh0IHtcbiAgICBlbGVtZW50OiBFbGVtZW50UGFpbnQ7XG4gICAgbmVnYXRpdmVaSW5kZXg6IFN0YWNraW5nQ29udGV4dFtdO1xuICAgIHplcm9PckF1dG9aSW5kZXhPclRyYW5zZm9ybWVkT3JPcGFjaXR5OiBTdGFja2luZ0NvbnRleHRbXTtcbiAgICBwb3NpdGl2ZVpJbmRleDogU3RhY2tpbmdDb250ZXh0W107XG4gICAgbm9uUG9zaXRpb25lZEZsb2F0czogU3RhY2tpbmdDb250ZXh0W107XG4gICAgbm9uUG9zaXRpb25lZElubGluZUxldmVsOiBTdGFja2luZ0NvbnRleHRbXTtcbiAgICBpbmxpbmVMZXZlbDogRWxlbWVudFBhaW50W107XG4gICAgbm9uSW5saW5lTGV2ZWw6IEVsZW1lbnRQYWludFtdO1xuXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyOiBFbGVtZW50UGFpbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLmlubGluZUxldmVsID0gW107XG4gICAgICAgIHRoaXMubm9uSW5saW5lTGV2ZWwgPSBbXTtcbiAgICAgICAgdGhpcy5uZWdhdGl2ZVpJbmRleCA9IFtdO1xuICAgICAgICB0aGlzLnplcm9PckF1dG9aSW5kZXhPclRyYW5zZm9ybWVkT3JPcGFjaXR5ID0gW107XG4gICAgICAgIHRoaXMucG9zaXRpdmVaSW5kZXggPSBbXTtcbiAgICAgICAgdGhpcy5ub25Qb3NpdGlvbmVkRmxvYXRzID0gW107XG4gICAgICAgIHRoaXMubm9uUG9zaXRpb25lZElubGluZUxldmVsID0gW107XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWxlbWVudFBhaW50IHtcbiAgICBjb250YWluZXI6IEVsZW1lbnRDb250YWluZXI7XG4gICAgZWZmZWN0czogSUVsZW1lbnRFZmZlY3RbXTtcbiAgICBjdXJ2ZXM6IEJvdW5kQ3VydmVzO1xuICAgIGxpc3RWYWx1ZT86IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQ6IEVsZW1lbnRDb250YWluZXIsIHBhcmVudFN0YWNrOiBJRWxlbWVudEVmZmVjdFtdKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5lZmZlY3RzID0gcGFyZW50U3RhY2suc2xpY2UoMCk7XG4gICAgICAgIHRoaXMuY3VydmVzID0gbmV3IEJvdW5kQ3VydmVzKGVsZW1lbnQpO1xuICAgICAgICBpZiAoZWxlbWVudC5zdHlsZXMudHJhbnNmb3JtICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXRYID0gZWxlbWVudC5ib3VuZHMubGVmdCArIGVsZW1lbnQuc3R5bGVzLnRyYW5zZm9ybU9yaWdpblswXS5udW1iZXI7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXRZID0gZWxlbWVudC5ib3VuZHMudG9wICsgZWxlbWVudC5zdHlsZXMudHJhbnNmb3JtT3JpZ2luWzFdLm51bWJlcjtcbiAgICAgICAgICAgIGNvbnN0IG1hdHJpeCA9IGVsZW1lbnQuc3R5bGVzLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIHRoaXMuZWZmZWN0cy5wdXNoKG5ldyBUcmFuc2Zvcm1FZmZlY3Qob2Zmc2V0WCwgb2Zmc2V0WSwgbWF0cml4KSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxlbWVudC5zdHlsZXMub3ZlcmZsb3dYICE9PSBPVkVSRkxPVy5WSVNJQkxFKSB7XG4gICAgICAgICAgICBjb25zdCBib3JkZXJCb3ggPSBjYWxjdWxhdGVCb3JkZXJCb3hQYXRoKHRoaXMuY3VydmVzKTtcbiAgICAgICAgICAgIGNvbnN0IHBhZGRpbmdCb3ggPSBjYWxjdWxhdGVQYWRkaW5nQm94UGF0aCh0aGlzLmN1cnZlcyk7XG5cbiAgICAgICAgICAgIGlmIChlcXVhbFBhdGgoYm9yZGVyQm94LCBwYWRkaW5nQm94KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWZmZWN0cy5wdXNoKG5ldyBDbGlwRWZmZWN0KGJvcmRlckJveCwgRWZmZWN0VGFyZ2V0LkJBQ0tHUk9VTkRfQk9SREVSUyB8IEVmZmVjdFRhcmdldC5DT05URU5UKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZWZmZWN0cy5wdXNoKG5ldyBDbGlwRWZmZWN0KGJvcmRlckJveCwgRWZmZWN0VGFyZ2V0LkJBQ0tHUk9VTkRfQk9SREVSUykpO1xuICAgICAgICAgICAgICAgIHRoaXMuZWZmZWN0cy5wdXNoKG5ldyBDbGlwRWZmZWN0KHBhZGRpbmdCb3gsIEVmZmVjdFRhcmdldC5DT05URU5UKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRQYXJlbnRFZmZlY3RzKCk6IElFbGVtZW50RWZmZWN0W10ge1xuICAgICAgICBjb25zdCBlZmZlY3RzID0gdGhpcy5lZmZlY3RzLnNsaWNlKDApO1xuICAgICAgICBpZiAodGhpcy5jb250YWluZXIuc3R5bGVzLm92ZXJmbG93WCAhPT0gT1ZFUkZMT1cuVklTSUJMRSkge1xuICAgICAgICAgICAgY29uc3QgYm9yZGVyQm94ID0gY2FsY3VsYXRlQm9yZGVyQm94UGF0aCh0aGlzLmN1cnZlcyk7XG4gICAgICAgICAgICBjb25zdCBwYWRkaW5nQm94ID0gY2FsY3VsYXRlUGFkZGluZ0JveFBhdGgodGhpcy5jdXJ2ZXMpO1xuICAgICAgICAgICAgaWYgKCFlcXVhbFBhdGgoYm9yZGVyQm94LCBwYWRkaW5nQm94KSkge1xuICAgICAgICAgICAgICAgIGVmZmVjdHMucHVzaChuZXcgQ2xpcEVmZmVjdChwYWRkaW5nQm94LCBFZmZlY3RUYXJnZXQuQkFDS0dST1VORF9CT1JERVJTIHwgRWZmZWN0VGFyZ2V0LkNPTlRFTlQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWZmZWN0cztcbiAgICB9XG59XG5cbmNvbnN0IHBhcnNlU3RhY2tUcmVlID0gKFxuICAgIHBhcmVudDogRWxlbWVudFBhaW50LFxuICAgIHN0YWNraW5nQ29udGV4dDogU3RhY2tpbmdDb250ZXh0LFxuICAgIHJlYWxTdGFja2luZ0NvbnRleHQ6IFN0YWNraW5nQ29udGV4dCxcbiAgICBsaXN0SXRlbXM6IEVsZW1lbnRQYWludFtdXG4pID0+IHtcbiAgICBwYXJlbnQuY29udGFpbmVyLmVsZW1lbnRzLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICBjb25zdCB0cmVhdEFzUmVhbFN0YWNraW5nQ29udGV4dCA9IGNvbnRhaW5zKGNoaWxkLmZsYWdzLCBGTEFHUy5DUkVBVEVTX1JFQUxfU1RBQ0tJTkdfQ09OVEVYVCk7XG4gICAgICAgIGNvbnN0IGNyZWF0ZXNTdGFja2luZ0NvbnRleHQgPSBjb250YWlucyhjaGlsZC5mbGFncywgRkxBR1MuQ1JFQVRFU19TVEFDS0lOR19DT05URVhUKTtcbiAgICAgICAgY29uc3QgcGFpbnRDb250YWluZXIgPSBuZXcgRWxlbWVudFBhaW50KGNoaWxkLCBwYXJlbnQuZ2V0UGFyZW50RWZmZWN0cygpKTtcbiAgICAgICAgaWYgKGNvbnRhaW5zKGNoaWxkLnN0eWxlcy5kaXNwbGF5LCBESVNQTEFZLkxJU1RfSVRFTSkpIHtcbiAgICAgICAgICAgIGxpc3RJdGVtcy5wdXNoKHBhaW50Q29udGFpbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxpc3RPd25lckl0ZW1zID0gY29udGFpbnMoY2hpbGQuZmxhZ3MsIEZMQUdTLklTX0xJU1RfT1dORVIpID8gW10gOiBsaXN0SXRlbXM7XG5cbiAgICAgICAgaWYgKHRyZWF0QXNSZWFsU3RhY2tpbmdDb250ZXh0IHx8IGNyZWF0ZXNTdGFja2luZ0NvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFN0YWNrID1cbiAgICAgICAgICAgICAgICB0cmVhdEFzUmVhbFN0YWNraW5nQ29udGV4dCB8fCBjaGlsZC5zdHlsZXMuaXNQb3NpdGlvbmVkKCkgPyByZWFsU3RhY2tpbmdDb250ZXh0IDogc3RhY2tpbmdDb250ZXh0O1xuXG4gICAgICAgICAgICBjb25zdCBzdGFjayA9IG5ldyBTdGFja2luZ0NvbnRleHQocGFpbnRDb250YWluZXIpO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQuc3R5bGVzLmlzUG9zaXRpb25lZCgpIHx8IGNoaWxkLnN0eWxlcy5vcGFjaXR5IDwgMSB8fCBjaGlsZC5zdHlsZXMuaXNUcmFuc2Zvcm1lZCgpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JkZXIgPSBjaGlsZC5zdHlsZXMuekluZGV4Lm9yZGVyO1xuICAgICAgICAgICAgICAgIGlmIChvcmRlciA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRTdGFjay5uZWdhdGl2ZVpJbmRleC5zb21lKChjdXJyZW50LCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXIgPiBjdXJyZW50LmVsZW1lbnQuY29udGFpbmVyLnN0eWxlcy56SW5kZXgub3JkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhY2submVnYXRpdmVaSW5kZXguc3BsaWNlKGluZGV4LCAwLCBzdGFjayk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcmRlciA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhY2sucG9zaXRpdmVaSW5kZXguc29tZSgoY3VycmVudCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yZGVyID49IGN1cnJlbnQuZWxlbWVudC5jb250YWluZXIuc3R5bGVzLnpJbmRleC5vcmRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhY2sucG9zaXRpdmVaSW5kZXguc3BsaWNlKGluZGV4LCAwLCBzdGFjayk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhY2suemVyb09yQXV0b1pJbmRleE9yVHJhbnNmb3JtZWRPck9wYWNpdHkucHVzaChzdGFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuc3R5bGVzLmlzRmxvYXRpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRTdGFjay5ub25Qb3NpdGlvbmVkRmxvYXRzLnB1c2goc3RhY2spO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFN0YWNrLm5vblBvc2l0aW9uZWRJbmxpbmVMZXZlbC5wdXNoKHN0YWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcnNlU3RhY2tUcmVlKFxuICAgICAgICAgICAgICAgIHBhaW50Q29udGFpbmVyLFxuICAgICAgICAgICAgICAgIHN0YWNrLFxuICAgICAgICAgICAgICAgIHRyZWF0QXNSZWFsU3RhY2tpbmdDb250ZXh0ID8gc3RhY2sgOiByZWFsU3RhY2tpbmdDb250ZXh0LFxuICAgICAgICAgICAgICAgIGxpc3RPd25lckl0ZW1zXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNoaWxkLnN0eWxlcy5pc0lubGluZUxldmVsKCkpIHtcbiAgICAgICAgICAgICAgICBzdGFja2luZ0NvbnRleHQuaW5saW5lTGV2ZWwucHVzaChwYWludENvbnRhaW5lcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YWNraW5nQ29udGV4dC5ub25JbmxpbmVMZXZlbC5wdXNoKHBhaW50Q29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFyc2VTdGFja1RyZWUocGFpbnRDb250YWluZXIsIHN0YWNraW5nQ29udGV4dCwgcmVhbFN0YWNraW5nQ29udGV4dCwgbGlzdE93bmVySXRlbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRhaW5zKGNoaWxkLmZsYWdzLCBGTEFHUy5JU19MSVNUX09XTkVSKSkge1xuICAgICAgICAgICAgcHJvY2Vzc0xpc3RJdGVtcyhjaGlsZCwgbGlzdE93bmVySXRlbXMpO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5jb25zdCBwcm9jZXNzTGlzdEl0ZW1zID0gKG93bmVyOiBFbGVtZW50Q29udGFpbmVyLCBlbGVtZW50czogRWxlbWVudFBhaW50W10pID0+IHtcbiAgICBsZXQgbnVtYmVyaW5nID0gb3duZXIgaW5zdGFuY2VvZiBPTEVsZW1lbnRDb250YWluZXIgPyBvd25lci5zdGFydCA6IDE7XG4gICAgY29uc3QgcmV2ZXJzZWQgPSBvd25lciBpbnN0YW5jZW9mIE9MRWxlbWVudENvbnRhaW5lciA/IG93bmVyLnJldmVyc2VkIDogZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBpdGVtID0gZWxlbWVudHNbaV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGl0ZW0uY29udGFpbmVyIGluc3RhbmNlb2YgTElFbGVtZW50Q29udGFpbmVyICYmXG4gICAgICAgICAgICB0eXBlb2YgaXRlbS5jb250YWluZXIudmFsdWUgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICBpdGVtLmNvbnRhaW5lci52YWx1ZSAhPT0gMFxuICAgICAgICApIHtcbiAgICAgICAgICAgIG51bWJlcmluZyA9IGl0ZW0uY29udGFpbmVyLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaXRlbS5saXN0VmFsdWUgPSBjcmVhdGVDb3VudGVyVGV4dChudW1iZXJpbmcsIGl0ZW0uY29udGFpbmVyLnN0eWxlcy5saXN0U3R5bGVUeXBlLCB0cnVlKTtcblxuICAgICAgICBudW1iZXJpbmcgKz0gcmV2ZXJzZWQgPyAtMSA6IDE7XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlU3RhY2tpbmdDb250ZXh0cyA9IChjb250YWluZXI6IEVsZW1lbnRDb250YWluZXIpOiBTdGFja2luZ0NvbnRleHQgPT4ge1xuICAgIGNvbnN0IHBhaW50Q29udGFpbmVyID0gbmV3IEVsZW1lbnRQYWludChjb250YWluZXIsIFtdKTtcbiAgICBjb25zdCByb290ID0gbmV3IFN0YWNraW5nQ29udGV4dChwYWludENvbnRhaW5lcik7XG4gICAgY29uc3QgbGlzdEl0ZW1zOiBFbGVtZW50UGFpbnRbXSA9IFtdO1xuICAgIHBhcnNlU3RhY2tUcmVlKHBhaW50Q29udGFpbmVyLCByb290LCByb290LCBsaXN0SXRlbXMpO1xuICAgIHByb2Nlc3NMaXN0SXRlbXMocGFpbnRDb250YWluZXIuY29udGFpbmVyLCBsaXN0SXRlbXMpO1xuICAgIHJldHVybiByb290O1xufTtcbiIsImltcG9ydCB7UGF0aH0gZnJvbSAnLi9wYXRoJztcbmltcG9ydCB7Qm91bmRDdXJ2ZXN9IGZyb20gJy4vYm91bmQtY3VydmVzJztcbmltcG9ydCB7aXNCZXppZXJDdXJ2ZX0gZnJvbSAnLi9iZXppZXItY3VydmUnO1xuXG5leHBvcnQgY29uc3QgcGFyc2VQYXRoRm9yQm9yZGVyID0gKGN1cnZlczogQm91bmRDdXJ2ZXMsIGJvcmRlclNpZGU6IG51bWJlcik6IFBhdGhbXSA9PiB7XG4gICAgc3dpdGNoIChib3JkZXJTaWRlKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVQYXRoRnJvbUN1cnZlcyhcbiAgICAgICAgICAgICAgICBjdXJ2ZXMudG9wTGVmdEJvcmRlckJveCxcbiAgICAgICAgICAgICAgICBjdXJ2ZXMudG9wTGVmdFBhZGRpbmdCb3gsXG4gICAgICAgICAgICAgICAgY3VydmVzLnRvcFJpZ2h0Qm9yZGVyQm94LFxuICAgICAgICAgICAgICAgIGN1cnZlcy50b3BSaWdodFBhZGRpbmdCb3hcbiAgICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVQYXRoRnJvbUN1cnZlcyhcbiAgICAgICAgICAgICAgICBjdXJ2ZXMudG9wUmlnaHRCb3JkZXJCb3gsXG4gICAgICAgICAgICAgICAgY3VydmVzLnRvcFJpZ2h0UGFkZGluZ0JveCxcbiAgICAgICAgICAgICAgICBjdXJ2ZXMuYm90dG9tUmlnaHRCb3JkZXJCb3gsXG4gICAgICAgICAgICAgICAgY3VydmVzLmJvdHRvbVJpZ2h0UGFkZGluZ0JveFxuICAgICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVBhdGhGcm9tQ3VydmVzKFxuICAgICAgICAgICAgICAgIGN1cnZlcy5ib3R0b21SaWdodEJvcmRlckJveCxcbiAgICAgICAgICAgICAgICBjdXJ2ZXMuYm90dG9tUmlnaHRQYWRkaW5nQm94LFxuICAgICAgICAgICAgICAgIGN1cnZlcy5ib3R0b21MZWZ0Qm9yZGVyQm94LFxuICAgICAgICAgICAgICAgIGN1cnZlcy5ib3R0b21MZWZ0UGFkZGluZ0JveFxuICAgICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVBhdGhGcm9tQ3VydmVzKFxuICAgICAgICAgICAgICAgIGN1cnZlcy5ib3R0b21MZWZ0Qm9yZGVyQm94LFxuICAgICAgICAgICAgICAgIGN1cnZlcy5ib3R0b21MZWZ0UGFkZGluZ0JveCxcbiAgICAgICAgICAgICAgICBjdXJ2ZXMudG9wTGVmdEJvcmRlckJveCxcbiAgICAgICAgICAgICAgICBjdXJ2ZXMudG9wTGVmdFBhZGRpbmdCb3hcbiAgICAgICAgICAgICk7XG4gICAgfVxufTtcblxuY29uc3QgY3JlYXRlUGF0aEZyb21DdXJ2ZXMgPSAob3V0ZXIxOiBQYXRoLCBpbm5lcjE6IFBhdGgsIG91dGVyMjogUGF0aCwgaW5uZXIyOiBQYXRoKTogUGF0aFtdID0+IHtcbiAgICBjb25zdCBwYXRoID0gW107XG4gICAgaWYgKGlzQmV6aWVyQ3VydmUob3V0ZXIxKSkge1xuICAgICAgICBwYXRoLnB1c2gob3V0ZXIxLnN1YmRpdmlkZSgwLjUsIGZhbHNlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGF0aC5wdXNoKG91dGVyMSk7XG4gICAgfVxuXG4gICAgaWYgKGlzQmV6aWVyQ3VydmUob3V0ZXIyKSkge1xuICAgICAgICBwYXRoLnB1c2gob3V0ZXIyLnN1YmRpdmlkZSgwLjUsIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwYXRoLnB1c2gob3V0ZXIyKTtcbiAgICB9XG5cbiAgICBpZiAoaXNCZXppZXJDdXJ2ZShpbm5lcjIpKSB7XG4gICAgICAgIHBhdGgucHVzaChpbm5lcjIuc3ViZGl2aWRlKDAuNSwgdHJ1ZSkucmV2ZXJzZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwYXRoLnB1c2goaW5uZXIyKTtcbiAgICB9XG5cbiAgICBpZiAoaXNCZXppZXJDdXJ2ZShpbm5lcjEpKSB7XG4gICAgICAgIHBhdGgucHVzaChpbm5lcjEuc3ViZGl2aWRlKDAuNSwgZmFsc2UpLnJldmVyc2UoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGF0aC5wdXNoKGlubmVyMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhdGg7XG59O1xuIiwiaW1wb3J0IHtnZXRBYnNvbHV0ZVZhbHVlfSBmcm9tICcuLi9jc3MvdHlwZXMvbGVuZ3RoLXBlcmNlbnRhZ2UnO1xuaW1wb3J0IHtCb3VuZHN9IGZyb20gJy4uL2Nzcy9sYXlvdXQvYm91bmRzJztcbmltcG9ydCB7RWxlbWVudENvbnRhaW5lcn0gZnJvbSAnLi4vZG9tL2VsZW1lbnQtY29udGFpbmVyJztcblxuZXhwb3J0IGNvbnN0IHBhZGRpbmdCb3ggPSAoZWxlbWVudDogRWxlbWVudENvbnRhaW5lcik6IEJvdW5kcyA9PiB7XG4gICAgY29uc3QgYm91bmRzID0gZWxlbWVudC5ib3VuZHM7XG4gICAgY29uc3Qgc3R5bGVzID0gZWxlbWVudC5zdHlsZXM7XG4gICAgcmV0dXJuIGJvdW5kcy5hZGQoXG4gICAgICAgIHN0eWxlcy5ib3JkZXJMZWZ0V2lkdGgsXG4gICAgICAgIHN0eWxlcy5ib3JkZXJUb3BXaWR0aCxcbiAgICAgICAgLShzdHlsZXMuYm9yZGVyUmlnaHRXaWR0aCArIHN0eWxlcy5ib3JkZXJMZWZ0V2lkdGgpLFxuICAgICAgICAtKHN0eWxlcy5ib3JkZXJUb3BXaWR0aCArIHN0eWxlcy5ib3JkZXJCb3R0b21XaWR0aClcbiAgICApO1xufTtcblxuZXhwb3J0IGNvbnN0IGNvbnRlbnRCb3ggPSAoZWxlbWVudDogRWxlbWVudENvbnRhaW5lcik6IEJvdW5kcyA9PiB7XG4gICAgY29uc3Qgc3R5bGVzID0gZWxlbWVudC5zdHlsZXM7XG4gICAgY29uc3QgYm91bmRzID0gZWxlbWVudC5ib3VuZHM7XG5cbiAgICBjb25zdCBwYWRkaW5nTGVmdCA9IGdldEFic29sdXRlVmFsdWUoc3R5bGVzLnBhZGRpbmdMZWZ0LCBib3VuZHMud2lkdGgpO1xuICAgIGNvbnN0IHBhZGRpbmdSaWdodCA9IGdldEFic29sdXRlVmFsdWUoc3R5bGVzLnBhZGRpbmdSaWdodCwgYm91bmRzLndpZHRoKTtcbiAgICBjb25zdCBwYWRkaW5nVG9wID0gZ2V0QWJzb2x1dGVWYWx1ZShzdHlsZXMucGFkZGluZ1RvcCwgYm91bmRzLndpZHRoKTtcbiAgICBjb25zdCBwYWRkaW5nQm90dG9tID0gZ2V0QWJzb2x1dGVWYWx1ZShzdHlsZXMucGFkZGluZ0JvdHRvbSwgYm91bmRzLndpZHRoKTtcblxuICAgIHJldHVybiBib3VuZHMuYWRkKFxuICAgICAgICBwYWRkaW5nTGVmdCArIHN0eWxlcy5ib3JkZXJMZWZ0V2lkdGgsXG4gICAgICAgIHBhZGRpbmdUb3AgKyBzdHlsZXMuYm9yZGVyVG9wV2lkdGgsXG4gICAgICAgIC0oc3R5bGVzLmJvcmRlclJpZ2h0V2lkdGggKyBzdHlsZXMuYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQgKyBwYWRkaW5nUmlnaHQpLFxuICAgICAgICAtKHN0eWxlcy5ib3JkZXJUb3BXaWR0aCArIHN0eWxlcy5ib3JkZXJCb3R0b21XaWR0aCArIHBhZGRpbmdUb3AgKyBwYWRkaW5nQm90dG9tKVxuICAgICk7XG59O1xuIiwiaW1wb3J0IHtCb3VuZHN9IGZyb20gJy4uL2Nzcy9sYXlvdXQvYm91bmRzJztcbmltcG9ydCB7QkFDS0dST1VORF9PUklHSU59IGZyb20gJy4uL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9iYWNrZ3JvdW5kLW9yaWdpbic7XG5pbXBvcnQge0VsZW1lbnRDb250YWluZXJ9IGZyb20gJy4uL2RvbS9lbGVtZW50LWNvbnRhaW5lcic7XG5pbXBvcnQge0JBQ0tHUk9VTkRfU0laRSwgQmFja2dyb3VuZFNpemVJbmZvfSBmcm9tICcuLi9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvYmFja2dyb3VuZC1zaXplJztcbmltcG9ydCB7VmVjdG9yfSBmcm9tICcuL3ZlY3Rvcic7XG5pbXBvcnQge0JBQ0tHUk9VTkRfUkVQRUFUfSBmcm9tICcuLi9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvYmFja2dyb3VuZC1yZXBlYXQnO1xuaW1wb3J0IHtnZXRBYnNvbHV0ZVZhbHVlLCBnZXRBYnNvbHV0ZVZhbHVlRm9yVHVwbGUsIGlzTGVuZ3RoUGVyY2VudGFnZX0gZnJvbSAnLi4vY3NzL3R5cGVzL2xlbmd0aC1wZXJjZW50YWdlJztcbmltcG9ydCB7Q1NTVmFsdWUsIGlzSWRlbnRUb2tlbn0gZnJvbSAnLi4vY3NzL3N5bnRheC9wYXJzZXInO1xuaW1wb3J0IHtjb250ZW50Qm94LCBwYWRkaW5nQm94fSBmcm9tICcuL2JveC1zaXppbmcnO1xuaW1wb3J0IHtQYXRofSBmcm9tICcuL3BhdGgnO1xuaW1wb3J0IHtCQUNLR1JPVU5EX0NMSVB9IGZyb20gJy4uL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9iYWNrZ3JvdW5kLWNsaXAnO1xuXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlQmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYSA9IChcbiAgICBiYWNrZ3JvdW5kT3JpZ2luOiBCQUNLR1JPVU5EX09SSUdJTixcbiAgICBlbGVtZW50OiBFbGVtZW50Q29udGFpbmVyXG4pOiBCb3VuZHMgPT4ge1xuICAgIGlmIChiYWNrZ3JvdW5kT3JpZ2luID09PSBCQUNLR1JPVU5EX09SSUdJTi5CT1JERVJfQk9YKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LmJvdW5kcztcbiAgICB9XG5cbiAgICBpZiAoYmFja2dyb3VuZE9yaWdpbiA9PT0gQkFDS0dST1VORF9PUklHSU4uQ09OVEVOVF9CT1gpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnRCb3goZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhZGRpbmdCb3goZWxlbWVudCk7XG59O1xuXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlQmFja2dyb3VuZFBhaW50aW5nQXJlYSA9IChiYWNrZ3JvdW5kQ2xpcDogQkFDS0dST1VORF9DTElQLCBlbGVtZW50OiBFbGVtZW50Q29udGFpbmVyKTogQm91bmRzID0+IHtcbiAgICBpZiAoYmFja2dyb3VuZENsaXAgPT09IEJBQ0tHUk9VTkRfQ0xJUC5CT1JERVJfQk9YKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LmJvdW5kcztcbiAgICB9XG5cbiAgICBpZiAoYmFja2dyb3VuZENsaXAgPT09IEJBQ0tHUk9VTkRfQ0xJUC5DT05URU5UX0JPWCkge1xuICAgICAgICByZXR1cm4gY29udGVudEJveChlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFkZGluZ0JveChlbGVtZW50KTtcbn07XG5cbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVCYWNrZ3JvdW5kUmVuZGVyaW5nID0gKFxuICAgIGNvbnRhaW5lcjogRWxlbWVudENvbnRhaW5lcixcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGludHJpbnNpY1NpemU6IFtudW1iZXIgfCBudWxsLCBudW1iZXIgfCBudWxsLCBudW1iZXIgfCBudWxsXVxuKTogW1BhdGhbXSwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9PiB7XG4gICAgY29uc3QgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYSA9IGNhbGN1bGF0ZUJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEoXG4gICAgICAgIGdldEJhY2tncm91bmRWYWx1ZUZvckluZGV4KGNvbnRhaW5lci5zdHlsZXMuYmFja2dyb3VuZE9yaWdpbiwgaW5kZXgpLFxuICAgICAgICBjb250YWluZXJcbiAgICApO1xuXG4gICAgY29uc3QgYmFja2dyb3VuZFBhaW50aW5nQXJlYSA9IGNhbGN1bGF0ZUJhY2tncm91bmRQYWludGluZ0FyZWEoXG4gICAgICAgIGdldEJhY2tncm91bmRWYWx1ZUZvckluZGV4KGNvbnRhaW5lci5zdHlsZXMuYmFja2dyb3VuZENsaXAsIGluZGV4KSxcbiAgICAgICAgY29udGFpbmVyXG4gICAgKTtcblxuICAgIGNvbnN0IGJhY2tncm91bmRJbWFnZVNpemUgPSBjYWxjdWxhdGVCYWNrZ3JvdW5kU2l6ZShcbiAgICAgICAgZ2V0QmFja2dyb3VuZFZhbHVlRm9ySW5kZXgoY29udGFpbmVyLnN0eWxlcy5iYWNrZ3JvdW5kU2l6ZSwgaW5kZXgpLFxuICAgICAgICBpbnRyaW5zaWNTaXplLFxuICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhXG4gICAgKTtcblxuICAgIGNvbnN0IFtzaXplV2lkdGgsIHNpemVIZWlnaHRdID0gYmFja2dyb3VuZEltYWdlU2l6ZTtcblxuICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0QWJzb2x1dGVWYWx1ZUZvclR1cGxlKFxuICAgICAgICBnZXRCYWNrZ3JvdW5kVmFsdWVGb3JJbmRleChjb250YWluZXIuc3R5bGVzLmJhY2tncm91bmRQb3NpdGlvbiwgaW5kZXgpLFxuICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLndpZHRoIC0gc2l6ZVdpZHRoLFxuICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmhlaWdodCAtIHNpemVIZWlnaHRcbiAgICApO1xuXG4gICAgY29uc3QgcGF0aCA9IGNhbGN1bGF0ZUJhY2tncm91bmRSZXBlYXRQYXRoKFxuICAgICAgICBnZXRCYWNrZ3JvdW5kVmFsdWVGb3JJbmRleChjb250YWluZXIuc3R5bGVzLmJhY2tncm91bmRSZXBlYXQsIGluZGV4KSxcbiAgICAgICAgcG9zaXRpb24sXG4gICAgICAgIGJhY2tncm91bmRJbWFnZVNpemUsXG4gICAgICAgIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEsXG4gICAgICAgIGJhY2tncm91bmRQYWludGluZ0FyZWFcbiAgICApO1xuXG4gICAgY29uc3Qgb2Zmc2V0WCA9IE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgcG9zaXRpb25bMF0pO1xuICAgIGNvbnN0IG9mZnNldFkgPSBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgcG9zaXRpb25bMV0pO1xuXG4gICAgcmV0dXJuIFtwYXRoLCBvZmZzZXRYLCBvZmZzZXRZLCBzaXplV2lkdGgsIHNpemVIZWlnaHRdO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQXV0byA9ICh0b2tlbjogQ1NTVmFsdWUpOiBib29sZWFuID0+IGlzSWRlbnRUb2tlbih0b2tlbikgJiYgdG9rZW4udmFsdWUgPT09IEJBQ0tHUk9VTkRfU0laRS5BVVRPO1xuXG5jb25zdCBoYXNJbnRyaW5zaWNWYWx1ZSA9ICh2YWx1ZTogbnVtYmVyIHwgbnVsbCk6IHZhbHVlIGlzIG51bWJlciA9PiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInO1xuXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlQmFja2dyb3VuZFNpemUgPSAoXG4gICAgc2l6ZTogQmFja2dyb3VuZFNpemVJbmZvW10sXG4gICAgW2ludHJpbnNpY1dpZHRoLCBpbnRyaW5zaWNIZWlnaHQsIGludHJpbnNpY1Byb3BvcnRpb25dOiBbbnVtYmVyIHwgbnVsbCwgbnVtYmVyIHwgbnVsbCwgbnVtYmVyIHwgbnVsbF0sXG4gICAgYm91bmRzOiBCb3VuZHNcbik6IFtudW1iZXIsIG51bWJlcl0gPT4ge1xuICAgIGNvbnN0IFtmaXJzdCwgc2Vjb25kXSA9IHNpemU7XG5cbiAgICBpZiAoaXNMZW5ndGhQZXJjZW50YWdlKGZpcnN0KSAmJiBzZWNvbmQgJiYgaXNMZW5ndGhQZXJjZW50YWdlKHNlY29uZCkpIHtcbiAgICAgICAgcmV0dXJuIFtnZXRBYnNvbHV0ZVZhbHVlKGZpcnN0LCBib3VuZHMud2lkdGgpLCBnZXRBYnNvbHV0ZVZhbHVlKHNlY29uZCwgYm91bmRzLmhlaWdodCldO1xuICAgIH1cblxuICAgIGNvbnN0IGhhc0ludHJpbnNpY1Byb3BvcnRpb24gPSBoYXNJbnRyaW5zaWNWYWx1ZShpbnRyaW5zaWNQcm9wb3J0aW9uKTtcblxuICAgIGlmIChpc0lkZW50VG9rZW4oZmlyc3QpICYmIChmaXJzdC52YWx1ZSA9PT0gQkFDS0dST1VORF9TSVpFLkNPTlRBSU4gfHwgZmlyc3QudmFsdWUgPT09IEJBQ0tHUk9VTkRfU0laRS5DT1ZFUikpIHtcbiAgICAgICAgaWYgKGhhc0ludHJpbnNpY1ZhbHVlKGludHJpbnNpY1Byb3BvcnRpb24pKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRSYXRpbyA9IGJvdW5kcy53aWR0aCAvIGJvdW5kcy5oZWlnaHQ7XG5cbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRSYXRpbyA8IGludHJpbnNpY1Byb3BvcnRpb24gIT09IChmaXJzdC52YWx1ZSA9PT0gQkFDS0dST1VORF9TSVpFLkNPVkVSKVxuICAgICAgICAgICAgICAgID8gW2JvdW5kcy53aWR0aCwgYm91bmRzLndpZHRoIC8gaW50cmluc2ljUHJvcG9ydGlvbl1cbiAgICAgICAgICAgICAgICA6IFtib3VuZHMuaGVpZ2h0ICogaW50cmluc2ljUHJvcG9ydGlvbiwgYm91bmRzLmhlaWdodF07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW2JvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodF07XG4gICAgfVxuXG4gICAgY29uc3QgaGFzSW50cmluc2ljV2lkdGggPSBoYXNJbnRyaW5zaWNWYWx1ZShpbnRyaW5zaWNXaWR0aCk7XG4gICAgY29uc3QgaGFzSW50cmluc2ljSGVpZ2h0ID0gaGFzSW50cmluc2ljVmFsdWUoaW50cmluc2ljSGVpZ2h0KTtcbiAgICBjb25zdCBoYXNJbnRyaW5zaWNEaW1lbnNpb25zID0gaGFzSW50cmluc2ljV2lkdGggfHwgaGFzSW50cmluc2ljSGVpZ2h0O1xuXG4gICAgLy8gSWYgdGhlIGJhY2tncm91bmQtc2l6ZSBpcyBhdXRvIG9yIGF1dG8gYXV0bzpcbiAgICBpZiAoaXNBdXRvKGZpcnN0KSAmJiAoIXNlY29uZCB8fCBpc0F1dG8oc2Vjb25kKSkpIHtcbiAgICAgICAgLy8gSWYgdGhlIGltYWdlIGhhcyBib3RoIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIGludHJpbnNpYyBkaW1lbnNpb25zLCBpdCdzIHJlbmRlcmVkIGF0IHRoYXQgc2l6ZS5cbiAgICAgICAgaWYgKGhhc0ludHJpbnNpY1dpZHRoICYmIGhhc0ludHJpbnNpY0hlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuIFtpbnRyaW5zaWNXaWR0aCBhcyBudW1iZXIsIGludHJpbnNpY0hlaWdodCBhcyBudW1iZXJdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlIGltYWdlIGhhcyBubyBpbnRyaW5zaWMgZGltZW5zaW9ucyBhbmQgaGFzIG5vIGludHJpbnNpYyBwcm9wb3J0aW9ucyxcbiAgICAgICAgLy8gaXQncyByZW5kZXJlZCBhdCB0aGUgc2l6ZSBvZiB0aGUgYmFja2dyb3VuZCBwb3NpdGlvbmluZyBhcmVhLlxuXG4gICAgICAgIGlmICghaGFzSW50cmluc2ljUHJvcG9ydGlvbiAmJiAhaGFzSW50cmluc2ljRGltZW5zaW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIFtib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHRdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyBJZiB0aGUgaW1hZ2UgaGFzIG5vIGludHJpbnNpYyBkaW1lbnNpb25zIGJ1dCBoYXMgaW50cmluc2ljIHByb3BvcnRpb25zLCBpdCdzIHJlbmRlcmVkIGFzIGlmIGNvbnRhaW4gaGFkIGJlZW4gc3BlY2lmaWVkIGluc3RlYWQuXG5cbiAgICAgICAgLy8gSWYgdGhlIGltYWdlIGhhcyBvbmx5IG9uZSBpbnRyaW5zaWMgZGltZW5zaW9uIGFuZCBoYXMgaW50cmluc2ljIHByb3BvcnRpb25zLCBpdCdzIHJlbmRlcmVkIGF0IHRoZSBzaXplIGNvcnJlc3BvbmRpbmcgdG8gdGhhdCBvbmUgZGltZW5zaW9uLlxuICAgICAgICAvLyBUaGUgb3RoZXIgZGltZW5zaW9uIGlzIGNvbXB1dGVkIHVzaW5nIHRoZSBzcGVjaWZpZWQgZGltZW5zaW9uIGFuZCB0aGUgaW50cmluc2ljIHByb3BvcnRpb25zLlxuICAgICAgICBpZiAoaGFzSW50cmluc2ljRGltZW5zaW9ucyAmJiBoYXNJbnRyaW5zaWNQcm9wb3J0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IGhhc0ludHJpbnNpY1dpZHRoXG4gICAgICAgICAgICAgICAgPyAoaW50cmluc2ljV2lkdGggYXMgbnVtYmVyKVxuICAgICAgICAgICAgICAgIDogKGludHJpbnNpY0hlaWdodCBhcyBudW1iZXIpICogKGludHJpbnNpY1Byb3BvcnRpb24gYXMgbnVtYmVyKTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGhhc0ludHJpbnNpY0hlaWdodFxuICAgICAgICAgICAgICAgID8gKGludHJpbnNpY0hlaWdodCBhcyBudW1iZXIpXG4gICAgICAgICAgICAgICAgOiAoaW50cmluc2ljV2lkdGggYXMgbnVtYmVyKSAvIChpbnRyaW5zaWNQcm9wb3J0aW9uIGFzIG51bWJlcik7XG4gICAgICAgICAgICByZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlIGltYWdlIGhhcyBvbmx5IG9uZSBpbnRyaW5zaWMgZGltZW5zaW9uIGJ1dCBoYXMgbm8gaW50cmluc2ljIHByb3BvcnRpb25zLFxuICAgICAgICAvLyBpdCdzIHJlbmRlcmVkIHVzaW5nIHRoZSBzcGVjaWZpZWQgZGltZW5zaW9uIGFuZCB0aGUgb3RoZXIgZGltZW5zaW9uIG9mIHRoZSBiYWNrZ3JvdW5kIHBvc2l0aW9uaW5nIGFyZWEuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gaGFzSW50cmluc2ljV2lkdGggPyAoaW50cmluc2ljV2lkdGggYXMgbnVtYmVyKSA6IGJvdW5kcy53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gaGFzSW50cmluc2ljSGVpZ2h0ID8gKGludHJpbnNpY0hlaWdodCBhcyBudW1iZXIpIDogYm91bmRzLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgaW1hZ2UgaGFzIGludHJpbnNpYyBwcm9wb3J0aW9ucywgaXQncyBzdHJldGNoZWQgdG8gdGhlIHNwZWNpZmllZCBkaW1lbnNpb24uXG4gICAgLy8gVGhlIHVuc3BlY2lmaWVkIGRpbWVuc2lvbiBpcyBjb21wdXRlZCB1c2luZyB0aGUgc3BlY2lmaWVkIGRpbWVuc2lvbiBhbmQgdGhlIGludHJpbnNpYyBwcm9wb3J0aW9ucy5cbiAgICBpZiAoaGFzSW50cmluc2ljUHJvcG9ydGlvbikge1xuICAgICAgICBsZXQgd2lkdGggPSAwO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gMDtcbiAgICAgICAgaWYgKGlzTGVuZ3RoUGVyY2VudGFnZShmaXJzdCkpIHtcbiAgICAgICAgICAgIHdpZHRoID0gZ2V0QWJzb2x1dGVWYWx1ZShmaXJzdCwgYm91bmRzLndpZHRoKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0xlbmd0aFBlcmNlbnRhZ2Uoc2Vjb25kKSkge1xuICAgICAgICAgICAgaGVpZ2h0ID0gZ2V0QWJzb2x1dGVWYWx1ZShzZWNvbmQsIGJvdW5kcy5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQXV0byhmaXJzdCkpIHtcbiAgICAgICAgICAgIHdpZHRoID0gaGVpZ2h0ICogKGludHJpbnNpY1Byb3BvcnRpb24gYXMgbnVtYmVyKTtcbiAgICAgICAgfSBlbHNlIGlmICghc2Vjb25kIHx8IGlzQXV0byhzZWNvbmQpKSB7XG4gICAgICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIChpbnRyaW5zaWNQcm9wb3J0aW9uIGFzIG51bWJlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBpbWFnZSBoYXMgbm8gaW50cmluc2ljIHByb3BvcnRpb25zLCBpdCdzIHN0cmV0Y2hlZCB0byB0aGUgc3BlY2lmaWVkIGRpbWVuc2lvbi5cbiAgICAvLyBUaGUgdW5zcGVjaWZpZWQgZGltZW5zaW9uIGlzIGNvbXB1dGVkIHVzaW5nIHRoZSBpbWFnZSdzIGNvcnJlc3BvbmRpbmcgaW50cmluc2ljIGRpbWVuc2lvbixcbiAgICAvLyBpZiB0aGVyZSBpcyBvbmUuIElmIHRoZXJlIGlzIG5vIHN1Y2ggaW50cmluc2ljIGRpbWVuc2lvbixcbiAgICAvLyBpdCBiZWNvbWVzIHRoZSBjb3JyZXNwb25kaW5nIGRpbWVuc2lvbiBvZiB0aGUgYmFja2dyb3VuZCBwb3NpdGlvbmluZyBhcmVhLlxuXG4gICAgbGV0IHdpZHRoID0gbnVsbDtcbiAgICBsZXQgaGVpZ2h0ID0gbnVsbDtcblxuICAgIGlmIChpc0xlbmd0aFBlcmNlbnRhZ2UoZmlyc3QpKSB7XG4gICAgICAgIHdpZHRoID0gZ2V0QWJzb2x1dGVWYWx1ZShmaXJzdCwgYm91bmRzLndpZHRoKTtcbiAgICB9IGVsc2UgaWYgKHNlY29uZCAmJiBpc0xlbmd0aFBlcmNlbnRhZ2Uoc2Vjb25kKSkge1xuICAgICAgICBoZWlnaHQgPSBnZXRBYnNvbHV0ZVZhbHVlKHNlY29uZCwgYm91bmRzLmhlaWdodCk7XG4gICAgfVxuXG4gICAgaWYgKHdpZHRoICE9PSBudWxsICYmICghc2Vjb25kIHx8IGlzQXV0byhzZWNvbmQpKSkge1xuICAgICAgICBoZWlnaHQgPVxuICAgICAgICAgICAgaGFzSW50cmluc2ljV2lkdGggJiYgaGFzSW50cmluc2ljSGVpZ2h0XG4gICAgICAgICAgICAgICAgPyAod2lkdGggLyAoaW50cmluc2ljV2lkdGggYXMgbnVtYmVyKSkgKiAoaW50cmluc2ljSGVpZ2h0IGFzIG51bWJlcilcbiAgICAgICAgICAgICAgICA6IGJvdW5kcy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgaWYgKGhlaWdodCAhPT0gbnVsbCAmJiBpc0F1dG8oZmlyc3QpKSB7XG4gICAgICAgIHdpZHRoID1cbiAgICAgICAgICAgIGhhc0ludHJpbnNpY1dpZHRoICYmIGhhc0ludHJpbnNpY0hlaWdodFxuICAgICAgICAgICAgICAgID8gKGhlaWdodCAvIChpbnRyaW5zaWNIZWlnaHQgYXMgbnVtYmVyKSkgKiAoaW50cmluc2ljV2lkdGggYXMgbnVtYmVyKVxuICAgICAgICAgICAgICAgIDogYm91bmRzLndpZHRoO1xuICAgIH1cblxuICAgIGlmICh3aWR0aCAhPT0gbnVsbCAmJiBoZWlnaHQgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjYWxjdWxhdGUgYmFja2dyb3VuZC1zaXplIGZvciBlbGVtZW50YCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QmFja2dyb3VuZFZhbHVlRm9ySW5kZXggPSA8VD4odmFsdWVzOiBUW10sIGluZGV4OiBudW1iZXIpOiBUID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1tpbmRleF07XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlc1swXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlQmFja2dyb3VuZFJlcGVhdFBhdGggPSAoXG4gICAgcmVwZWF0OiBCQUNLR1JPVU5EX1JFUEVBVCxcbiAgICBbeCwgeV06IFtudW1iZXIsIG51bWJlcl0sXG4gICAgW3dpZHRoLCBoZWlnaHRdOiBbbnVtYmVyLCBudW1iZXJdLFxuICAgIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWE6IEJvdW5kcyxcbiAgICBiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhOiBCb3VuZHNcbikgPT4ge1xuICAgIHN3aXRjaCAocmVwZWF0KSB7XG4gICAgICAgIGNhc2UgQkFDS0dST1VORF9SRVBFQVQuUkVQRUFUX1g6XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgeSkpLFxuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS53aWR0aCksXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5KVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgbmV3IFZlY3RvcihcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLndpZHRoKSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChoZWlnaHQgKyBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCArIHkpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKFxuICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCksXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQoaGVpZ2h0ICsgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF07XG4gICAgICAgIGNhc2UgQkFDS0dST1VORF9SRVBFQVQuUkVQRUFUX1k6XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyB4KSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCkpLFxuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgeCArIHdpZHRoKSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgeCArIHdpZHRoKSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmhlaWdodCArIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgbmV3IFZlY3RvcihcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyB4KSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmhlaWdodCArIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF07XG4gICAgICAgIGNhc2UgQkFDS0dST1VORF9SRVBFQVQuTk9fUkVQRUFUOlxuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKFxuICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHgpLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgeSlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgeCArIHdpZHRoKSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCArIHkpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKFxuICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHggKyB3aWR0aCksXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5ICsgaGVpZ2h0KVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgbmV3IFZlY3RvcihcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyB4KSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCArIHkgKyBoZWlnaHQpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQYWludGluZ0FyZWEubGVmdCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBhaW50aW5nQXJlYS50b3ApKSxcbiAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKFxuICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKGJhY2tncm91bmRQYWludGluZ0FyZWEubGVmdCArIGJhY2tncm91bmRQYWludGluZ0FyZWEud2lkdGgpLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKGJhY2tncm91bmRQYWludGluZ0FyZWEudG9wKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgbmV3IFZlY3RvcihcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLmxlZnQgKyBiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLndpZHRoKSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLmhlaWdodCArIGJhY2tncm91bmRQYWludGluZ0FyZWEudG9wKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgbmV3IFZlY3RvcihcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLmxlZnQpLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKGJhY2tncm91bmRQYWludGluZ0FyZWEuaGVpZ2h0ICsgYmFja2dyb3VuZFBhaW50aW5nQXJlYS50b3ApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgXTtcbiAgICB9XG59O1xuIiwiZXhwb3J0IGNvbnN0IFNNQUxMX0lNQUdFID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veUg1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlCUkFBNyc7XG4iLCJpbXBvcnQge1NNQUxMX0lNQUdFfSBmcm9tICcuLi9jb3JlL3V0aWwnO1xuZXhwb3J0IGludGVyZmFjZSBGb250TWV0cmljIHtcbiAgICBiYXNlbGluZTogbnVtYmVyO1xuICAgIG1pZGRsZTogbnVtYmVyO1xufVxuXG5jb25zdCBTQU1QTEVfVEVYVCA9ICdIaWRkZW4gVGV4dCc7XG5cbmV4cG9ydCBjbGFzcyBGb250TWV0cmljcyB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGF0YToge1trZXk6IHN0cmluZ106IEZvbnRNZXRyaWN9O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgX2RvY3VtZW50OiBEb2N1bWVudDtcblxuICAgIGNvbnN0cnVjdG9yKGRvY3VtZW50OiBEb2N1bWVudCkge1xuICAgICAgICB0aGlzLl9kYXRhID0ge307XG4gICAgICAgIHRoaXMuX2RvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwYXJzZU1ldHJpY3MoZm9udEZhbWlseTogc3RyaW5nLCBmb250U2l6ZTogc3RyaW5nKTogRm9udE1ldHJpYyB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCBpbWcgPSB0aGlzLl9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgY29uc3Qgc3BhbiA9IHRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblxuICAgICAgICBjb25zdCBib2R5ID0gdGhpcy5fZG9jdW1lbnQuYm9keSBhcyBIVE1MQm9keUVsZW1lbnQ7XG5cbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLmZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuICAgICAgICBjb250YWluZXIuc3R5bGUuZm9udFNpemUgPSBmb250U2l6ZTtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLm1hcmdpbiA9ICcwJztcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG5cbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuXG4gICAgICAgIGltZy5zcmMgPSBTTUFMTF9JTUFHRTtcbiAgICAgICAgaW1nLndpZHRoID0gMTtcbiAgICAgICAgaW1nLmhlaWdodCA9IDE7XG5cbiAgICAgICAgaW1nLnN0eWxlLm1hcmdpbiA9ICcwJztcbiAgICAgICAgaW1nLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgICAgIGltZy5zdHlsZS52ZXJ0aWNhbEFsaWduID0gJ2Jhc2VsaW5lJztcblxuICAgICAgICBzcGFuLnN0eWxlLmZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuICAgICAgICBzcGFuLnN0eWxlLmZvbnRTaXplID0gZm9udFNpemU7XG4gICAgICAgIHNwYW4uc3R5bGUubWFyZ2luID0gJzAnO1xuICAgICAgICBzcGFuLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG5cbiAgICAgICAgc3Bhbi5hcHBlbmRDaGlsZCh0aGlzLl9kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTQU1QTEVfVEVYVCkpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbWcpO1xuICAgICAgICBjb25zdCBiYXNlbGluZSA9IGltZy5vZmZzZXRUb3AgLSBzcGFuLm9mZnNldFRvcCArIDI7XG5cbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHNwYW4pO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoU0FNUExFX1RFWFQpKTtcblxuICAgICAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9ICdub3JtYWwnO1xuICAgICAgICBpbWcuc3R5bGUudmVydGljYWxBbGlnbiA9ICdzdXBlcic7XG5cbiAgICAgICAgY29uc3QgbWlkZGxlID0gaW1nLm9mZnNldFRvcCAtIGNvbnRhaW5lci5vZmZzZXRUb3AgKyAyO1xuXG4gICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcblxuICAgICAgICByZXR1cm4ge2Jhc2VsaW5lLCBtaWRkbGV9O1xuICAgIH1cbiAgICBnZXRNZXRyaWNzKGZvbnRGYW1pbHk6IHN0cmluZywgZm9udFNpemU6IHN0cmluZyk6IEZvbnRNZXRyaWMge1xuICAgICAgICBjb25zdCBrZXkgPSBgJHtmb250RmFtaWx5fSAke2ZvbnRTaXplfWA7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fZGF0YVtrZXldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5fZGF0YVtrZXldID0gdGhpcy5wYXJzZU1ldHJpY3MoZm9udEZhbWlseSwgZm9udFNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFba2V5XTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0VsZW1lbnRQYWludCwgcGFyc2VTdGFja2luZ0NvbnRleHRzLCBTdGFja2luZ0NvbnRleHR9IGZyb20gJy4uL3N0YWNraW5nLWNvbnRleHQnO1xuaW1wb3J0IHthc1N0cmluZywgQ29sb3IsIGlzVHJhbnNwYXJlbnR9IGZyb20gJy4uLy4uL2Nzcy90eXBlcy9jb2xvcic7XG5pbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi4vLi4vY29yZS9sb2dnZXInO1xuaW1wb3J0IHtFbGVtZW50Q29udGFpbmVyfSBmcm9tICcuLi8uLi9kb20vZWxlbWVudC1jb250YWluZXInO1xuaW1wb3J0IHtCT1JERVJfU1RZTEV9IGZyb20gJy4uLy4uL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9ib3JkZXItc3R5bGUnO1xuaW1wb3J0IHtDU1NQYXJzZWREZWNsYXJhdGlvbn0gZnJvbSAnLi4vLi4vY3NzL2luZGV4JztcbmltcG9ydCB7VGV4dENvbnRhaW5lcn0gZnJvbSAnLi4vLi4vZG9tL3RleHQtY29udGFpbmVyJztcbmltcG9ydCB7UGF0aCwgdHJhbnNmb3JtUGF0aH0gZnJvbSAnLi4vcGF0aCc7XG5pbXBvcnQge0JBQ0tHUk9VTkRfQ0xJUH0gZnJvbSAnLi4vLi4vY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL2JhY2tncm91bmQtY2xpcCc7XG5pbXBvcnQge0JvdW5kQ3VydmVzLCBjYWxjdWxhdGVCb3JkZXJCb3hQYXRoLCBjYWxjdWxhdGVDb250ZW50Qm94UGF0aCwgY2FsY3VsYXRlUGFkZGluZ0JveFBhdGh9IGZyb20gJy4uL2JvdW5kLWN1cnZlcyc7XG5pbXBvcnQge2lzQmV6aWVyQ3VydmV9IGZyb20gJy4uL2Jlemllci1jdXJ2ZSc7XG5pbXBvcnQge1ZlY3Rvcn0gZnJvbSAnLi4vdmVjdG9yJztcbmltcG9ydCB7Q1NTSW1hZ2VUeXBlLCBDU1NVUkxJbWFnZSwgaXNMaW5lYXJHcmFkaWVudCwgaXNSYWRpYWxHcmFkaWVudH0gZnJvbSAnLi4vLi4vY3NzL3R5cGVzL2ltYWdlJztcbmltcG9ydCB7cGFyc2VQYXRoRm9yQm9yZGVyfSBmcm9tICcuLi9ib3JkZXInO1xuaW1wb3J0IHtDYWNoZX0gZnJvbSAnLi4vLi4vY29yZS9jYWNoZS1zdG9yYWdlJztcbmltcG9ydCB7Y2FsY3VsYXRlQmFja2dyb3VuZFJlbmRlcmluZywgZ2V0QmFja2dyb3VuZFZhbHVlRm9ySW5kZXh9IGZyb20gJy4uL2JhY2tncm91bmQnO1xuaW1wb3J0IHtpc0RpbWVuc2lvblRva2VufSBmcm9tICcuLi8uLi9jc3Mvc3ludGF4L3BhcnNlcic7XG5pbXBvcnQge1RleHRCb3VuZHN9IGZyb20gJy4uLy4uL2Nzcy9sYXlvdXQvdGV4dCc7XG5pbXBvcnQge2Zyb21Db2RlUG9pbnQsIHRvQ29kZVBvaW50c30gZnJvbSAnY3NzLWxpbmUtYnJlYWsnO1xuaW1wb3J0IHtJbWFnZUVsZW1lbnRDb250YWluZXJ9IGZyb20gJy4uLy4uL2RvbS9yZXBsYWNlZC1lbGVtZW50cy9pbWFnZS1lbGVtZW50LWNvbnRhaW5lcic7XG5pbXBvcnQge2NvbnRlbnRCb3h9IGZyb20gJy4uL2JveC1zaXppbmcnO1xuaW1wb3J0IHtDYW52YXNFbGVtZW50Q29udGFpbmVyfSBmcm9tICcuLi8uLi9kb20vcmVwbGFjZWQtZWxlbWVudHMvY2FudmFzLWVsZW1lbnQtY29udGFpbmVyJztcbmltcG9ydCB7U1ZHRWxlbWVudENvbnRhaW5lcn0gZnJvbSAnLi4vLi4vZG9tL3JlcGxhY2VkLWVsZW1lbnRzL3N2Zy1lbGVtZW50LWNvbnRhaW5lcic7XG5pbXBvcnQge1JlcGxhY2VkRWxlbWVudENvbnRhaW5lcn0gZnJvbSAnLi4vLi4vZG9tL3JlcGxhY2VkLWVsZW1lbnRzL2luZGV4JztcbmltcG9ydCB7RWZmZWN0VGFyZ2V0LCBJRWxlbWVudEVmZmVjdCwgaXNDbGlwRWZmZWN0LCBpc1RyYW5zZm9ybUVmZmVjdH0gZnJvbSAnLi4vZWZmZWN0cyc7XG5pbXBvcnQge2NvbnRhaW5zfSBmcm9tICcuLi8uLi9jb3JlL2JpdHdpc2UnO1xuaW1wb3J0IHtjYWxjdWxhdGVHcmFkaWVudERpcmVjdGlvbiwgY2FsY3VsYXRlUmFkaXVzLCBwcm9jZXNzQ29sb3JTdG9wc30gZnJvbSAnLi4vLi4vY3NzL3R5cGVzL2Z1bmN0aW9ucy9ncmFkaWVudCc7XG5pbXBvcnQge0ZJRlRZX1BFUkNFTlQsIGdldEFic29sdXRlVmFsdWV9IGZyb20gJy4uLy4uL2Nzcy90eXBlcy9sZW5ndGgtcGVyY2VudGFnZSc7XG5pbXBvcnQge1RFWFRfREVDT1JBVElPTl9MSU5FfSBmcm9tICcuLi8uLi9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvdGV4dC1kZWNvcmF0aW9uLWxpbmUnO1xuaW1wb3J0IHtGb250TWV0cmljc30gZnJvbSAnLi4vZm9udC1tZXRyaWNzJztcbmltcG9ydCB7RElTUExBWX0gZnJvbSAnLi4vLi4vY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL2Rpc3BsYXknO1xuaW1wb3J0IHtCb3VuZHN9IGZyb20gJy4uLy4uL2Nzcy9sYXlvdXQvYm91bmRzJztcbmltcG9ydCB7TElTVF9TVFlMRV9UWVBFfSBmcm9tICcuLi8uLi9jc3MvcHJvcGVydHktZGVzY3JpcHRvcnMvbGlzdC1zdHlsZS10eXBlJztcbmltcG9ydCB7Y29tcHV0ZUxpbmVIZWlnaHR9IGZyb20gJy4uLy4uL2Nzcy9wcm9wZXJ0eS1kZXNjcmlwdG9ycy9saW5lLWhlaWdodCc7XG5pbXBvcnQge0NIRUNLQk9YLCBJTlBVVF9DT0xPUiwgSW5wdXRFbGVtZW50Q29udGFpbmVyLCBSQURJT30gZnJvbSAnLi4vLi4vZG9tL3JlcGxhY2VkLWVsZW1lbnRzL2lucHV0LWVsZW1lbnQtY29udGFpbmVyJztcbmltcG9ydCB7VEVYVF9BTElHTn0gZnJvbSAnLi4vLi4vY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL3RleHQtYWxpZ24nO1xuaW1wb3J0IHtUZXh0YXJlYUVsZW1lbnRDb250YWluZXJ9IGZyb20gJy4uLy4uL2RvbS9lbGVtZW50cy90ZXh0YXJlYS1lbGVtZW50LWNvbnRhaW5lcic7XG5pbXBvcnQge1NlbGVjdEVsZW1lbnRDb250YWluZXJ9IGZyb20gJy4uLy4uL2RvbS9lbGVtZW50cy9zZWxlY3QtZWxlbWVudC1jb250YWluZXInO1xuaW1wb3J0IHtJRnJhbWVFbGVtZW50Q29udGFpbmVyfSBmcm9tICcuLi8uLi9kb20vcmVwbGFjZWQtZWxlbWVudHMvaWZyYW1lLWVsZW1lbnQtY29udGFpbmVyJztcbmltcG9ydCB7VGV4dFNoYWRvd30gZnJvbSAnLi4vLi4vY3NzL3Byb3BlcnR5LWRlc2NyaXB0b3JzL3RleHQtc2hhZG93JztcblxuZXhwb3J0IHR5cGUgUmVuZGVyQ29uZmlndXJhdGlvbnMgPSBSZW5kZXJPcHRpb25zICYge1xuICAgIGJhY2tncm91bmRDb2xvcjogQ29sb3IgfCBudWxsO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJPcHRpb25zIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHNjYWxlOiBudW1iZXI7XG4gICAgY2FudmFzPzogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbiAgICBzY3JvbGxYOiBudW1iZXI7XG4gICAgc2Nyb2xsWTogbnVtYmVyO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgd2luZG93V2lkdGg6IG51bWJlcjtcbiAgICB3aW5kb3dIZWlnaHQ6IG51bWJlcjtcbiAgICBjYWNoZTogQ2FjaGU7XG59XG5cbmNvbnN0IE1BU0tfT0ZGU0VUID0gMTAwMDA7XG5cbmV4cG9ydCBjbGFzcyBDYW52YXNSZW5kZXJlciB7XG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICBvcHRpb25zOiBSZW5kZXJDb25maWd1cmF0aW9ucztcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9hY3RpdmVFZmZlY3RzOiBJRWxlbWVudEVmZmVjdFtdID0gW107XG4gICAgcHJpdmF0ZSByZWFkb25seSBmb250TWV0cmljczogRm9udE1ldHJpY3M7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBSZW5kZXJDb25maWd1cmF0aW9ucykge1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG9wdGlvbnMuY2FudmFzID8gb3B0aW9ucy5jYW52YXMgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgaWYgKCFvcHRpb25zLmNhbnZhcykge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBNYXRoLmZsb29yKG9wdGlvbnMud2lkdGggKiBvcHRpb25zLnNjYWxlKTtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3Iob3B0aW9ucy5oZWlnaHQgKiBvcHRpb25zLnNjYWxlKTtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gYCR7b3B0aW9ucy53aWR0aH1weGA7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS5oZWlnaHQgPSBgJHtvcHRpb25zLmhlaWdodH1weGA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mb250TWV0cmljcyA9IG5ldyBGb250TWV0cmljcyhkb2N1bWVudCk7XG4gICAgICAgIHRoaXMuY3R4LnNjYWxlKHRoaXMub3B0aW9ucy5zY2FsZSwgdGhpcy5vcHRpb25zLnNjYWxlKTtcbiAgICAgICAgdGhpcy5jdHgudHJhbnNsYXRlKC1vcHRpb25zLnggKyBvcHRpb25zLnNjcm9sbFgsIC1vcHRpb25zLnkgKyBvcHRpb25zLnNjcm9sbFkpO1xuICAgICAgICB0aGlzLmN0eC50ZXh0QmFzZWxpbmUgPSAnYm90dG9tJztcbiAgICAgICAgdGhpcy5fYWN0aXZlRWZmZWN0cyA9IFtdO1xuICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2Uob3B0aW9ucy5pZCkuZGVidWcoXG4gICAgICAgICAgICBgQ2FudmFzIHJlbmRlcmVyIGluaXRpYWxpemVkICgke29wdGlvbnMud2lkdGh9eCR7b3B0aW9ucy5oZWlnaHR9IGF0ICR7b3B0aW9ucy54fSwke29wdGlvbnMueX0pIHdpdGggc2NhbGUgJHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNjYWxlXG4gICAgICAgICAgICB9YFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFwcGx5RWZmZWN0cyhlZmZlY3RzOiBJRWxlbWVudEVmZmVjdFtdLCB0YXJnZXQ6IEVmZmVjdFRhcmdldCkge1xuICAgICAgICB3aGlsZSAodGhpcy5fYWN0aXZlRWZmZWN0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMucG9wRWZmZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBlZmZlY3RzLmZpbHRlcihlZmZlY3QgPT4gY29udGFpbnMoZWZmZWN0LnRhcmdldCwgdGFyZ2V0KSkuZm9yRWFjaChlZmZlY3QgPT4gdGhpcy5hcHBseUVmZmVjdChlZmZlY3QpKTtcbiAgICB9XG5cbiAgICBhcHBseUVmZmVjdChlZmZlY3Q6IElFbGVtZW50RWZmZWN0KSB7XG4gICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICAgICAgaWYgKGlzVHJhbnNmb3JtRWZmZWN0KGVmZmVjdCkpIHtcbiAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZShlZmZlY3Qub2Zmc2V0WCwgZWZmZWN0Lm9mZnNldFkpO1xuICAgICAgICAgICAgdGhpcy5jdHgudHJhbnNmb3JtKFxuICAgICAgICAgICAgICAgIGVmZmVjdC5tYXRyaXhbMF0sXG4gICAgICAgICAgICAgICAgZWZmZWN0Lm1hdHJpeFsxXSxcbiAgICAgICAgICAgICAgICBlZmZlY3QubWF0cml4WzJdLFxuICAgICAgICAgICAgICAgIGVmZmVjdC5tYXRyaXhbM10sXG4gICAgICAgICAgICAgICAgZWZmZWN0Lm1hdHJpeFs0XSxcbiAgICAgICAgICAgICAgICBlZmZlY3QubWF0cml4WzVdXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5jdHgudHJhbnNsYXRlKC1lZmZlY3Qub2Zmc2V0WCwgLWVmZmVjdC5vZmZzZXRZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0NsaXBFZmZlY3QoZWZmZWN0KSkge1xuICAgICAgICAgICAgdGhpcy5wYXRoKGVmZmVjdC5wYXRoKTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmNsaXAoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FjdGl2ZUVmZmVjdHMucHVzaChlZmZlY3QpO1xuICAgIH1cblxuICAgIHBvcEVmZmVjdCgpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlRWZmZWN0cy5wb3AoKTtcbiAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuICAgIH1cblxuICAgIGFzeW5jIHJlbmRlclN0YWNrKHN0YWNrOiBTdGFja2luZ0NvbnRleHQpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gc3RhY2suZWxlbWVudC5jb250YWluZXIuc3R5bGVzO1xuICAgICAgICBpZiAoc3R5bGVzLmlzVmlzaWJsZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5nbG9iYWxBbHBoYSA9IHN0eWxlcy5vcGFjaXR5O1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJTdGFja0NvbnRlbnQoc3RhY2spO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgcmVuZGVyTm9kZShwYWludDogRWxlbWVudFBhaW50KSB7XG4gICAgICAgIGlmIChwYWludC5jb250YWluZXIuc3R5bGVzLmlzVmlzaWJsZSgpKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlck5vZGVCYWNrZ3JvdW5kQW5kQm9yZGVycyhwYWludCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlck5vZGVDb250ZW50KHBhaW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclRleHRXaXRoTGV0dGVyU3BhY2luZyh0ZXh0OiBUZXh0Qm91bmRzLCBsZXR0ZXJTcGFjaW5nOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKGxldHRlclNwYWNpbmcgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KHRleHQudGV4dCwgdGV4dC5ib3VuZHMubGVmdCwgdGV4dC5ib3VuZHMudG9wICsgdGV4dC5ib3VuZHMuaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGxldHRlcnMgPSB0b0NvZGVQb2ludHModGV4dC50ZXh0KS5tYXAoaSA9PiBmcm9tQ29kZVBvaW50KGkpKTtcbiAgICAgICAgICAgIGxldHRlcnMucmVkdWNlKChsZWZ0LCBsZXR0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsVGV4dChsZXR0ZXIsIGxlZnQsIHRleHQuYm91bmRzLnRvcCArIHRleHQuYm91bmRzLmhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdCArIHRoaXMuY3R4Lm1lYXN1cmVUZXh0KGxldHRlcikud2lkdGg7XG4gICAgICAgICAgICB9LCB0ZXh0LmJvdW5kcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlRm9udFN0eWxlKHN0eWxlczogQ1NTUGFyc2VkRGVjbGFyYXRpb24pOiBzdHJpbmdbXSB7XG4gICAgICAgIGNvbnN0IGZvbnRWYXJpYW50ID0gc3R5bGVzLmZvbnRWYXJpYW50XG4gICAgICAgICAgICAuZmlsdGVyKHZhcmlhbnQgPT4gdmFyaWFudCA9PT0gJ25vcm1hbCcgfHwgdmFyaWFudCA9PT0gJ3NtYWxsLWNhcHMnKVxuICAgICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgICBjb25zdCBmb250RmFtaWx5ID0gc3R5bGVzLmZvbnRGYW1pbHkuam9pbignLCAnKTtcbiAgICAgICAgY29uc3QgZm9udFNpemUgPSBpc0RpbWVuc2lvblRva2VuKHN0eWxlcy5mb250U2l6ZSlcbiAgICAgICAgICAgID8gYCR7c3R5bGVzLmZvbnRTaXplLm51bWJlcn0ke3N0eWxlcy5mb250U2l6ZS51bml0fWBcbiAgICAgICAgICAgIDogYCR7c3R5bGVzLmZvbnRTaXplLm51bWJlcn1weGA7XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFtzdHlsZXMuZm9udFN0eWxlLCBmb250VmFyaWFudCwgc3R5bGVzLmZvbnRXZWlnaHQsIGZvbnRTaXplLCBmb250RmFtaWx5XS5qb2luKCcgJyksXG4gICAgICAgICAgICBmb250RmFtaWx5LFxuICAgICAgICAgICAgZm9udFNpemVcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBhc3luYyByZW5kZXJUZXh0Tm9kZSh0ZXh0OiBUZXh0Q29udGFpbmVyLCBzdHlsZXM6IENTU1BhcnNlZERlY2xhcmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IFtmb250LCBmb250RmFtaWx5LCBmb250U2l6ZV0gPSB0aGlzLmNyZWF0ZUZvbnRTdHlsZShzdHlsZXMpO1xuXG4gICAgICAgIHRoaXMuY3R4LmZvbnQgPSBmb250O1xuXG4gICAgICAgIHRleHQudGV4dEJvdW5kcy5mb3JFYWNoKHRleHQgPT4ge1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gYXNTdHJpbmcoc3R5bGVzLmNvbG9yKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dFdpdGhMZXR0ZXJTcGFjaW5nKHRleHQsIHN0eWxlcy5sZXR0ZXJTcGFjaW5nKTtcbiAgICAgICAgICAgIGNvbnN0IHRleHRTaGFkb3dzOiBUZXh0U2hhZG93ID0gc3R5bGVzLnRleHRTaGFkb3c7XG5cbiAgICAgICAgICAgIGlmICh0ZXh0U2hhZG93cy5sZW5ndGggJiYgdGV4dC50ZXh0LnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0ZXh0U2hhZG93c1xuICAgICAgICAgICAgICAgICAgICAuc2xpY2UoMClcbiAgICAgICAgICAgICAgICAgICAgLnJldmVyc2UoKVxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCh0ZXh0U2hhZG93ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnNoYWRvd0NvbG9yID0gYXNTdHJpbmcodGV4dFNoYWRvdy5jb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5zaGFkb3dPZmZzZXRYID0gdGV4dFNoYWRvdy5vZmZzZXRYLm51bWJlciAqIHRoaXMub3B0aW9ucy5zY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnNoYWRvd09mZnNldFkgPSB0ZXh0U2hhZG93Lm9mZnNldFkubnVtYmVyICogdGhpcy5vcHRpb25zLnNjYWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguc2hhZG93Qmx1ciA9IHRleHRTaGFkb3cuYmx1ci5udW1iZXI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxUZXh0KHRleHQudGV4dCwgdGV4dC5ib3VuZHMubGVmdCwgdGV4dC5ib3VuZHMudG9wICsgdGV4dC5ib3VuZHMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5zaGFkb3dDb2xvciA9ICcnO1xuICAgICAgICAgICAgICAgIHRoaXMuY3R4LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuY3R4LnNoYWRvd09mZnNldFkgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuY3R4LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3R5bGVzLnRleHREZWNvcmF0aW9uTGluZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhzdHlsZXMudGV4dERlY29yYXRpb25Db2xvciB8fCBzdHlsZXMuY29sb3IpO1xuICAgICAgICAgICAgICAgIHN0eWxlcy50ZXh0RGVjb3JhdGlvbkxpbmUuZm9yRWFjaCh0ZXh0RGVjb3JhdGlvbkxpbmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRleHREZWNvcmF0aW9uTGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBURVhUX0RFQ09SQVRJT05fTElORS5VTkRFUkxJTkU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRHJhd3MgYSBsaW5lIGF0IHRoZSBiYXNlbGluZSBvZiB0aGUgZm9udFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gQXMgc29tZSBicm93c2VycyBkaXNwbGF5IHRoZSBsaW5lIGFzIG1vcmUgdGhhbiAxcHggaWYgdGhlIGZvbnQtc2l6ZSBpcyBiaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmVlZCB0byB0YWtlIHRoYXQgaW50byBhY2NvdW50IGJvdGggaW4gcG9zaXRpb24gYW5kIHNpemVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7YmFzZWxpbmV9ID0gdGhpcy5mb250TWV0cmljcy5nZXRNZXRyaWNzKGZvbnRGYW1pbHksIGZvbnRTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsUmVjdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5ib3VuZHMubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZCh0ZXh0LmJvdW5kcy50b3AgKyBiYXNlbGluZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQuYm91bmRzLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBURVhUX0RFQ09SQVRJT05fTElORS5PVkVSTElORTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCh0ZXh0LmJvdW5kcy5sZWZ0LCBNYXRoLnJvdW5kKHRleHQuYm91bmRzLnRvcCksIHRleHQuYm91bmRzLndpZHRoLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVEVYVF9ERUNPUkFUSU9OX0xJTkUuTElORV9USFJPVUdIOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gdHJ5IGFuZCBmaW5kIGV4YWN0IHBvc2l0aW9uIGZvciBsaW5lLXRocm91Z2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7bWlkZGxlfSA9IHRoaXMuZm9udE1ldHJpY3MuZ2V0TWV0cmljcyhmb250RmFtaWx5LCBmb250U2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQuYm91bmRzLmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguY2VpbCh0ZXh0LmJvdW5kcy50b3AgKyBtaWRkbGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LmJvdW5kcy53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyUmVwbGFjZWRFbGVtZW50KFxuICAgICAgICBjb250YWluZXI6IFJlcGxhY2VkRWxlbWVudENvbnRhaW5lcixcbiAgICAgICAgY3VydmVzOiBCb3VuZEN1cnZlcyxcbiAgICAgICAgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQgfCBIVE1MQ2FudmFzRWxlbWVudFxuICAgICkge1xuICAgICAgICBpZiAoaW1hZ2UgJiYgY29udGFpbmVyLmludHJpbnNpY1dpZHRoID4gMCAmJiBjb250YWluZXIuaW50cmluc2ljSGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgY29uc3QgYm94ID0gY29udGVudEJveChjb250YWluZXIpO1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IGNhbGN1bGF0ZVBhZGRpbmdCb3hQYXRoKGN1cnZlcyk7XG4gICAgICAgICAgICB0aGlzLnBhdGgocGF0aCk7XG4gICAgICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XG4gICAgICAgICAgICB0aGlzLmN0eC5jbGlwKCk7XG4gICAgICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAgICAgaW1hZ2UsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5pbnRyaW5zaWNXaWR0aCxcbiAgICAgICAgICAgICAgICBjb250YWluZXIuaW50cmluc2ljSGVpZ2h0LFxuICAgICAgICAgICAgICAgIGJveC5sZWZ0LFxuICAgICAgICAgICAgICAgIGJveC50b3AsXG4gICAgICAgICAgICAgICAgYm94LndpZHRoLFxuICAgICAgICAgICAgICAgIGJveC5oZWlnaHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyByZW5kZXJOb2RlQ29udGVudChwYWludDogRWxlbWVudFBhaW50KSB7XG4gICAgICAgIHRoaXMuYXBwbHlFZmZlY3RzKHBhaW50LmVmZmVjdHMsIEVmZmVjdFRhcmdldC5DT05URU5UKTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gcGFpbnQuY29udGFpbmVyO1xuICAgICAgICBjb25zdCBjdXJ2ZXMgPSBwYWludC5jdXJ2ZXM7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IGNvbnRhaW5lci5zdHlsZXM7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY29udGFpbmVyLnRleHROb2Rlcykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJUZXh0Tm9kZShjaGlsZCwgc3R5bGVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBJbWFnZUVsZW1lbnRDb250YWluZXIpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBhd2FpdCB0aGlzLm9wdGlvbnMuY2FjaGUubWF0Y2goY29udGFpbmVyLnNyYyk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJSZXBsYWNlZEVsZW1lbnQoY29udGFpbmVyLCBjdXJ2ZXMsIGltYWdlKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UodGhpcy5vcHRpb25zLmlkKS5lcnJvcihgRXJyb3IgbG9hZGluZyBpbWFnZSAke2NvbnRhaW5lci5zcmN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgQ2FudmFzRWxlbWVudENvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJSZXBsYWNlZEVsZW1lbnQoY29udGFpbmVyLCBjdXJ2ZXMsIGNvbnRhaW5lci5jYW52YXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIFNWR0VsZW1lbnRDb250YWluZXIpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBhd2FpdCB0aGlzLm9wdGlvbnMuY2FjaGUubWF0Y2goY29udGFpbmVyLnN2Zyk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJSZXBsYWNlZEVsZW1lbnQoY29udGFpbmVyLCBjdXJ2ZXMsIGltYWdlKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UodGhpcy5vcHRpb25zLmlkKS5lcnJvcihgRXJyb3IgbG9hZGluZyBzdmcgJHtjb250YWluZXIuc3ZnLnN1YnN0cmluZygwLCAyNTUpfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIElGcmFtZUVsZW1lbnRDb250YWluZXIgJiYgY29udGFpbmVyLnRyZWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGlmcmFtZVJlbmRlcmVyID0gbmV3IENhbnZhc1JlbmRlcmVyKHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5vcHRpb25zLmlkLFxuICAgICAgICAgICAgICAgIHNjYWxlOiB0aGlzLm9wdGlvbnMuc2NhbGUsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb250YWluZXIuYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgICAgICBzY3JvbGxYOiAwLFxuICAgICAgICAgICAgICAgIHNjcm9sbFk6IDAsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGNvbnRhaW5lci53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGNvbnRhaW5lci5oZWlnaHQsXG4gICAgICAgICAgICAgICAgY2FjaGU6IHRoaXMub3B0aW9ucy5jYWNoZSxcbiAgICAgICAgICAgICAgICB3aW5kb3dXaWR0aDogY29udGFpbmVyLndpZHRoLFxuICAgICAgICAgICAgICAgIHdpbmRvd0hlaWdodDogY29udGFpbmVyLmhlaWdodFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGF3YWl0IGlmcmFtZVJlbmRlcmVyLnJlbmRlcihjb250YWluZXIudHJlZSk7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLndpZHRoICYmIGNvbnRhaW5lci5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcyxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYm91bmRzLmxlZnQsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5ib3VuZHMudG9wLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYm91bmRzLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYm91bmRzLmhlaWdodFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgSW5wdXRFbGVtZW50Q29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb25zdCBzaXplID0gTWF0aC5taW4oY29udGFpbmVyLmJvdW5kcy53aWR0aCwgY29udGFpbmVyLmJvdW5kcy5oZWlnaHQpO1xuXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLnR5cGUgPT09IENIRUNLQk9YKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXRoKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAqIDAuMzkzNjMsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAqIDAuNzkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihjb250YWluZXIuYm91bmRzLmxlZnQgKyBzaXplICogMC4xNiwgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplICogMC41NTQ5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAqIDAuMjczNDcsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAqIDAuNDQwNzEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihjb250YWluZXIuYm91bmRzLmxlZnQgKyBzaXplICogMC4zOTY5NCwgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplICogMC41NjQ5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAqIDAuNzI5ODMsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAqIDAuMjMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihjb250YWluZXIuYm91bmRzLmxlZnQgKyBzaXplICogMC44NCwgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplICogMC4zNDA4NSksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGNvbnRhaW5lci5ib3VuZHMubGVmdCArIHNpemUgKiAwLjM5MzYzLCBjb250YWluZXIuYm91bmRzLnRvcCArIHNpemUgKiAwLjc5KVxuICAgICAgICAgICAgICAgICAgICBdKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhJTlBVVF9DT0xPUik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udGFpbmVyLnR5cGUgPT09IFJBRElPKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmFyYyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5ib3VuZHMubGVmdCArIHNpemUgLyAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplIC8gMixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgLyA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguUEkgKiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhJTlBVVF9DT0xPUik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1RleHRJbnB1dEVsZW1lbnQoY29udGFpbmVyKSAmJiBjb250YWluZXIudmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICBbdGhpcy5jdHguZm9udF0gPSB0aGlzLmNyZWF0ZUZvbnRTdHlsZShzdHlsZXMpO1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gYXNTdHJpbmcoc3R5bGVzLmNvbG9yKTtcblxuICAgICAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgICAgICAgICB0aGlzLmN0eC50ZXh0QWxpZ24gPSBjYW52YXNUZXh0QWxpZ24oY29udGFpbmVyLnN0eWxlcy50ZXh0QWxpZ24pO1xuXG4gICAgICAgICAgICBjb25zdCBib3VuZHMgPSBjb250ZW50Qm94KGNvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIGxldCB4ID0gMDtcblxuICAgICAgICAgICAgc3dpdGNoIChjb250YWluZXIuc3R5bGVzLnRleHRBbGlnbikge1xuICAgICAgICAgICAgICAgIGNhc2UgVEVYVF9BTElHTi5DRU5URVI6XG4gICAgICAgICAgICAgICAgICAgIHggKz0gYm91bmRzLndpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBURVhUX0FMSUdOLlJJR0hUOlxuICAgICAgICAgICAgICAgICAgICB4ICs9IGJvdW5kcy53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRleHRCb3VuZHMgPSBib3VuZHMuYWRkKHgsIDAsIDAsIC1ib3VuZHMuaGVpZ2h0IC8gMiArIDEpO1xuXG4gICAgICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XG4gICAgICAgICAgICB0aGlzLnBhdGgoW1xuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoYm91bmRzLmxlZnQsIGJvdW5kcy50b3ApLFxuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGgsIGJvdW5kcy50b3ApLFxuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGgsIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0KSxcbiAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0LCBib3VuZHMudG9wICsgYm91bmRzLmhlaWdodClcbiAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICB0aGlzLmN0eC5jbGlwKCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRleHRXaXRoTGV0dGVyU3BhY2luZyhuZXcgVGV4dEJvdW5kcyhjb250YWluZXIudmFsdWUsIHRleHRCb3VuZHMpLCBzdHlsZXMubGV0dGVyU3BhY2luZyk7XG4gICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG4gICAgICAgICAgICB0aGlzLmN0eC50ZXh0QmFzZWxpbmUgPSAnYm90dG9tJztcbiAgICAgICAgICAgIHRoaXMuY3R4LnRleHRBbGlnbiA9ICdsZWZ0JztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250YWlucyhjb250YWluZXIuc3R5bGVzLmRpc3BsYXksIERJU1BMQVkuTElTVF9JVEVNKSkge1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5zdHlsZXMubGlzdFN0eWxlSW1hZ2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbWcgPSBjb250YWluZXIuc3R5bGVzLmxpc3RTdHlsZUltYWdlO1xuICAgICAgICAgICAgICAgIGlmIChpbWcudHlwZSA9PT0gQ1NTSW1hZ2VUeXBlLlVSTCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IChpbWcgYXMgQ1NTVVJMSW1hZ2UpLnVybDtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gYXdhaXQgdGhpcy5vcHRpb25zLmNhY2hlLm1hdGNoKHVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoaW1hZ2UsIGNvbnRhaW5lci5ib3VuZHMubGVmdCAtIChpbWFnZS53aWR0aCArIDEwKSwgY29udGFpbmVyLmJvdW5kcy50b3ApO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UodGhpcy5vcHRpb25zLmlkKS5lcnJvcihgRXJyb3IgbG9hZGluZyBsaXN0LXN0eWxlLWltYWdlICR7dXJsfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYWludC5saXN0VmFsdWUgJiYgY29udGFpbmVyLnN0eWxlcy5saXN0U3R5bGVUeXBlICE9PSBMSVNUX1NUWUxFX1RZUEUuTk9ORSkge1xuICAgICAgICAgICAgICAgIFt0aGlzLmN0eC5mb250XSA9IHRoaXMuY3JlYXRlRm9udFN0eWxlKHN0eWxlcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gYXNTdHJpbmcoc3R5bGVzLmNvbG9yKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRleHRBbGlnbiA9ICdyaWdodCc7XG4gICAgICAgICAgICAgICAgY29uc3QgYm91bmRzID0gbmV3IEJvdW5kcyhcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmJvdW5kcy5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYm91bmRzLnRvcCArIGdldEFic29sdXRlVmFsdWUoY29udGFpbmVyLnN0eWxlcy5wYWRkaW5nVG9wLCBjb250YWluZXIuYm91bmRzLndpZHRoKSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmJvdW5kcy53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZUxpbmVIZWlnaHQoc3R5bGVzLmxpbmVIZWlnaHQsIHN0eWxlcy5mb250U2l6ZS5udW1iZXIpIC8gMiArIDFcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJUZXh0V2l0aExldHRlclNwYWNpbmcobmV3IFRleHRCb3VuZHMocGFpbnQubGlzdFZhbHVlLCBib3VuZHMpLCBzdHlsZXMubGV0dGVyU3BhY2luZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ2JvdHRvbSc7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEFsaWduID0gJ2xlZnQnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgcmVuZGVyU3RhY2tDb250ZW50KHN0YWNrOiBTdGFja2luZ0NvbnRleHQpIHtcbiAgICAgICAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy1wb3NpdGlvbi0zLyNwYWludGluZy1vcmRlclxuICAgICAgICAvLyAxLiB0aGUgYmFja2dyb3VuZCBhbmQgYm9yZGVycyBvZiB0aGUgZWxlbWVudCBmb3JtaW5nIHRoZSBzdGFja2luZyBjb250ZXh0LlxuICAgICAgICBhd2FpdCB0aGlzLnJlbmRlck5vZGVCYWNrZ3JvdW5kQW5kQm9yZGVycyhzdGFjay5lbGVtZW50KTtcbiAgICAgICAgLy8gMi4gdGhlIGNoaWxkIHN0YWNraW5nIGNvbnRleHRzIHdpdGggbmVnYXRpdmUgc3RhY2sgbGV2ZWxzIChtb3N0IG5lZ2F0aXZlIGZpcnN0KS5cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBzdGFjay5uZWdhdGl2ZVpJbmRleCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJTdGFjayhjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4gRm9yIGFsbCBpdHMgaW4tZmxvdywgbm9uLXBvc2l0aW9uZWQsIGJsb2NrLWxldmVsIGRlc2NlbmRhbnRzIGluIHRyZWUgb3JkZXI6XG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyTm9kZUNvbnRlbnQoc3RhY2suZWxlbWVudCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBzdGFjay5ub25JbmxpbmVMZXZlbCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJOb2RlKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA0LiBBbGwgbm9uLXBvc2l0aW9uZWQgZmxvYXRpbmcgZGVzY2VuZGFudHMsIGluIHRyZWUgb3JkZXIuIEZvciBlYWNoIG9uZSBvZiB0aGVzZSxcbiAgICAgICAgLy8gdHJlYXQgdGhlIGVsZW1lbnQgYXMgaWYgaXQgY3JlYXRlZCBhIG5ldyBzdGFja2luZyBjb250ZXh0LCBidXQgYW55IHBvc2l0aW9uZWQgZGVzY2VuZGFudHMgYW5kIGRlc2NlbmRhbnRzXG4gICAgICAgIC8vIHdoaWNoIGFjdHVhbGx5IGNyZWF0ZSBhIG5ldyBzdGFja2luZyBjb250ZXh0IHNob3VsZCBiZSBjb25zaWRlcmVkIHBhcnQgb2YgdGhlIHBhcmVudCBzdGFja2luZyBjb250ZXh0LFxuICAgICAgICAvLyBub3QgdGhpcyBuZXcgb25lLlxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHN0YWNrLm5vblBvc2l0aW9uZWRGbG9hdHMpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVuZGVyU3RhY2soY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDUuIHRoZSBpbi1mbG93LCBpbmxpbmUtbGV2ZWwsIG5vbi1wb3NpdGlvbmVkIGRlc2NlbmRhbnRzLCBpbmNsdWRpbmcgaW5saW5lIHRhYmxlcyBhbmQgaW5saW5lIGJsb2Nrcy5cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBzdGFjay5ub25Qb3NpdGlvbmVkSW5saW5lTGV2ZWwpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVuZGVyU3RhY2soY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygc3RhY2suaW5saW5lTGV2ZWwpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVuZGVyTm9kZShjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4gQWxsIHBvc2l0aW9uZWQsIG9wYWNpdHkgb3IgdHJhbnNmb3JtIGRlc2NlbmRhbnRzLCBpbiB0cmVlIG9yZGVyIHRoYXQgZmFsbCBpbnRvIHRoZSBmb2xsb3dpbmcgY2F0ZWdvcmllczpcbiAgICAgICAgLy8gIEFsbCBwb3NpdGlvbmVkIGRlc2NlbmRhbnRzIHdpdGggJ3otaW5kZXg6IGF1dG8nIG9yICd6LWluZGV4OiAwJywgaW4gdHJlZSBvcmRlci5cbiAgICAgICAgLy8gIEZvciB0aG9zZSB3aXRoICd6LWluZGV4OiBhdXRvJywgdHJlYXQgdGhlIGVsZW1lbnQgYXMgaWYgaXQgY3JlYXRlZCBhIG5ldyBzdGFja2luZyBjb250ZXh0LFxuICAgICAgICAvLyAgYnV0IGFueSBwb3NpdGlvbmVkIGRlc2NlbmRhbnRzIGFuZCBkZXNjZW5kYW50cyB3aGljaCBhY3R1YWxseSBjcmVhdGUgYSBuZXcgc3RhY2tpbmcgY29udGV4dCBzaG91bGQgYmVcbiAgICAgICAgLy8gIGNvbnNpZGVyZWQgcGFydCBvZiB0aGUgcGFyZW50IHN0YWNraW5nIGNvbnRleHQsIG5vdCB0aGlzIG5ldyBvbmUuIEZvciB0aG9zZSB3aXRoICd6LWluZGV4OiAwJyxcbiAgICAgICAgLy8gIHRyZWF0IHRoZSBzdGFja2luZyBjb250ZXh0IGdlbmVyYXRlZCBhdG9taWNhbGx5LlxuICAgICAgICAvL1xuICAgICAgICAvLyAgQWxsIG9wYWNpdHkgZGVzY2VuZGFudHMgd2l0aCBvcGFjaXR5IGxlc3MgdGhhbiAxXG4gICAgICAgIC8vXG4gICAgICAgIC8vICBBbGwgdHJhbnNmb3JtIGRlc2NlbmRhbnRzIHdpdGggdHJhbnNmb3JtIG90aGVyIHRoYW4gbm9uZVxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHN0YWNrLnplcm9PckF1dG9aSW5kZXhPclRyYW5zZm9ybWVkT3JPcGFjaXR5KSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlclN0YWNrKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LiBTdGFja2luZyBjb250ZXh0cyBmb3JtZWQgYnkgcG9zaXRpb25lZCBkZXNjZW5kYW50cyB3aXRoIHotaW5kaWNlcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMSBpbiB6LWluZGV4XG4gICAgICAgIC8vIG9yZGVyIChzbWFsbGVzdCBmaXJzdCkgdGhlbiB0cmVlIG9yZGVyLlxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHN0YWNrLnBvc2l0aXZlWkluZGV4KSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlclN0YWNrKGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1hc2socGF0aHM6IFBhdGhbXSkge1xuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKDAsIDApO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odGhpcy5jYW52YXMud2lkdGgsIDApO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8odGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbygwLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8oMCwgMCk7XG4gICAgICAgIHRoaXMuZm9ybWF0UGF0aChwYXRocy5zbGljZSgwKS5yZXZlcnNlKCkpO1xuICAgICAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcbiAgICB9XG5cbiAgICBwYXRoKHBhdGhzOiBQYXRoW10pIHtcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIHRoaXMuZm9ybWF0UGF0aChwYXRocyk7XG4gICAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xuICAgIH1cblxuICAgIGZvcm1hdFBhdGgocGF0aHM6IFBhdGhbXSkge1xuICAgICAgICBwYXRocy5mb3JFYWNoKChwb2ludCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0OiBWZWN0b3IgPSBpc0JlemllckN1cnZlKHBvaW50KSA/IHBvaW50LnN0YXJ0IDogcG9pbnQ7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8oc3RhcnQueCwgc3RhcnQueSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyhzdGFydC54LCBzdGFydC55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzQmV6aWVyQ3VydmUocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHguYmV6aWVyQ3VydmVUbyhcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQuc3RhcnRDb250cm9sLngsXG4gICAgICAgICAgICAgICAgICAgIHBvaW50LnN0YXJ0Q29udHJvbC55LFxuICAgICAgICAgICAgICAgICAgICBwb2ludC5lbmRDb250cm9sLngsXG4gICAgICAgICAgICAgICAgICAgIHBvaW50LmVuZENvbnRyb2wueSxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQuZW5kLngsXG4gICAgICAgICAgICAgICAgICAgIHBvaW50LmVuZC55XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyUmVwZWF0KHBhdGg6IFBhdGhbXSwgcGF0dGVybjogQ2FudmFzUGF0dGVybiB8IENhbnZhc0dyYWRpZW50LCBvZmZzZXRYOiBudW1iZXIsIG9mZnNldFk6IG51bWJlcikge1xuICAgICAgICB0aGlzLnBhdGgocGF0aCk7XG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHBhdHRlcm47XG4gICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZShvZmZzZXRYLCBvZmZzZXRZKTtcbiAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xuICAgICAgICB0aGlzLmN0eC50cmFuc2xhdGUoLW9mZnNldFgsIC1vZmZzZXRZKTtcbiAgICB9XG5cbiAgICByZXNpemVJbWFnZShpbWFnZTogSFRNTEltYWdlRWxlbWVudCwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiBIVE1MQ2FudmFzRWxlbWVudCB8IEhUTUxJbWFnZUVsZW1lbnQge1xuICAgICAgICBpZiAoaW1hZ2Uud2lkdGggPT09IHdpZHRoICYmIGltYWdlLmhlaWdodCA9PT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYW52YXMgPSAodGhpcy5jYW52YXMub3duZXJEb2N1bWVudCBhcyBEb2N1bWVudCkuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSBhcyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICByZXR1cm4gY2FudmFzO1xuICAgIH1cblxuICAgIGFzeW5jIHJlbmRlckJhY2tncm91bmRJbWFnZShjb250YWluZXI6IEVsZW1lbnRDb250YWluZXIpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gY29udGFpbmVyLnN0eWxlcy5iYWNrZ3JvdW5kSW1hZ2UubGVuZ3RoIC0gMTtcbiAgICAgICAgZm9yIChjb25zdCBiYWNrZ3JvdW5kSW1hZ2Ugb2YgY29udGFpbmVyLnN0eWxlcy5iYWNrZ3JvdW5kSW1hZ2Uuc2xpY2UoMCkucmV2ZXJzZSgpKSB7XG4gICAgICAgICAgICBpZiAoYmFja2dyb3VuZEltYWdlLnR5cGUgPT09IENTU0ltYWdlVHlwZS5VUkwpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW1hZ2U7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gKGJhY2tncm91bmRJbWFnZSBhcyBDU1NVUkxJbWFnZSkudXJsO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlID0gYXdhaXQgdGhpcy5vcHRpb25zLmNhY2hlLm1hdGNoKHVybCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UodGhpcy5vcHRpb25zLmlkKS5lcnJvcihgRXJyb3IgbG9hZGluZyBiYWNrZ3JvdW5kLWltYWdlICR7dXJsfWApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbcGF0aCwgeCwgeSwgd2lkdGgsIGhlaWdodF0gPSBjYWxjdWxhdGVCYWNrZ3JvdW5kUmVuZGVyaW5nKGNvbnRhaW5lciwgaW5kZXgsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uud2lkdGggLyBpbWFnZS5oZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSB0aGlzLmN0eC5jcmVhdGVQYXR0ZXJuKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemVJbWFnZShpbWFnZSwgd2lkdGgsIGhlaWdodCksXG4gICAgICAgICAgICAgICAgICAgICAgICAncmVwZWF0J1xuICAgICAgICAgICAgICAgICAgICApIGFzIENhbnZhc1BhdHRlcm47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUmVwZWF0KHBhdGgsIHBhdHRlcm4sIHgsIHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNMaW5lYXJHcmFkaWVudChiYWNrZ3JvdW5kSW1hZ2UpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3BhdGgsIHgsIHksIHdpZHRoLCBoZWlnaHRdID0gY2FsY3VsYXRlQmFja2dyb3VuZFJlbmRlcmluZyhjb250YWluZXIsIGluZGV4LCBbbnVsbCwgbnVsbCwgbnVsbF0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IFtsaW5lTGVuZ3RoLCB4MCwgeDEsIHkwLCB5MV0gPSBjYWxjdWxhdGVHcmFkaWVudERpcmVjdGlvbihiYWNrZ3JvdW5kSW1hZ2UuYW5nbGUsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSBhcyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhZGllbnQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoeDAsIHkwLCB4MSwgeTEpO1xuXG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NvbG9yU3RvcHMoYmFja2dyb3VuZEltYWdlLnN0b3BzLCBsaW5lTGVuZ3RoKS5mb3JFYWNoKGNvbG9yU3RvcCA9PlxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoY29sb3JTdG9wLnN0b3AsIGFzU3RyaW5nKGNvbG9yU3RvcC5jb2xvcikpXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBncmFkaWVudDtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgaWYgKHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSB0aGlzLmN0eC5jcmVhdGVQYXR0ZXJuKGNhbnZhcywgJ3JlcGVhdCcpIGFzIENhbnZhc1BhdHRlcm47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUmVwZWF0KHBhdGgsIHBhdHRlcm4sIHgsIHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNSYWRpYWxHcmFkaWVudChiYWNrZ3JvdW5kSW1hZ2UpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3BhdGgsIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodF0gPSBjYWxjdWxhdGVCYWNrZ3JvdW5kUmVuZGVyaW5nKGNvbnRhaW5lciwgaW5kZXgsIFtcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gYmFja2dyb3VuZEltYWdlLnBvc2l0aW9uLmxlbmd0aCA9PT0gMCA/IFtGSUZUWV9QRVJDRU5UXSA6IGJhY2tncm91bmRJbWFnZS5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gZ2V0QWJzb2x1dGVWYWx1ZShwb3NpdGlvblswXSwgd2lkdGgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBnZXRBYnNvbHV0ZVZhbHVlKHBvc2l0aW9uW3Bvc2l0aW9uLmxlbmd0aCAtIDFdLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgW3J4LCByeV0gPSBjYWxjdWxhdGVSYWRpdXMoYmFja2dyb3VuZEltYWdlLCB4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBpZiAocnggPiAwICYmIHJ4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWRpYWxHcmFkaWVudCA9IHRoaXMuY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KGxlZnQgKyB4LCB0b3AgKyB5LCAwLCBsZWZ0ICsgeCwgdG9wICsgeSwgcngpO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NDb2xvclN0b3BzKGJhY2tncm91bmRJbWFnZS5zdG9wcywgcnggKiAyKS5mb3JFYWNoKGNvbG9yU3RvcCA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgcmFkaWFsR3JhZGllbnQuYWRkQ29sb3JTdG9wKGNvbG9yU3RvcC5zdG9wLCBhc1N0cmluZyhjb2xvclN0b3AuY29sb3IpKVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aChwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gcmFkaWFsR3JhZGllbnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyeCAhPT0gcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyYW5zZm9ybXMgZm9yIGVsbGlwdGljYWwgcmFkaWFsIGdyYWRpZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaWRYID0gY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgMC41ICogY29udGFpbmVyLmJvdW5kcy53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pZFkgPSBjb250YWluZXIuYm91bmRzLnRvcCArIDAuNSAqIGNvbnRhaW5lci5ib3VuZHMuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZiA9IHJ5IC8gcng7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnZGID0gMSAvIGY7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZShtaWRYLCBtaWRZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zZm9ybSgxLCAwLCAwLCBmLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZSgtbWlkWCwgLW1pZFkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsUmVjdChsZWZ0LCBpbnZGICogKHRvcCAtIG1pZFkpICsgbWlkWSwgd2lkdGgsIGhlaWdodCAqIGludkYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHJlbmRlckJvcmRlcihjb2xvcjogQ29sb3IsIHNpZGU6IG51bWJlciwgY3VydmVQb2ludHM6IEJvdW5kQ3VydmVzKSB7XG4gICAgICAgIHRoaXMucGF0aChwYXJzZVBhdGhGb3JCb3JkZXIoY3VydmVQb2ludHMsIHNpZGUpKTtcbiAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gYXNTdHJpbmcoY29sb3IpO1xuICAgICAgICB0aGlzLmN0eC5maWxsKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVuZGVyTm9kZUJhY2tncm91bmRBbmRCb3JkZXJzKHBhaW50OiBFbGVtZW50UGFpbnQpIHtcbiAgICAgICAgdGhpcy5hcHBseUVmZmVjdHMocGFpbnQuZWZmZWN0cywgRWZmZWN0VGFyZ2V0LkJBQ0tHUk9VTkRfQk9SREVSUyk7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IHBhaW50LmNvbnRhaW5lci5zdHlsZXM7XG4gICAgICAgIGNvbnN0IGhhc0JhY2tncm91bmQgPSAhaXNUcmFuc3BhcmVudChzdHlsZXMuYmFja2dyb3VuZENvbG9yKSB8fCBzdHlsZXMuYmFja2dyb3VuZEltYWdlLmxlbmd0aDtcblxuICAgICAgICBjb25zdCBib3JkZXJzID0gW1xuICAgICAgICAgICAge3N0eWxlOiBzdHlsZXMuYm9yZGVyVG9wU3R5bGUsIGNvbG9yOiBzdHlsZXMuYm9yZGVyVG9wQ29sb3J9LFxuICAgICAgICAgICAge3N0eWxlOiBzdHlsZXMuYm9yZGVyUmlnaHRTdHlsZSwgY29sb3I6IHN0eWxlcy5ib3JkZXJSaWdodENvbG9yfSxcbiAgICAgICAgICAgIHtzdHlsZTogc3R5bGVzLmJvcmRlckJvdHRvbVN0eWxlLCBjb2xvcjogc3R5bGVzLmJvcmRlckJvdHRvbUNvbG9yfSxcbiAgICAgICAgICAgIHtzdHlsZTogc3R5bGVzLmJvcmRlckxlZnRTdHlsZSwgY29sb3I6IHN0eWxlcy5ib3JkZXJMZWZ0Q29sb3J9XG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3QgYmFja2dyb3VuZFBhaW50aW5nQXJlYSA9IGNhbGN1bGF0ZUJhY2tncm91bmRDdXJ2ZWRQYWludGluZ0FyZWEoXG4gICAgICAgICAgICBnZXRCYWNrZ3JvdW5kVmFsdWVGb3JJbmRleChzdHlsZXMuYmFja2dyb3VuZENsaXAsIDApLFxuICAgICAgICAgICAgcGFpbnQuY3VydmVzXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGhhc0JhY2tncm91bmQgfHwgc3R5bGVzLmJveFNoYWRvdy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIHRoaXMucGF0aChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhKTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmNsaXAoKTtcblxuICAgICAgICAgICAgaWYgKCFpc1RyYW5zcGFyZW50KHN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gYXNTdHJpbmcoc3R5bGVzLmJhY2tncm91bmRDb2xvcik7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlckJhY2tncm91bmRJbWFnZShwYWludC5jb250YWluZXIpO1xuXG4gICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG5cbiAgICAgICAgICAgIHN0eWxlcy5ib3hTaGFkb3dcbiAgICAgICAgICAgICAgICAuc2xpY2UoMClcbiAgICAgICAgICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgICAgICAgICAgLmZvckVhY2goc2hhZG93ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBib3JkZXJCb3hBcmVhID0gY2FsY3VsYXRlQm9yZGVyQm94UGF0aChwYWludC5jdXJ2ZXMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXNrT2Zmc2V0ID0gc2hhZG93Lmluc2V0ID8gMCA6IE1BU0tfT0ZGU0VUO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaGFkb3dQYWludGluZ0FyZWEgPSB0cmFuc2Zvcm1QYXRoKFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQm94QXJlYSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC1tYXNrT2Zmc2V0ICsgKHNoYWRvdy5pbnNldCA/IDEgOiAtMSkgKiBzaGFkb3cuc3ByZWFkLm51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIChzaGFkb3cuaW5zZXQgPyAxIDogLTEpICogc2hhZG93LnNwcmVhZC5udW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3cuc3ByZWFkLm51bWJlciAqIChzaGFkb3cuaW5zZXQgPyAtMiA6IDIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93LnNwcmVhZC5udW1iZXIgKiAoc2hhZG93Lmluc2V0ID8gLTIgOiAyKVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaGFkb3cuaW5zZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aChib3JkZXJCb3hBcmVhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmNsaXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFzayhzaGFkb3dQYWludGluZ0FyZWEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXNrKGJvcmRlckJveEFyZWEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguY2xpcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXRoKHNoYWRvd1BhaW50aW5nQXJlYSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5zaGFkb3dPZmZzZXRYID0gc2hhZG93Lm9mZnNldFgubnVtYmVyICsgbWFza09mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguc2hhZG93T2Zmc2V0WSA9IHNoYWRvdy5vZmZzZXRZLm51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguc2hhZG93Q29sb3IgPSBhc1N0cmluZyhzaGFkb3cuY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5zaGFkb3dCbHVyID0gc2hhZG93LmJsdXIubnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBzaGFkb3cuaW5zZXQgPyBhc1N0cmluZyhzaGFkb3cuY29sb3IpIDogJ3JnYmEoMCwwLDAsMSknO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNpZGUgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGJvcmRlciBvZiBib3JkZXJzKSB7XG4gICAgICAgICAgICBpZiAoYm9yZGVyLnN0eWxlICE9PSBCT1JERVJfU1RZTEUuTk9ORSAmJiAhaXNUcmFuc3BhcmVudChib3JkZXIuY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXJCb3JkZXIoYm9yZGVyLmNvbG9yLCBzaWRlLCBwYWludC5jdXJ2ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2lkZSsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgcmVuZGVyKGVsZW1lbnQ6IEVsZW1lbnRDb250YWluZXIpOiBQcm9taXNlPEhUTUxDYW52YXNFbGVtZW50PiB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyh0aGlzLm9wdGlvbnMuYmFja2dyb3VuZENvbG9yKTtcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KFxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy54IC0gdGhpcy5vcHRpb25zLnNjcm9sbFgsXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnkgLSB0aGlzLm9wdGlvbnMuc2Nyb2xsWSxcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmhlaWdodFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YWNrID0gcGFyc2VTdGFja2luZ0NvbnRleHRzKGVsZW1lbnQpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMucmVuZGVyU3RhY2soc3RhY2spO1xuICAgICAgICB0aGlzLmFwcGx5RWZmZWN0cyhbXSwgRWZmZWN0VGFyZ2V0LkJBQ0tHUk9VTkRfQk9SREVSUyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcztcbiAgICB9XG59XG5cbmNvbnN0IGlzVGV4dElucHV0RWxlbWVudCA9IChcbiAgICBjb250YWluZXI6IEVsZW1lbnRDb250YWluZXJcbik6IGNvbnRhaW5lciBpcyBJbnB1dEVsZW1lbnRDb250YWluZXIgfCBUZXh0YXJlYUVsZW1lbnRDb250YWluZXIgfCBTZWxlY3RFbGVtZW50Q29udGFpbmVyID0+IHtcbiAgICBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgVGV4dGFyZWFFbGVtZW50Q29udGFpbmVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgU2VsZWN0RWxlbWVudENvbnRhaW5lcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIElucHV0RWxlbWVudENvbnRhaW5lciAmJiBjb250YWluZXIudHlwZSAhPT0gUkFESU8gJiYgY29udGFpbmVyLnR5cGUgIT09IENIRUNLQk9YKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb25zdCBjYWxjdWxhdGVCYWNrZ3JvdW5kQ3VydmVkUGFpbnRpbmdBcmVhID0gKGNsaXA6IEJBQ0tHUk9VTkRfQ0xJUCwgY3VydmVzOiBCb3VuZEN1cnZlcyk6IFBhdGhbXSA9PiB7XG4gICAgc3dpdGNoIChjbGlwKSB7XG4gICAgICAgIGNhc2UgQkFDS0dST1VORF9DTElQLkJPUkRFUl9CT1g6XG4gICAgICAgICAgICByZXR1cm4gY2FsY3VsYXRlQm9yZGVyQm94UGF0aChjdXJ2ZXMpO1xuICAgICAgICBjYXNlIEJBQ0tHUk9VTkRfQ0xJUC5DT05URU5UX0JPWDpcbiAgICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVDb250ZW50Qm94UGF0aChjdXJ2ZXMpO1xuICAgICAgICBjYXNlIEJBQ0tHUk9VTkRfQ0xJUC5QQURESU5HX0JPWDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVQYWRkaW5nQm94UGF0aChjdXJ2ZXMpO1xuICAgIH1cbn07XG5cbmNvbnN0IGNhbnZhc1RleHRBbGlnbiA9ICh0ZXh0QWxpZ246IFRFWFRfQUxJR04pOiBDYW52YXNUZXh0QWxpZ24gPT4ge1xuICAgIHN3aXRjaCAodGV4dEFsaWduKSB7XG4gICAgICAgIGNhc2UgVEVYVF9BTElHTi5DRU5URVI6XG4gICAgICAgICAgICByZXR1cm4gJ2NlbnRlcic7XG4gICAgICAgIGNhc2UgVEVYVF9BTElHTi5SSUdIVDpcbiAgICAgICAgICAgIHJldHVybiAncmlnaHQnO1xuICAgICAgICBjYXNlIFRFWFRfQUxJR04uTEVGVDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgfVxufTtcbiIsImltcG9ydCB7UmVuZGVyQ29uZmlndXJhdGlvbnN9IGZyb20gJy4vY2FudmFzLXJlbmRlcmVyJztcbmltcG9ydCB7TG9nZ2VyfSBmcm9tICcuLi8uLi9jb3JlL2xvZ2dlcic7XG5pbXBvcnQge2NyZWF0ZUZvcmVpZ25PYmplY3RTVkd9IGZyb20gJy4uLy4uL2NvcmUvZmVhdHVyZXMnO1xuaW1wb3J0IHthc1N0cmluZ30gZnJvbSAnLi4vLi4vY3NzL3R5cGVzL2NvbG9yJztcblxuZXhwb3J0IGNsYXNzIEZvcmVpZ25PYmplY3RSZW5kZXJlciB7XG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICBvcHRpb25zOiBSZW5kZXJDb25maWd1cmF0aW9ucztcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFJlbmRlckNvbmZpZ3VyYXRpb25zKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gb3B0aW9ucy5jYW52YXMgPyBvcHRpb25zLmNhbnZhcyA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJykgYXMgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3Iob3B0aW9ucy53aWR0aCAqIG9wdGlvbnMuc2NhbGUpO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKG9wdGlvbnMuaGVpZ2h0ICogb3B0aW9ucy5zY2FsZSk7XG4gICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gYCR7b3B0aW9ucy53aWR0aH1weGA7XG4gICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IGAke29wdGlvbnMuaGVpZ2h0fXB4YDtcblxuICAgICAgICB0aGlzLmN0eC5zY2FsZSh0aGlzLm9wdGlvbnMuc2NhbGUsIHRoaXMub3B0aW9ucy5zY2FsZSk7XG4gICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZSgtb3B0aW9ucy54ICsgb3B0aW9ucy5zY3JvbGxYLCAtb3B0aW9ucy55ICsgb3B0aW9ucy5zY3JvbGxZKTtcbiAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKG9wdGlvbnMuaWQpLmRlYnVnKFxuICAgICAgICAgICAgYEVYUEVSSU1FTlRBTCBGb3JlaWduT2JqZWN0IHJlbmRlcmVyIGluaXRpYWxpemVkICgke29wdGlvbnMud2lkdGh9eCR7b3B0aW9ucy5oZWlnaHR9IGF0ICR7b3B0aW9ucy54fSwke1xuICAgICAgICAgICAgICAgIG9wdGlvbnMueVxuICAgICAgICAgICAgfSkgd2l0aCBzY2FsZSAke29wdGlvbnMuc2NhbGV9YFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIHJlbmRlcihlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCBzdmcgPSBjcmVhdGVGb3JlaWduT2JqZWN0U1ZHKFxuICAgICAgICAgICAgTWF0aC5tYXgodGhpcy5vcHRpb25zLndpbmRvd1dpZHRoLCB0aGlzLm9wdGlvbnMud2lkdGgpICogdGhpcy5vcHRpb25zLnNjYWxlLFxuICAgICAgICAgICAgTWF0aC5tYXgodGhpcy5vcHRpb25zLndpbmRvd0hlaWdodCwgdGhpcy5vcHRpb25zLmhlaWdodCkgKiB0aGlzLm9wdGlvbnMuc2NhbGUsXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2Nyb2xsWCAqIHRoaXMub3B0aW9ucy5zY2FsZSxcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zY3JvbGxZICogdGhpcy5vcHRpb25zLnNjYWxlLFxuICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGltZyA9IGF3YWl0IGxvYWRTZXJpYWxpemVkU1ZHKHN2Zyk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpO1xuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5vcHRpb25zLndpZHRoICogdGhpcy5vcHRpb25zLnNjYWxlLCB0aGlzLm9wdGlvbnMuaGVpZ2h0ICogdGhpcy5vcHRpb25zLnNjYWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3R4LmRyYXdJbWFnZShpbWcsIC10aGlzLm9wdGlvbnMueCAqIHRoaXMub3B0aW9ucy5zY2FsZSwgLXRoaXMub3B0aW9ucy55ICogdGhpcy5vcHRpb25zLnNjYWxlKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXM7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgbG9hZFNlcmlhbGl6ZWRTVkcgPSAoc3ZnOiBOb2RlKTogUHJvbWlzZTxIVE1MSW1hZ2VFbGVtZW50PiA9PlxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKGltZyk7XG4gICAgICAgIH07XG4gICAgICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xuXG4gICAgICAgIGltZy5zcmMgPSBgZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJHtlbmNvZGVVUklDb21wb25lbnQobmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyhzdmcpKX1gO1xuICAgIH0pO1xuIiwiaW1wb3J0IHtCb3VuZHMsIHBhcnNlQm91bmRzLCBwYXJzZURvY3VtZW50U2l6ZX0gZnJvbSAnLi9jc3MvbGF5b3V0L2JvdW5kcyc7XG5pbXBvcnQge2NvbG9yLCBDb2xvciwgQ09MT1JTLCBpc1RyYW5zcGFyZW50fSBmcm9tICcuL2Nzcy90eXBlcy9jb2xvcic7XG5pbXBvcnQge1BhcnNlcn0gZnJvbSAnLi9jc3Mvc3ludGF4L3BhcnNlcic7XG5pbXBvcnQge0Nsb25lT3B0aW9ucywgRG9jdW1lbnRDbG9uZXJ9IGZyb20gJy4vZG9tL2RvY3VtZW50LWNsb25lcic7XG5pbXBvcnQge2lzQm9keUVsZW1lbnQsIGlzSFRNTEVsZW1lbnQsIHBhcnNlVHJlZX0gZnJvbSAnLi9kb20vbm9kZS1wYXJzZXInO1xuaW1wb3J0IHtMb2dnZXJ9IGZyb20gJy4vY29yZS9sb2dnZXInO1xuaW1wb3J0IHtDYWNoZVN0b3JhZ2UsIFJlc291cmNlT3B0aW9uc30gZnJvbSAnLi9jb3JlL2NhY2hlLXN0b3JhZ2UnO1xuaW1wb3J0IHtDYW52YXNSZW5kZXJlciwgUmVuZGVyT3B0aW9uc30gZnJvbSAnLi9yZW5kZXIvY2FudmFzL2NhbnZhcy1yZW5kZXJlcic7XG5pbXBvcnQge0ZvcmVpZ25PYmplY3RSZW5kZXJlcn0gZnJvbSAnLi9yZW5kZXIvY2FudmFzL2ZvcmVpZ25vYmplY3QtcmVuZGVyZXInO1xuXG5leHBvcnQgdHlwZSBPcHRpb25zID0gQ2xvbmVPcHRpb25zICZcbiAgICBSZW5kZXJPcHRpb25zICZcbiAgICBSZXNvdXJjZU9wdGlvbnMgJiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogc3RyaW5nIHwgbnVsbDtcbiAgICAgICAgZm9yZWlnbk9iamVjdFJlbmRlcmluZzogYm9vbGVhbjtcbiAgICAgICAgbG9nZ2luZzogYm9vbGVhbjtcbiAgICAgICAgcmVtb3ZlQ29udGFpbmVyPzogYm9vbGVhbjtcbiAgICB9O1xuXG5jb25zdCBwYXJzZUNvbG9yID0gKHZhbHVlOiBzdHJpbmcpOiBDb2xvciA9PiBjb2xvci5wYXJzZShQYXJzZXIuY3JlYXRlKHZhbHVlKS5wYXJzZUNvbXBvbmVudFZhbHVlKCkpO1xuXG5jb25zdCBodG1sMmNhbnZhcyA9IChlbGVtZW50OiBIVE1MRWxlbWVudCwgb3B0aW9uczogUGFydGlhbDxPcHRpb25zPiA9IHt9KTogUHJvbWlzZTxIVE1MQ2FudmFzRWxlbWVudD4gPT4ge1xuICAgIHJldHVybiByZW5kZXJFbGVtZW50KGVsZW1lbnQsIG9wdGlvbnMpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgaHRtbDJjYW52YXM7XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIENhY2hlU3RvcmFnZS5zZXRDb250ZXh0KHdpbmRvdyk7XG59XG5cbmNvbnN0IHJlbmRlckVsZW1lbnQgPSBhc3luYyAoZWxlbWVudDogSFRNTEVsZW1lbnQsIG9wdHM6IFBhcnRpYWw8T3B0aW9ucz4pOiBQcm9taXNlPEhUTUxDYW52YXNFbGVtZW50PiA9PiB7XG4gICAgY29uc3Qgb3duZXJEb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcblxuICAgIGlmICghb3duZXJEb2N1bWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgaXMgbm90IGF0dGFjaGVkIHRvIGEgRG9jdW1lbnRgKTtcbiAgICB9XG5cbiAgICBjb25zdCBkZWZhdWx0VmlldyA9IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cbiAgICBpZiAoIWRlZmF1bHRWaWV3KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRG9jdW1lbnQgaXMgbm90IGF0dGFjaGVkIHRvIGEgV2luZG93YCk7XG4gICAgfVxuXG4gICAgY29uc3QgaW5zdGFuY2VOYW1lID0gKE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDEwMDApICsgRGF0ZS5ub3coKSkudG9TdHJpbmcoMTYpO1xuXG4gICAgY29uc3Qge3dpZHRoLCBoZWlnaHQsIGxlZnQsIHRvcH0gPVxuICAgICAgICBpc0JvZHlFbGVtZW50KGVsZW1lbnQpIHx8IGlzSFRNTEVsZW1lbnQoZWxlbWVudCkgPyBwYXJzZURvY3VtZW50U2l6ZShvd25lckRvY3VtZW50KSA6IHBhcnNlQm91bmRzKGVsZW1lbnQpO1xuXG4gICAgY29uc3QgZGVmYXVsdFJlc291cmNlT3B0aW9ucyA9IHtcbiAgICAgICAgYWxsb3dUYWludDogZmFsc2UsXG4gICAgICAgIGltYWdlVGltZW91dDogMTUwMDAsXG4gICAgICAgIHByb3h5OiB1bmRlZmluZWQsXG4gICAgICAgIHVzZUNPUlM6IGZhbHNlXG4gICAgfTtcblxuICAgIGNvbnN0IHJlc291cmNlT3B0aW9uczogUmVzb3VyY2VPcHRpb25zID0gey4uLmRlZmF1bHRSZXNvdXJjZU9wdGlvbnMsIC4uLm9wdHN9O1xuXG4gICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICBjYWNoZTogb3B0cy5jYWNoZSA/IG9wdHMuY2FjaGUgOiBDYWNoZVN0b3JhZ2UuY3JlYXRlKGluc3RhbmNlTmFtZSwgcmVzb3VyY2VPcHRpb25zKSxcbiAgICAgICAgbG9nZ2luZzogdHJ1ZSxcbiAgICAgICAgcmVtb3ZlQ29udGFpbmVyOiB0cnVlLFxuICAgICAgICBmb3JlaWduT2JqZWN0UmVuZGVyaW5nOiBmYWxzZSxcbiAgICAgICAgc2NhbGU6IGRlZmF1bHRWaWV3LmRldmljZVBpeGVsUmF0aW8gfHwgMSxcbiAgICAgICAgd2luZG93V2lkdGg6IGRlZmF1bHRWaWV3LmlubmVyV2lkdGgsXG4gICAgICAgIHdpbmRvd0hlaWdodDogZGVmYXVsdFZpZXcuaW5uZXJIZWlnaHQsXG4gICAgICAgIHNjcm9sbFg6IGRlZmF1bHRWaWV3LnBhZ2VYT2Zmc2V0LFxuICAgICAgICBzY3JvbGxZOiBkZWZhdWx0Vmlldy5wYWdlWU9mZnNldCxcbiAgICAgICAgeDogbGVmdCxcbiAgICAgICAgeTogdG9wLFxuICAgICAgICB3aWR0aDogTWF0aC5jZWlsKHdpZHRoKSxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLmNlaWwoaGVpZ2h0KSxcbiAgICAgICAgaWQ6IGluc3RhbmNlTmFtZVxuICAgIH07XG5cbiAgICBjb25zdCBvcHRpb25zOiBPcHRpb25zID0gey4uLmRlZmF1bHRPcHRpb25zLCAuLi5yZXNvdXJjZU9wdGlvbnMsIC4uLm9wdHN9O1xuXG4gICAgY29uc3Qgd2luZG93Qm91bmRzID0gbmV3IEJvdW5kcyhvcHRpb25zLnNjcm9sbFgsIG9wdGlvbnMuc2Nyb2xsWSwgb3B0aW9ucy53aW5kb3dXaWR0aCwgb3B0aW9ucy53aW5kb3dIZWlnaHQpO1xuXG4gICAgTG9nZ2VyLmNyZWF0ZSh7aWQ6IGluc3RhbmNlTmFtZSwgZW5hYmxlZDogb3B0aW9ucy5sb2dnaW5nfSk7XG4gICAgTG9nZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlTmFtZSkuZGVidWcoYFN0YXJ0aW5nIGRvY3VtZW50IGNsb25lYCk7XG4gICAgY29uc3QgZG9jdW1lbnRDbG9uZXIgPSBuZXcgRG9jdW1lbnRDbG9uZXIoZWxlbWVudCwge1xuICAgICAgICBpZDogaW5zdGFuY2VOYW1lLFxuICAgICAgICBvbmNsb25lOiBvcHRpb25zLm9uY2xvbmUsXG4gICAgICAgIGlnbm9yZUVsZW1lbnRzOiBvcHRpb25zLmlnbm9yZUVsZW1lbnRzLFxuICAgICAgICBpbmxpbmVJbWFnZXM6IG9wdGlvbnMuZm9yZWlnbk9iamVjdFJlbmRlcmluZyxcbiAgICAgICAgY29weVN0eWxlczogb3B0aW9ucy5mb3JlaWduT2JqZWN0UmVuZGVyaW5nXG4gICAgfSk7XG4gICAgY29uc3QgY2xvbmVkRWxlbWVudCA9IGRvY3VtZW50Q2xvbmVyLmNsb25lZFJlZmVyZW5jZUVsZW1lbnQ7XG4gICAgaWYgKCFjbG9uZWRFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgVW5hYmxlIHRvIGZpbmQgZWxlbWVudCBpbiBjbG9uZWQgaWZyYW1lYCk7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGFpbmVyID0gYXdhaXQgZG9jdW1lbnRDbG9uZXIudG9JRnJhbWUob3duZXJEb2N1bWVudCwgd2luZG93Qm91bmRzKTtcblxuICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtYmFja2dyb3VuZC8jc3BlY2lhbC1iYWNrZ3JvdW5kc1xuICAgIGNvbnN0IGRvY3VtZW50QmFja2dyb3VuZENvbG9yID0gb3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcbiAgICAgICAgPyBwYXJzZUNvbG9yKGdldENvbXB1dGVkU3R5bGUob3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmJhY2tncm91bmRDb2xvciBhcyBzdHJpbmcpXG4gICAgICAgIDogQ09MT1JTLlRSQU5TUEFSRU5UO1xuICAgIGNvbnN0IGJvZHlCYWNrZ3JvdW5kQ29sb3IgPSBvd25lckRvY3VtZW50LmJvZHlcbiAgICAgICAgPyBwYXJzZUNvbG9yKGdldENvbXB1dGVkU3R5bGUob3duZXJEb2N1bWVudC5ib2R5KS5iYWNrZ3JvdW5kQ29sb3IgYXMgc3RyaW5nKVxuICAgICAgICA6IENPTE9SUy5UUkFOU1BBUkVOVDtcblxuICAgIGNvbnN0IGJnQ29sb3IgPSBvcHRzLmJhY2tncm91bmRDb2xvcjtcbiAgICBjb25zdCBkZWZhdWx0QmFja2dyb3VuZENvbG9yID1cbiAgICAgICAgdHlwZW9mIGJnQ29sb3IgPT09ICdzdHJpbmcnID8gcGFyc2VDb2xvcihiZ0NvbG9yKSA6IGJnQ29sb3IgPT09IG51bGwgPyBDT0xPUlMuVFJBTlNQQVJFTlQgOiAweGZmZmZmZmZmO1xuXG4gICAgY29uc3QgYmFja2dyb3VuZENvbG9yID1cbiAgICAgICAgZWxlbWVudCA9PT0gb3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcbiAgICAgICAgICAgID8gaXNUcmFuc3BhcmVudChkb2N1bWVudEJhY2tncm91bmRDb2xvcilcbiAgICAgICAgICAgICAgICA/IGlzVHJhbnNwYXJlbnQoYm9keUJhY2tncm91bmRDb2xvcilcbiAgICAgICAgICAgICAgICAgICAgPyBkZWZhdWx0QmFja2dyb3VuZENvbG9yXG4gICAgICAgICAgICAgICAgICAgIDogYm9keUJhY2tncm91bmRDb2xvclxuICAgICAgICAgICAgICAgIDogZG9jdW1lbnRCYWNrZ3JvdW5kQ29sb3JcbiAgICAgICAgICAgIDogZGVmYXVsdEJhY2tncm91bmRDb2xvcjtcblxuICAgIGNvbnN0IHJlbmRlck9wdGlvbnMgPSB7XG4gICAgICAgIGlkOiBpbnN0YW5jZU5hbWUsXG4gICAgICAgIGNhY2hlOiBvcHRpb25zLmNhY2hlLFxuICAgICAgICBjYW52YXM6IG9wdGlvbnMuY2FudmFzLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIHNjYWxlOiBvcHRpb25zLnNjYWxlLFxuICAgICAgICB4OiBvcHRpb25zLngsXG4gICAgICAgIHk6IG9wdGlvbnMueSxcbiAgICAgICAgc2Nyb2xsWDogb3B0aW9ucy5zY3JvbGxYLFxuICAgICAgICBzY3JvbGxZOiBvcHRpb25zLnNjcm9sbFksXG4gICAgICAgIHdpZHRoOiBvcHRpb25zLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IG9wdGlvbnMuaGVpZ2h0LFxuICAgICAgICB3aW5kb3dXaWR0aDogb3B0aW9ucy53aW5kb3dXaWR0aCxcbiAgICAgICAgd2luZG93SGVpZ2h0OiBvcHRpb25zLndpbmRvd0hlaWdodFxuICAgIH07XG5cbiAgICBsZXQgY2FudmFzO1xuXG4gICAgaWYgKG9wdGlvbnMuZm9yZWlnbk9iamVjdFJlbmRlcmluZykge1xuICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VOYW1lKS5kZWJ1ZyhgRG9jdW1lbnQgY2xvbmVkLCB1c2luZyBmb3JlaWduIG9iamVjdCByZW5kZXJpbmdgKTtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgRm9yZWlnbk9iamVjdFJlbmRlcmVyKHJlbmRlck9wdGlvbnMpO1xuICAgICAgICBjYW52YXMgPSBhd2FpdCByZW5kZXJlci5yZW5kZXIoY2xvbmVkRWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlTmFtZSkuZGVidWcoYERvY3VtZW50IGNsb25lZCwgdXNpbmcgY29tcHV0ZWQgcmVuZGVyaW5nYCk7XG5cbiAgICAgICAgQ2FjaGVTdG9yYWdlLmF0dGFjaEluc3RhbmNlKG9wdGlvbnMuY2FjaGUpO1xuICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VOYW1lKS5kZWJ1ZyhgU3RhcnRpbmcgRE9NIHBhcnNpbmdgKTtcbiAgICAgICAgY29uc3Qgcm9vdCA9IHBhcnNlVHJlZShjbG9uZWRFbGVtZW50KTtcbiAgICAgICAgQ2FjaGVTdG9yYWdlLmRldGFjaEluc3RhbmNlKCk7XG5cbiAgICAgICAgaWYgKGJhY2tncm91bmRDb2xvciA9PT0gcm9vdC5zdHlsZXMuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgICAgICByb290LnN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IgPSBDT0xPUlMuVFJBTlNQQVJFTlQ7XG4gICAgICAgIH1cblxuICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VOYW1lKS5kZWJ1ZyhgU3RhcnRpbmcgcmVuZGVyZXJgKTtcblxuICAgICAgICBjb25zdCByZW5kZXJlciA9IG5ldyBDYW52YXNSZW5kZXJlcihyZW5kZXJPcHRpb25zKTtcbiAgICAgICAgY2FudmFzID0gYXdhaXQgcmVuZGVyZXIucmVuZGVyKHJvb3QpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnJlbW92ZUNvbnRhaW5lciA9PT0gdHJ1ZSkge1xuICAgICAgICBpZiAoIURvY3VtZW50Q2xvbmVyLmRlc3Ryb3koY29udGFpbmVyKSkge1xuICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlTmFtZSkuZXJyb3IoYENhbm5vdCBkZXRhY2ggY2xvbmVkIGlmcmFtZSBhcyBpdCBpcyBub3QgaW4gdGhlIERPTSBhbnltb3JlYCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBMb2dnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VOYW1lKS5kZWJ1ZyhgRmluaXNoZWQgcmVuZGVyaW5nYCk7XG4gICAgTG9nZ2VyLmRlc3Ryb3koaW5zdGFuY2VOYW1lKTtcbiAgICBDYWNoZVN0b3JhZ2UuZGVzdHJveShpbnN0YW5jZU5hbWUpO1xuICAgIHJldHVybiBjYW52YXM7XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNyR0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQU1BO0FBQ0E7QUFDQTs7Ozs7O0FDL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDL0dBO0FBQ0E7O0FBR0E7Ozs7Ozs7QUFRQTs7Ozs7QUFNQTs7Ozs7OztBQVFBOztBQUdBOztBQUVBO0FBRUE7O0FBRUE7Ozs7O0FBS0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQWFBOzs7OztBQU1BOztBQUdBOztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBUUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FDOUtBO0FBQ0E7QUNEQTtBQU9BOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnREE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7O0FBR0E7QUFFQTtBQUVBO0FBQ0E7O0FBR0E7QUFFQTtBQUVBO0FBQ0E7O0FBR0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUVBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUNBOztBQUdBO0FBRUE7QUFFQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7O0FBR0E7QUFFQTtBQUVBO0FBQ0E7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUEwQkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzFuQkE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFxRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FDcndCQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FDdkxBO0FBQ0E7QUFBQTtBQUNBO0FDREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FDaERBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FDOUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM3U0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDUkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFPQTtBQUNBO0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBTUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFNQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUNsTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FDckJBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzdKQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFBQTtBQUFBOztBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFBQTtBQUFBOztBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkVBO0FBb0VBO0FBckVBO0FBQ0E7QUNIQTtBQUFBO0FBMERBO0FBcERBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQXhEQTtBQUVBO0FBQ0E7QUFzREE7QUExREE7QUFtRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUFBOzs7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBbkJBOzs7O0FBb0JBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQ2hNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FDdkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQ3ZGQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFrQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2hIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNkQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN0Q0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDaEJBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDNEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUNsSEE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUN2QkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FDakJBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3BCQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMvS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1hBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM3QkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2JBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDeEJBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsREE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUMzQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQzNCQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2QkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUN4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1ZBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3hCQTtBQUNBO0FDS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FDeENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2lCQTtBQStEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUM1UkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUN4QkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQ3JGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUNqQ0E7QUFBQTtBQUtBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQ2RBO0FBQUE7QUFLQTtBQUFBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FDWEE7QUFBQTtBQUtBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FDakJBO0FBQUE7QUFHQTtBQUFBO0FBRUE7O0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUNSQTtBQUFBO0FBSUE7QUFBQTtBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUtBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUM1RUE7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FDUkE7QUFBQTtBQUVBO0FBQUE7QUFFQTs7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQ0hBO0FBRUE7QUFBQTtBQU9BO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FDakNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNuSEE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQU9BO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFRQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQVFBO0FBQ0E7QUFRQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDcmtCQTtBQUVBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBOzs7O0FBTUE7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBQUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE4REE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBOztBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNyakJBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2pDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUNkQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUN6Q0E7QUFjQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFJQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFJQTtBQUNBO0FBQ0E7QUFPQTtBQUlBO0FBQ0E7QUFDQTtBQU9BO0FBSUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBTUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDL05BO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUN0Q0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2TEE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBTUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FDOURBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQ25CQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBS0E7QUFLQTtBQU1BO0FBRUE7QUFNQTtBQVFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUdBOztBQUVBO0FBQ0E7QUFDQTs7O0FBS0E7QUFDQTtBQUNBOzs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTs7Ozs7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFJQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQ25TQTtBQUNBO0FDS0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUNYQTtBQUVBO0FBT0E7QUFIQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBOzs7Ozs7QUFFQTtBQUVBOzs7OztBQUNBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTs7Ozs7O0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFBQTtBQUFBO0FBQ0E7O0FBQUE7OztBQURBOzs7QUFJQTs7OztBQUVBOztBQUFBO0FBQ0E7Ozs7QUFFQTs7O0FBSUE7QUFDQTtBQUNBO0FBRUE7Ozs7QUFFQTs7QUFBQTtBQUNBOzs7O0FBRUE7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUFBO0FBQ0E7QUFDQTtBQVdBOzs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBRUE7O0FBQUE7QUFDQTs7OztBQUVBOzs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUVBO0FBRUE7Ozs7Ozs7O0FBR0E7Ozs7QUFBQTtBQUVBOzs7QUFBQTtBQUFBO0FBQ0E7O0FBQUE7OztBQURBOzs7O0FBSUE7OztBQUFBO0FBRUE7OztBQUFBO0FBQUE7QUFDQTs7QUFBQTs7O0FBREE7OztBQU9BOzs7QUFBQTtBQUFBO0FBQ0E7O0FBQUE7OztBQURBOzs7QUFJQTs7O0FBQUE7QUFBQTtBQUNBOztBQUFBOzs7QUFEQTs7O0FBR0E7OztBQUFBO0FBQUE7QUFDQTs7QUFBQTs7O0FBREE7OztBQWFBOzs7QUFBQTtBQUFBO0FBQ0E7O0FBQUE7OztBQURBOzs7QUFLQTs7O0FBQUE7QUFBQTtBQUNBOztBQUFBOzs7QUFEQTs7Ozs7O0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBQ0E7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFFQTs7QUFBQTs7OztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTs7Ozs7O0FBakZBOzs7QUFBQTtBQUFBO0FBQUE7Ozs7O0FBQUE7Ozs7OztBQW1GQTtBQUVBOzs7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUVBOzs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7OztBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUFBOzs7QUFFQTs7O0FBSkE7Ozs7OztBQU1BO0FBRUE7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBRUE7QUFFQTs7QUFBQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDenZCQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUVBOzs7Ozs7QUFDQTtBQVFBOztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOzs7O0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUkE7QUFDQTtBQ3BEQTtBQW1CQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBRUE7Ozs7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBOztBQUFBOzs7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBOztBQUFBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7Ozs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/html2canvas/dist/html2canvas.js\n");

/***/ })

}]);